function j3(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mx={exports:{}},Pf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z3=Symbol.for("react.transitional.element"),H3=Symbol.for("react.fragment");function px(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:z3,type:e,key:i,ref:t!==void 0?t:null,props:n}}Pf.Fragment=H3;Pf.jsx=px;Pf.jsxs=px;mx.exports=Pf;var L=mx.exports,yx={exports:{}},Ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=Symbol.for("react.transitional.element"),G3=Symbol.for("react.portal"),Y3=Symbol.for("react.fragment"),q3=Symbol.for("react.strict_mode"),X3=Symbol.for("react.profiler"),Q3=Symbol.for("react.consumer"),W3=Symbol.for("react.context"),K3=Symbol.for("react.forward_ref"),Z3=Symbol.for("react.suspense"),J3=Symbol.for("react.memo"),xx=Symbol.for("react.lazy"),$3=Symbol.for("react.activity"),e2=Symbol.iterator;function tT(e){return e===null||typeof e!="object"?null:(e=e2&&e[e2]||e["@@iterator"],typeof e=="function"?e:null)}var Ex={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ax=Object.assign,wx={};function Bl(e,t,n){this.props=e,this.context=t,this.refs=wx,this.updater=n||Ex}Bl.prototype.isReactComponent={};Bl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _x(){}_x.prototype=Bl.prototype;function ng(e,t,n){this.props=e,this.context=t,this.refs=wx,this.updater=n||Ex}var ig=ng.prototype=new _x;ig.constructor=ng;Ax(ig,Bl.prototype);ig.isPureReactComponent=!0;var n2=Array.isArray;function S0(){}var ze={H:null,A:null,T:null,S:null},Tx=Object.prototype.hasOwnProperty;function rg(e,t,n){var i=n.ref;return{$$typeof:eg,type:e,key:t,ref:i!==void 0?i:null,props:n}}function eT(e,t){return rg(e.type,t,e.props)}function sg(e){return typeof e=="object"&&e!==null&&e.$$typeof===eg}function nT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var i2=/\/+/g;function bd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nT(""+e.key):t.toString(36)}function iT(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(S0,S0):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ko(e,t,n,i,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(o){case"bigint":case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case eg:case G3:h=!0;break;case xx:return h=e._init,ko(h(e._payload),t,n,i,s)}}if(h)return s=s(e),h=i===""?"."+bd(e,0):i,n2(s)?(n="",h!=null&&(n=h.replace(i2,"$&/")+"/"),ko(s,t,n,"",function(y){return y})):s!=null&&(sg(s)&&(s=eT(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(i2,"$&/")+"/")+h)),t.push(s)),1;h=0;var m=i===""?".":i+":";if(n2(e))for(var x=0;x<e.length;x++)i=e[x],o=m+bd(i,x),h+=ko(i,t,n,o,s);else if(x=tT(e),typeof x=="function")for(e=x.call(e),x=0;!(i=e.next()).done;)i=i.value,o=m+bd(i,x++),h+=ko(i,t,n,o,s);else if(o==="object"){if(typeof e.then=="function")return ko(iT(e),t,n,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return h}function Xc(e,t,n){if(e==null)return e;var i=[],s=0;return ko(e,i,"","",function(o){return t.call(n,o,s++)}),i}function rT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var r2=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sT={map:Xc,forEach:function(e,t,n){Xc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xc(e,function(){t++}),t},toArray:function(e){return Xc(e,function(t){return t})||[]},only:function(e){if(!sg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ut.Activity=$3;Ut.Children=sT;Ut.Component=Bl;Ut.Fragment=Y3;Ut.Profiler=X3;Ut.PureComponent=ng;Ut.StrictMode=q3;Ut.Suspense=Z3;Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ze;Ut.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ze.H.useMemoCache(e)}};Ut.cache=function(e){return function(){return e.apply(null,arguments)}};Ut.cacheSignal=function(){return null};Ut.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Ax({},e.props),s=e.key;if(t!=null)for(o in t.key!==void 0&&(s=""+t.key),t)!Tx.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(i[o]=t[o]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var h=Array(o),m=0;m<o;m++)h[m]=arguments[m+2];i.children=h}return rg(e.type,s,i)};Ut.createContext=function(e){return e={$$typeof:W3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Q3,_context:e},e};Ut.createElement=function(e,t,n){var i,s={},o=null;if(t!=null)for(i in t.key!==void 0&&(o=""+t.key),t)Tx.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var h=arguments.length-2;if(h===1)s.children=n;else if(1<h){for(var m=Array(h),x=0;x<h;x++)m[x]=arguments[x+2];s.children=m}if(e&&e.defaultProps)for(i in h=e.defaultProps,h)s[i]===void 0&&(s[i]=h[i]);return rg(e,o,s)};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(e){return{$$typeof:K3,render:e}};Ut.isValidElement=sg;Ut.lazy=function(e){return{$$typeof:xx,_payload:{_status:-1,_result:e},_init:rT}};Ut.memo=function(e,t){return{$$typeof:J3,type:e,compare:t===void 0?null:t}};Ut.startTransition=function(e){var t=ze.T,n={};ze.T=n;try{var i=e(),s=ze.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(S0,r2)}catch(o){r2(o)}finally{t!==null&&n.types!==null&&(t.types=n.types),ze.T=t}};Ut.unstable_useCacheRefresh=function(){return ze.H.useCacheRefresh()};Ut.use=function(e){return ze.H.use(e)};Ut.useActionState=function(e,t,n){return ze.H.useActionState(e,t,n)};Ut.useCallback=function(e,t){return ze.H.useCallback(e,t)};Ut.useContext=function(e){return ze.H.useContext(e)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(e,t){return ze.H.useDeferredValue(e,t)};Ut.useEffect=function(e,t){return ze.H.useEffect(e,t)};Ut.useEffectEvent=function(e){return ze.H.useEffectEvent(e)};Ut.useId=function(){return ze.H.useId()};Ut.useImperativeHandle=function(e,t,n){return ze.H.useImperativeHandle(e,t,n)};Ut.useInsertionEffect=function(e,t){return ze.H.useInsertionEffect(e,t)};Ut.useLayoutEffect=function(e,t){return ze.H.useLayoutEffect(e,t)};Ut.useMemo=function(e,t){return ze.H.useMemo(e,t)};Ut.useOptimistic=function(e,t){return ze.H.useOptimistic(e,t)};Ut.useReducer=function(e,t,n){return ze.H.useReducer(e,t,n)};Ut.useRef=function(e){return ze.H.useRef(e)};Ut.useState=function(e){return ze.H.useState(e)};Ut.useSyncExternalStore=function(e,t,n){return ze.H.useSyncExternalStore(e,t,n)};Ut.useTransition=function(){return ze.H.useTransition()};Ut.version="19.2.0";yx.exports=Ut;var Jt=yx.exports;const aT=tg(Jt);var Cx={exports:{}},kf={},bx={exports:{}},Sx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ft,pt){var St=ft.length;ft.push(pt);t:for(;0<St;){var Yt=St-1>>>1,ie=ft[Yt];if(0<s(ie,pt))ft[Yt]=pt,ft[St]=ie,St=Yt;else break t}}function n(ft){return ft.length===0?null:ft[0]}function i(ft){if(ft.length===0)return null;var pt=ft[0],St=ft.pop();if(St!==pt){ft[0]=St;t:for(var Yt=0,ie=ft.length,zi=ie>>>1;Yt<zi;){var Be=2*(Yt+1)-1,On=ft[Be],pe=Be+1,Yn=ft[pe];if(0>s(On,St))pe<ie&&0>s(Yn,On)?(ft[Yt]=Yn,ft[pe]=St,Yt=pe):(ft[Yt]=On,ft[Be]=St,Yt=Be);else if(pe<ie&&0>s(Yn,St))ft[Yt]=Yn,ft[pe]=St,Yt=pe;else break t}}return pt}function s(ft,pt){var St=ft.sortIndex-pt.sortIndex;return St!==0?St:ft.id-pt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var h=Date,m=h.now();e.unstable_now=function(){return h.now()-m}}var x=[],y=[],w=1,T=null,v=3,I=!1,X=!1,q=!1,J=!1,V=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function j(ft){for(var pt=n(y);pt!==null;){if(pt.callback===null)i(y);else if(pt.startTime<=ft)i(y),pt.sortIndex=pt.expirationTime,t(x,pt);else break;pt=n(y)}}function st(ft){if(q=!1,j(ft),!X)if(n(x)!==null)X=!0,at||(at=!0,G());else{var pt=n(y);pt!==null&&nt(st,pt.startTime-ft)}}var at=!1,M=-1,D=5,R=-1;function z(){return J?!0:!(e.unstable_now()-R<D)}function H(){if(J=!1,at){var ft=e.unstable_now();R=ft;var pt=!0;try{t:{X=!1,q&&(q=!1,O(M),M=-1),I=!0;var St=v;try{e:{for(j(ft),T=n(x);T!==null&&!(T.expirationTime>ft&&z());){var Yt=T.callback;if(typeof Yt=="function"){T.callback=null,v=T.priorityLevel;var ie=Yt(T.expirationTime<=ft);if(ft=e.unstable_now(),typeof ie=="function"){T.callback=ie,j(ft),pt=!0;break e}T===n(x)&&i(x),j(ft)}else i(x);T=n(x)}if(T!==null)pt=!0;else{var zi=n(y);zi!==null&&nt(st,zi.startTime-ft),pt=!1}}break t}finally{T=null,v=St,I=!1}pt=void 0}}finally{pt?G():at=!1}}}var G;if(typeof P=="function")G=function(){P(H)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Gt=F.port2;F.port1.onmessage=H,G=function(){Gt.postMessage(null)}}else G=function(){V(H,0)};function nt(ft,pt){M=V(function(){ft(e.unstable_now())},pt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ft){ft.callback=null},e.unstable_forceFrameRate=function(ft){0>ft||125<ft?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ft?Math.floor(1e3/ft):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(ft){switch(v){case 1:case 2:case 3:var pt=3;break;default:pt=v}var St=v;v=pt;try{return ft()}finally{v=St}},e.unstable_requestPaint=function(){J=!0},e.unstable_runWithPriority=function(ft,pt){switch(ft){case 1:case 2:case 3:case 4:case 5:break;default:ft=3}var St=v;v=ft;try{return pt()}finally{v=St}},e.unstable_scheduleCallback=function(ft,pt,St){var Yt=e.unstable_now();switch(typeof St=="object"&&St!==null?(St=St.delay,St=typeof St=="number"&&0<St?Yt+St:Yt):St=Yt,ft){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=St+ie,ft={id:w++,callback:pt,priorityLevel:ft,startTime:St,expirationTime:ie,sortIndex:-1},St>Yt?(ft.sortIndex=St,t(y,ft),n(x)===null&&ft===n(y)&&(q?(O(M),M=-1):q=!0,nt(st,St-Yt))):(ft.sortIndex=ie,t(x,ft),X||I||(X=!0,at||(at=!0,G()))),ft},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(ft){var pt=v;return function(){var St=v;v=pt;try{return ft.apply(this,arguments)}finally{v=St}}}})(Sx);bx.exports=Sx;var oT=bx.exports,vx={exports:{}},$n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT=Jt;function Ix(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ks(){}var Jn={d:{f:ks,r:function(){throw Error(Ix(522))},D:ks,C:ks,L:ks,m:ks,X:ks,S:ks,M:ks},p:0,findDOMNode:null},uT=Symbol.for("react.portal");function cT(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uT,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var vu=lT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Vf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}$n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Jn;$n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Ix(299));return cT(e,t,null,n)};$n.flushSync=function(e){var t=vu.T,n=Jn.p;try{if(vu.T=null,Jn.p=2,e)return e()}finally{vu.T=t,Jn.p=n,Jn.d.f()}};$n.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Jn.d.C(e,t))};$n.prefetchDNS=function(e){typeof e=="string"&&Jn.d.D(e)};$n.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Vf(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Jn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:o}):n==="script"&&Jn.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};$n.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Vf(t.as,t.crossOrigin);Jn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Jn.d.M(e)};$n.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Vf(n,t.crossOrigin);Jn.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};$n.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Vf(t.as,t.crossOrigin);Jn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Jn.d.m(e)};$n.requestFormReset=function(e){Jn.d.r(e)};$n.unstable_batchedUpdates=function(e,t){return e(t)};$n.useFormState=function(e,t,n){return vu.H.useFormState(e,t,n)};$n.useFormStatus=function(){return vu.H.useHostTransitionStatus()};$n.version="19.2.0";function Nx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nx)}catch(e){console.error(e)}}Nx(),vx.exports=$n;var hT=vx.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tn=oT,Rx=Jt,fT=hT;function rt(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Mx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ec(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Dx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ox(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function s2(e){if(Ec(e)!==e)throw Error(rt(188))}function dT(e){var t=e.alternate;if(!t){if(t=Ec(e),t===null)throw Error(rt(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return s2(s),e;if(o===i)return s2(s),t;o=o.sibling}throw Error(rt(188))}if(n.return!==i.return)n=s,i=o;else{for(var h=!1,m=s.child;m;){if(m===n){h=!0,n=s,i=o;break}if(m===i){h=!0,i=s,n=o;break}m=m.sibling}if(!h){for(m=o.child;m;){if(m===n){h=!0,n=o,i=s;break}if(m===i){h=!0,i=o,n=s;break}m=m.sibling}if(!h)throw Error(rt(189))}}if(n.alternate!==i)throw Error(rt(190))}if(n.tag!==3)throw Error(rt(188));return n.stateNode.current===n?e:t}function Lx(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Lx(e),t!==null)return t;e=e.sibling}return null}var He=Object.assign,gT=Symbol.for("react.element"),Qc=Symbol.for("react.transitional.element"),yu=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),Bx=Symbol.for("react.strict_mode"),v0=Symbol.for("react.profiler"),Px=Symbol.for("react.consumer"),hs=Symbol.for("react.context"),ag=Symbol.for("react.forward_ref"),I0=Symbol.for("react.suspense"),N0=Symbol.for("react.suspense_list"),og=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),R0=Symbol.for("react.activity"),mT=Symbol.for("react.memo_cache_sentinel"),a2=Symbol.iterator;function cu(e){return e===null||typeof e!="object"?null:(e=a2&&e[a2]||e["@@iterator"],typeof e=="function"?e:null)}var pT=Symbol.for("react.client.reference");function M0(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pT?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yo:return"Fragment";case v0:return"Profiler";case Bx:return"StrictMode";case I0:return"Suspense";case N0:return"SuspenseList";case R0:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case yu:return"Portal";case hs:return e.displayName||"Context";case Px:return(e._context.displayName||"Context")+".Consumer";case ag:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case og:return t=e.displayName||null,t!==null?t:M0(e.type)||"Memo";case Fs:t=e._payload,e=e._init;try{return M0(e(t))}catch{}}return null}var xu=Array.isArray,Mt=Rx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=fT.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ka={pending:!1,data:null,method:null,action:null},D0=[],qo=-1;function Yr(e){return{current:e}}function Dn(e){0>qo||(e.current=D0[qo],D0[qo]=null,qo--)}function Le(e,t){qo++,D0[qo]=e.current,e.current=t}var kr=Yr(null),Qu=Yr(null),$s=Yr(null),Uh=Yr(null);function Fh(e,t){switch(Le($s,t),Le(Qu,e),Le(kr,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=fp(t),e=nw(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Dn(kr),Le(kr,e)}function gl(){Dn(kr),Dn(Qu),Dn($s)}function O0(e){e.memoizedState!==null&&Le(Uh,e);var t=kr.current,n=nw(t,e.type);t!==n&&(Le(Qu,e),Le(kr,n))}function jh(e){Qu.current===e&&(Dn(kr),Dn(Qu)),Uh.current===e&&(Dn(Uh),sc._currentValue=Ka)}var Sd,o2;function za(e){if(Sd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sd=t&&t[1]||"",o2=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sd+e+o2}var vd=!1;function Id(e,t){if(!e||vd)return"";vd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var T=function(){throw Error()};if(Object.defineProperty(T.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(T,[])}catch(I){var v=I}Reflect.construct(e,[],T)}else{try{T.call()}catch(I){v=I}e.call(T.prototype)}}else{try{throw Error()}catch(I){v=I}(T=e())&&typeof T.catch=="function"&&T.catch(function(){})}}catch(I){if(I&&v&&typeof I.stack=="string")return[I.stack,v.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),h=o[0],m=o[1];if(h&&m){var x=h.split(`
`),y=m.split(`
`);for(s=i=0;i<x.length&&!x[i].includes("DetermineComponentFrameRoot");)i++;for(;s<y.length&&!y[s].includes("DetermineComponentFrameRoot");)s++;if(i===x.length||s===y.length)for(i=x.length-1,s=y.length-1;1<=i&&0<=s&&x[i]!==y[s];)s--;for(;1<=i&&0<=s;i--,s--)if(x[i]!==y[s]){if(i!==1||s!==1)do if(i--,s--,0>s||x[i]!==y[s]){var w=`
`+x[i].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=i&&0<=s);break}}}finally{vd=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?za(n):""}function yT(e,t){switch(e.tag){case 26:case 27:case 5:return za(e.type);case 16:return za("Lazy");case 13:return e.child!==t&&t!==null?za("Suspense Fallback"):za("Suspense");case 19:return za("SuspenseList");case 0:case 15:return Id(e.type,!1);case 11:return Id(e.type.render,!1);case 1:return Id(e.type,!0);case 31:return za("Activity");default:return""}}function l2(e){try{var t="",n=null;do t+=yT(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var L0=Object.prototype.hasOwnProperty,lg=Tn.unstable_scheduleCallback,Nd=Tn.unstable_cancelCallback,xT=Tn.unstable_shouldYield,ET=Tn.unstable_requestPaint,Bi=Tn.unstable_now,AT=Tn.unstable_getCurrentPriorityLevel,kx=Tn.unstable_ImmediatePriority,Vx=Tn.unstable_UserBlockingPriority,zh=Tn.unstable_NormalPriority,wT=Tn.unstable_LowPriority,Ux=Tn.unstable_IdlePriority,_T=Tn.log,TT=Tn.unstable_setDisableYieldValue,Ac=null,Pi=null;function qs(e){if(typeof _T=="function"&&TT(e),Pi&&typeof Pi.setStrictMode=="function")try{Pi.setStrictMode(Ac,e)}catch{}}var ki=Math.clz32?Math.clz32:ST,CT=Math.log,bT=Math.LN2;function ST(e){return e>>>=0,e===0?32:31-(CT(e)/bT|0)|0}var Wc=256,Kc=262144,Zc=4194304;function Ha(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Uf(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,o=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var m=i&134217727;return m!==0?(i=m&~o,i!==0?s=Ha(i):(h&=m,h!==0?s=Ha(h):n||(n=m&~e,n!==0&&(s=Ha(n))))):(m=i&~o,m!==0?s=Ha(m):h!==0?s=Ha(h):n||(n=i&~e,n!==0&&(s=Ha(n)))),s===0?0:t!==0&&t!==s&&!(t&o)&&(o=s&-s,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:s}function wc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function vT(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fx(){var e=Zc;return Zc<<=1,!(Zc&62914560)&&(Zc=4194304),e}function Rd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _c(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function IT(e,t,n,i,s,o){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var m=e.entanglements,x=e.expirationTimes,y=e.hiddenUpdates;for(n=h&~n;0<n;){var w=31-ki(n),T=1<<w;m[w]=0,x[w]=-1;var v=y[w];if(v!==null)for(y[w]=null,w=0;w<v.length;w++){var I=v[w];I!==null&&(I.lane&=-536870913)}n&=~T}i!==0&&jx(e,i,0),o!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=o&~(h&~t))}function jx(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ki(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function zx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ki(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function Hx(e,t){var n=t&-t;return n=n&42?1:ug(n),n&(e.suspendedLanes|t)?0:n}function ug(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cg(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Gx(){var e=me.p;return e!==0?e:(e=window.event,e===void 0?32:dw(e.type))}function u2(e,t){var n=me.p;try{return me.p=e,t()}finally{me.p=n}}var ba=Math.random().toString(36).slice(2),Un="__reactFiber$"+ba,mi="__reactProps$"+ba,Pl="__reactContainer$"+ba,B0="__reactEvents$"+ba,NT="__reactListeners$"+ba,RT="__reactHandles$"+ba,c2="__reactResources$"+ba,Tc="__reactMarker$"+ba;function hg(e){delete e[Un],delete e[mi],delete e[B0],delete e[NT],delete e[RT]}function Xo(e){var t=e[Un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pl]||n[Un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yp(e);e!==null;){if(n=e[Un])return n;e=yp(e)}return t}e=n,n=e.parentNode}return null}function kl(e){if(e=e[Un]||e[Pl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Eu(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(rt(33))}function rl(e){var t=e[c2];return t||(t=e[c2]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Mn(e){e[Tc]=!0}var Yx=new Set,qx={};function ho(e,t){ml(e,t),ml(e+"Capture",t)}function ml(e,t){for(qx[e]=t,e=0;e<t.length;e++)Yx.add(t[e])}var MT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),h2={},f2={};function DT(e){return L0.call(f2,e)?!0:L0.call(h2,e)?!1:MT.test(e)?f2[e]=!0:(h2[e]=!0,!1)}function yh(e,t,n){if(DT(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Jc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function rs(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Ki(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function OT(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(h){n=""+h,o.call(this,h)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function P0(e){if(!e._valueTracker){var t=Xx(e)?"checked":"value";e._valueTracker=OT(e,t,""+e[t])}}function Qx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Xx(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Hh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var LT=/[\n"\\]/g;function $i(e){return e.replace(LT,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function k0(e,t,n,i,s,o,h,m){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ki(t)):e.value!==""+Ki(t)&&(e.value=""+Ki(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?V0(e,h,Ki(t)):n!=null?V0(e,h,Ki(n)):i!=null&&e.removeAttribute("value"),s==null&&o!=null&&(e.defaultChecked=!!o),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+Ki(m):e.removeAttribute("name")}function Wx(e,t,n,i,s,o,h,m){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){P0(e);return}n=n!=null?""+Ki(n):"",t=t!=null?""+Ki(t):n,m||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=m?e.checked:!!i,e.defaultChecked=!!i,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),P0(e)}function V0(e,t,n){t==="number"&&Hh(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function sl(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ki(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Kx(e,t,n){if(t!=null&&(t=""+Ki(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ki(n):""}function Zx(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(rt(92));if(xu(i)){if(1<i.length)throw Error(rt(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ki(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),P0(e)}function pl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var BT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function d2(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||BT.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Jx(e,t,n){if(t!=null&&typeof t!="object")throw Error(rt(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&d2(e,s,i)}else for(var o in t)t.hasOwnProperty(o)&&d2(e,o,t[o])}function fg(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xh(e){return kT.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fs(){}var U0=null;function dg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qo=null,al=null;function g2(e){var t=kl(e);if(t&&(e=t.stateNode)){var n=e[mi]||null;t:switch(e=t.stateNode,t.type){case"input":if(k0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$i(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[mi]||null;if(!s)throw Error(rt(90));k0(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Qx(i)}break t;case"textarea":Kx(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&sl(e,!!n.multiple,t,!1)}}}var Md=!1;function $x(e,t,n){if(Md)return e(t,n);Md=!0;try{var i=e(t);return i}finally{if(Md=!1,(Qo!==null||al!==null)&&(Zf(),Qo&&(t=Qo,e=al,al=Qo=null,g2(t),e)))for(t=0;t<e.length;t++)g2(e[t])}}function Wu(e,t){var n=e.stateNode;if(n===null)return null;var i=n[mi]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(rt(231,t,typeof n));return n}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),F0=!1;if(xs)try{var hu={};Object.defineProperty(hu,"passive",{get:function(){F0=!0}}),window.addEventListener("test",hu,hu),window.removeEventListener("test",hu,hu)}catch{F0=!1}var Xs=null,gg=null,Eh=null;function tE(){if(Eh)return Eh;var e,t=gg,n=t.length,i,s="value"in Xs?Xs.value:Xs.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var h=n-e;for(i=1;i<=h&&t[n-i]===s[o-i];i++);return Eh=s.slice(e,1<i?1-i:void 0)}function Ah(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $c(){return!0}function m2(){return!1}function pi(e){function t(n,i,s,o,h){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(o):o[m]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$c:m2,this.isPropagationStopped=m2,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),t}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ff=pi(fo),Cc=He({},fo,{view:0,detail:0}),VT=pi(Cc),Dd,Od,fu,jf=He({},Cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fu&&(fu&&e.type==="mousemove"?(Dd=e.screenX-fu.screenX,Od=e.screenY-fu.screenY):Od=Dd=0,fu=e),Dd)},movementY:function(e){return"movementY"in e?e.movementY:Od}}),p2=pi(jf),UT=He({},jf,{dataTransfer:0}),FT=pi(UT),jT=He({},Cc,{relatedTarget:0}),Ld=pi(jT),zT=He({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),HT=pi(zT),GT=He({},fo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YT=pi(GT),qT=He({},fo,{data:0}),y2=pi(qT),XT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=WT[e])?!!t[e]:!1}function mg(){return KT}var ZT=He({},Cc,{key:function(e){if(e.key){var t=XT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ah(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mg,charCode:function(e){return e.type==="keypress"?Ah(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ah(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),JT=pi(ZT),$T=He({},jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x2=pi($T),tC=He({},Cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mg}),eC=pi(tC),nC=He({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),iC=pi(nC),rC=He({},jf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sC=pi(rC),aC=He({},fo,{newState:0,oldState:0}),oC=pi(aC),lC=[9,13,27,32],pg=xs&&"CompositionEvent"in window,Iu=null;xs&&"documentMode"in document&&(Iu=document.documentMode);var uC=xs&&"TextEvent"in window&&!Iu,eE=xs&&(!pg||Iu&&8<Iu&&11>=Iu),E2=" ",A2=!1;function nE(e,t){switch(e){case"keyup":return lC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wo=!1;function cC(e,t){switch(e){case"compositionend":return iE(t);case"keypress":return t.which!==32?null:(A2=!0,E2);case"textInput":return e=t.data,e===E2&&A2?null:e;default:return null}}function hC(e,t){if(Wo)return e==="compositionend"||!pg&&nE(e,t)?(e=tE(),Eh=gg=Xs=null,Wo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eE&&t.locale!=="ko"?null:t.data;default:return null}}var fC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fC[e.type]:t==="textarea"}function rE(e,t,n,i){Qo?al?al.push(i):al=[i]:Qo=i,t=lf(t,"onChange"),0<t.length&&(n=new Ff("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Nu=null,Ku=null;function dC(e){$A(e,0)}function zf(e){var t=Eu(e);if(Qx(t))return e}function _2(e,t){if(e==="change")return t}var sE=!1;if(xs){var Bd;if(xs){var Pd="oninput"in document;if(!Pd){var T2=document.createElement("div");T2.setAttribute("oninput","return;"),Pd=typeof T2.oninput=="function"}Bd=Pd}else Bd=!1;sE=Bd&&(!document.documentMode||9<document.documentMode)}function C2(){Nu&&(Nu.detachEvent("onpropertychange",aE),Ku=Nu=null)}function aE(e){if(e.propertyName==="value"&&zf(Ku)){var t=[];rE(t,Ku,e,dg(e)),$x(dC,t)}}function gC(e,t,n){e==="focusin"?(C2(),Nu=t,Ku=n,Nu.attachEvent("onpropertychange",aE)):e==="focusout"&&C2()}function mC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zf(Ku)}function pC(e,t){if(e==="click")return zf(t)}function yC(e,t){if(e==="input"||e==="change")return zf(t)}function xC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ui=typeof Object.is=="function"?Object.is:xC;function Zu(e,t){if(Ui(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!L0.call(t,s)||!Ui(e[s],t[s]))return!1}return!0}function b2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function S2(e,t){var n=b2(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=b2(n)}}function oE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lE(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Hh(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hh(e.document)}return t}function yg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var EC=xs&&"documentMode"in document&&11>=document.documentMode,Ko=null,j0=null,Ru=null,z0=!1;function v2(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;z0||Ko==null||Ko!==Hh(i)||(i=Ko,"selectionStart"in i&&yg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ru&&Zu(Ru,i)||(Ru=i,i=lf(j0,"onSelect"),0<i.length&&(t=new Ff("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ko)))}function ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zo={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},kd={},uE={};xs&&(uE=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function go(e){if(kd[e])return kd[e];if(!Zo[e])return e;var t=Zo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uE)return kd[e]=t[n];return e}var cE=go("animationend"),hE=go("animationiteration"),fE=go("animationstart"),AC=go("transitionrun"),wC=go("transitionstart"),_C=go("transitioncancel"),dE=go("transitionend"),gE=new Map,H0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");H0.push("scrollEnd");function pr(e,t){gE.set(e,t),ho(t,[e])}var Gh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wi=[],Jo=0,xg=0;function Hf(){for(var e=Jo,t=xg=Jo=0;t<e;){var n=Wi[t];Wi[t++]=null;var i=Wi[t];Wi[t++]=null;var s=Wi[t];Wi[t++]=null;var o=Wi[t];if(Wi[t++]=null,i!==null&&s!==null){var h=i.pending;h===null?s.next=s:(s.next=h.next,h.next=s),i.pending=s}o!==0&&mE(n,s,o)}}function Gf(e,t,n,i){Wi[Jo++]=e,Wi[Jo++]=t,Wi[Jo++]=n,Wi[Jo++]=i,xg|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Eg(e,t,n,i){return Gf(e,t,n,i),Yh(e)}function mo(e,t){return Gf(e,null,null,t),Yh(e)}function mE(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,o=e.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(s=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,s&&t!==null&&(s=31-ki(n),e=o.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),o):null}function Yh(e){if(50<Uu)throw Uu=0,c1=null,Error(rt(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $o={};function TC(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(e,t,n,i){return new TC(e,t,n,i)}function Ag(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ms(e,t){var n=e.alternate;return n===null?(n=Mi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function pE(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function wh(e,t,n,i,s,o){var h=0;if(i=e,typeof e=="function")Ag(e)&&(h=1);else if(typeof e=="string")h=Ib(e,n,kr.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R0:return e=Mi(31,n,t,s),e.elementType=R0,e.lanes=o,e;case Yo:return Za(n.children,s,o,t);case Bx:h=8,s|=24;break;case v0:return e=Mi(12,n,t,s|2),e.elementType=v0,e.lanes=o,e;case I0:return e=Mi(13,n,t,s),e.elementType=I0,e.lanes=o,e;case N0:return e=Mi(19,n,t,s),e.elementType=N0,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hs:h=10;break t;case Px:h=9;break t;case ag:h=11;break t;case og:h=14;break t;case Fs:h=16,i=null;break t}h=29,n=Error(rt(130,e===null?"null":typeof e,"")),i=null}return t=Mi(h,n,t,s),t.elementType=e,t.type=i,t.lanes=o,t}function Za(e,t,n,i){return e=Mi(7,e,i,t),e.lanes=n,e}function Vd(e,t,n){return e=Mi(6,e,null,t),e.lanes=n,e}function yE(e){var t=Mi(18,null,null,0);return t.stateNode=e,t}function Ud(e,t,n){return t=Mi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var I2=new WeakMap;function tr(e,t){if(typeof e=="object"&&e!==null){var n=I2.get(e);return n!==void 0?n:(t={value:e,source:t,stack:l2(t)},I2.set(e,t),t)}return{value:e,source:t,stack:l2(t)}}var tl=[],el=0,qh=null,Ju=0,Zi=[],Ji=0,da=null,Lr=1,Br="";function us(e,t){tl[el++]=Ju,tl[el++]=qh,qh=e,Ju=t}function xE(e,t,n){Zi[Ji++]=Lr,Zi[Ji++]=Br,Zi[Ji++]=da,da=e;var i=Lr;e=Br;var s=32-ki(i)-1;i&=~(1<<s),n+=1;var o=32-ki(t)+s;if(30<o){var h=s-s%5;o=(i&(1<<h)-1).toString(32),i>>=h,s-=h,Lr=1<<32-ki(t)+s|n<<s|i,Br=o+e}else Lr=1<<o|n<<s|i,Br=e}function wg(e){e.return!==null&&(us(e,1),xE(e,1,0))}function _g(e){for(;e===qh;)qh=tl[--el],tl[el]=null,Ju=tl[--el],tl[el]=null;for(;e===da;)da=Zi[--Ji],Zi[Ji]=null,Br=Zi[--Ji],Zi[Ji]=null,Lr=Zi[--Ji],Zi[Ji]=null}function EE(e,t){Zi[Ji++]=Lr,Zi[Ji++]=Br,Zi[Ji++]=da,Lr=t.id,Br=t.overflow,da=e}var Fn=null,je=null,ne=!1,ta=null,er=!1,G0=Error(rt(519));function ga(e){var t=Error(rt(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $u(tr(t,e)),G0}function N2(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Un]=e,t[mi]=i,n){case"dialog":Qt("cancel",t),Qt("close",t);break;case"iframe":case"object":case"embed":Qt("load",t);break;case"video":case"audio":for(n=0;n<ic.length;n++)Qt(ic[n],t);break;case"source":Qt("error",t);break;case"img":case"image":case"link":Qt("error",t),Qt("load",t);break;case"details":Qt("toggle",t);break;case"input":Qt("invalid",t),Wx(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Qt("invalid",t);break;case"textarea":Qt("invalid",t),Zx(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||ew(t.textContent,n)?(i.popover!=null&&(Qt("beforetoggle",t),Qt("toggle",t)),i.onScroll!=null&&Qt("scroll",t),i.onScrollEnd!=null&&Qt("scrollend",t),i.onClick!=null&&(t.onclick=fs),t=!0):t=!1,t||ga(e,!0)}function R2(e){for(Fn=e.return;Fn;)switch(Fn.tag){case 5:case 31:case 13:er=!1;return;case 27:case 3:er=!0;return;default:Fn=Fn.return}}function Lo(e){if(e!==Fn)return!1;if(!ne)return R2(e),ne=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||m1(e.type,e.memoizedProps)),n=!n),n&&je&&ga(e),R2(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(rt(317));je=pp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(rt(317));je=pp(e)}else t===27?(t=je,Sa(e.type)?(e=E1,E1=null,je=e):je=t):je=Fn?rr(e.stateNode.nextSibling):null;return!0}function io(){je=Fn=null,ne=!1}function Fd(){var e=ta;return e!==null&&(hi===null?hi=e:hi.push.apply(hi,e),ta=null),e}function $u(e){ta===null?ta=[e]:ta.push(e)}var Y0=Yr(null),po=null,ds=null;function zs(e,t,n){Le(Y0,t._currentValue),t._currentValue=n}function ps(e){e._currentValue=Y0.current,Dn(Y0)}function q0(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function X0(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){var h=s.child;o=o.firstContext;t:for(;o!==null;){var m=o;o=s;for(var x=0;x<t.length;x++)if(m.context===t[x]){o.lanes|=n,m=o.alternate,m!==null&&(m.lanes|=n),q0(o.return,n,e),i||(h=null);break t}o=m.next}}else if(s.tag===18){if(h=s.return,h===null)throw Error(rt(341));h.lanes|=n,o=h.alternate,o!==null&&(o.lanes|=n),q0(h,n,e),h=null}else h=s.child;if(h!==null)h.return=s;else for(h=s;h!==null;){if(h===e){h=null;break}if(s=h.sibling,s!==null){s.return=h.return,h=s;break}h=h.return}s=h}}function Vl(e,t,n,i){e=null;for(var s=t,o=!1;s!==null;){if(!o){if(s.flags&524288)o=!0;else if(s.flags&262144)break}if(s.tag===10){var h=s.alternate;if(h===null)throw Error(rt(387));if(h=h.memoizedProps,h!==null){var m=s.type;Ui(s.pendingProps.value,h.value)||(e!==null?e.push(m):e=[m])}}else if(s===Uh.current){if(h=s.alternate,h===null)throw Error(rt(387));h.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(sc):e=[sc])}s=s.return}e!==null&&X0(t,e,n,i),t.flags|=262144}function Xh(e){for(e=e.firstContext;e!==null;){if(!Ui(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ro(e){po=e,ds=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zn(e){return AE(po,e)}function th(e,t){return po===null&&ro(e),AE(e,t)}function AE(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ds===null){if(e===null)throw Error(rt(308));ds=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ds=ds.next=t;return n}var CC=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},bC=Tn.unstable_scheduleCallback,SC=Tn.unstable_NormalPriority,dn={$$typeof:hs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tg(){return{controller:new CC,data:new Map,refCount:0}}function bc(e){e.refCount--,e.refCount===0&&bC(SC,function(){e.controller.abort()})}var Mu=null,Q0=0,yl=0,ol=null;function vC(e,t){if(Mu===null){var n=Mu=[];Q0=0,yl=Qg(),ol={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Q0++,t.then(M2,M2),t}function M2(){if(--Q0===0&&Mu!==null){ol!==null&&(ol.status="fulfilled");var e=Mu;Mu=null,yl=0,ol=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function IC(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var D2=Mt.S;Mt.S=function(e,t){LA=Bi(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&vC(e,t),D2!==null&&D2(e,t)};var Ja=Yr(null);function Cg(){var e=Ja.current;return e!==null?e:Re.pooledCache}function _h(e,t){t===null?Le(Ja,Ja.current):Le(Ja,t.pool)}function wE(){var e=Cg();return e===null?null:{parent:dn._currentValue,pool:e}}var Ul=Error(rt(460)),bg=Error(rt(474)),Yf=Error(rt(542)),Qh={then:function(){}};function O2(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _E(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(fs,fs),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,B2(e),e;default:if(typeof t.status=="string")t.then(fs,fs);else{if(e=Re,e!==null&&100<e.shellSuspendCounter)throw Error(rt(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,B2(e),e}throw $a=t,Ul}}function Ga(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?($a=n,Ul):n}}var $a=null;function L2(){if($a===null)throw Error(rt(459));var e=$a;return $a=null,e}function B2(e){if(e===Ul||e===Yf)throw Error(rt(483))}var ll=null,tc=0;function eh(e){var t=tc;return tc+=1,ll===null&&(ll=[]),_E(ll,e,t)}function du(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function nh(e,t){throw t.$$typeof===gT?Error(rt(525)):(e=Object.prototype.toString.call(t),Error(rt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function TE(e){function t(V,O){if(e){var P=V.deletions;P===null?(V.deletions=[O],V.flags|=16):P.push(O)}}function n(V,O){if(!e)return null;for(;O!==null;)t(V,O),O=O.sibling;return null}function i(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function s(V,O){return V=ms(V,O),V.index=0,V.sibling=null,V}function o(V,O,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<O?(V.flags|=67108866,O):P):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function h(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function m(V,O,P,j){return O===null||O.tag!==6?(O=Vd(P,V.mode,j),O.return=V,O):(O=s(O,P),O.return=V,O)}function x(V,O,P,j){var st=P.type;return st===Yo?w(V,O,P.props.children,j,P.key):O!==null&&(O.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===Fs&&Ga(st)===O.type)?(O=s(O,P.props),du(O,P),O.return=V,O):(O=wh(P.type,P.key,P.props,null,V.mode,j),du(O,P),O.return=V,O)}function y(V,O,P,j){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Ud(P,V.mode,j),O.return=V,O):(O=s(O,P.children||[]),O.return=V,O)}function w(V,O,P,j,st){return O===null||O.tag!==7?(O=Za(P,V.mode,j,st),O.return=V,O):(O=s(O,P),O.return=V,O)}function T(V,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Vd(""+O,V.mode,P),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Qc:return P=wh(O.type,O.key,O.props,null,V.mode,P),du(P,O),P.return=V,P;case yu:return O=Ud(O,V.mode,P),O.return=V,O;case Fs:return O=Ga(O),T(V,O,P)}if(xu(O)||cu(O))return O=Za(O,V.mode,P,null),O.return=V,O;if(typeof O.then=="function")return T(V,eh(O),P);if(O.$$typeof===hs)return T(V,th(V,O),P);nh(V,O)}return null}function v(V,O,P,j){var st=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return st!==null?null:m(V,O,""+P,j);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Qc:return P.key===st?x(V,O,P,j):null;case yu:return P.key===st?y(V,O,P,j):null;case Fs:return P=Ga(P),v(V,O,P,j)}if(xu(P)||cu(P))return st!==null?null:w(V,O,P,j,null);if(typeof P.then=="function")return v(V,O,eh(P),j);if(P.$$typeof===hs)return v(V,O,th(V,P),j);nh(V,P)}return null}function I(V,O,P,j,st){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return V=V.get(P)||null,m(O,V,""+j,st);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Qc:return V=V.get(j.key===null?P:j.key)||null,x(O,V,j,st);case yu:return V=V.get(j.key===null?P:j.key)||null,y(O,V,j,st);case Fs:return j=Ga(j),I(V,O,P,j,st)}if(xu(j)||cu(j))return V=V.get(P)||null,w(O,V,j,st,null);if(typeof j.then=="function")return I(V,O,P,eh(j),st);if(j.$$typeof===hs)return I(V,O,P,th(O,j),st);nh(O,j)}return null}function X(V,O,P,j){for(var st=null,at=null,M=O,D=O=0,R=null;M!==null&&D<P.length;D++){M.index>D?(R=M,M=null):R=M.sibling;var z=v(V,M,P[D],j);if(z===null){M===null&&(M=R);break}e&&M&&z.alternate===null&&t(V,M),O=o(z,O,D),at===null?st=z:at.sibling=z,at=z,M=R}if(D===P.length)return n(V,M),ne&&us(V,D),st;if(M===null){for(;D<P.length;D++)M=T(V,P[D],j),M!==null&&(O=o(M,O,D),at===null?st=M:at.sibling=M,at=M);return ne&&us(V,D),st}for(M=i(M);D<P.length;D++)R=I(M,V,D,P[D],j),R!==null&&(e&&R.alternate!==null&&M.delete(R.key===null?D:R.key),O=o(R,O,D),at===null?st=R:at.sibling=R,at=R);return e&&M.forEach(function(H){return t(V,H)}),ne&&us(V,D),st}function q(V,O,P,j){if(P==null)throw Error(rt(151));for(var st=null,at=null,M=O,D=O=0,R=null,z=P.next();M!==null&&!z.done;D++,z=P.next()){M.index>D?(R=M,M=null):R=M.sibling;var H=v(V,M,z.value,j);if(H===null){M===null&&(M=R);break}e&&M&&H.alternate===null&&t(V,M),O=o(H,O,D),at===null?st=H:at.sibling=H,at=H,M=R}if(z.done)return n(V,M),ne&&us(V,D),st;if(M===null){for(;!z.done;D++,z=P.next())z=T(V,z.value,j),z!==null&&(O=o(z,O,D),at===null?st=z:at.sibling=z,at=z);return ne&&us(V,D),st}for(M=i(M);!z.done;D++,z=P.next())z=I(M,V,D,z.value,j),z!==null&&(e&&z.alternate!==null&&M.delete(z.key===null?D:z.key),O=o(z,O,D),at===null?st=z:at.sibling=z,at=z);return e&&M.forEach(function(G){return t(V,G)}),ne&&us(V,D),st}function J(V,O,P,j){if(typeof P=="object"&&P!==null&&P.type===Yo&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Qc:t:{for(var st=P.key;O!==null;){if(O.key===st){if(st=P.type,st===Yo){if(O.tag===7){n(V,O.sibling),j=s(O,P.props.children),j.return=V,V=j;break t}}else if(O.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===Fs&&Ga(st)===O.type){n(V,O.sibling),j=s(O,P.props),du(j,P),j.return=V,V=j;break t}n(V,O);break}else t(V,O);O=O.sibling}P.type===Yo?(j=Za(P.props.children,V.mode,j,P.key),j.return=V,V=j):(j=wh(P.type,P.key,P.props,null,V.mode,j),du(j,P),j.return=V,V=j)}return h(V);case yu:t:{for(st=P.key;O!==null;){if(O.key===st)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){n(V,O.sibling),j=s(O,P.children||[]),j.return=V,V=j;break t}else{n(V,O);break}else t(V,O);O=O.sibling}j=Ud(P,V.mode,j),j.return=V,V=j}return h(V);case Fs:return P=Ga(P),J(V,O,P,j)}if(xu(P))return X(V,O,P,j);if(cu(P)){if(st=cu(P),typeof st!="function")throw Error(rt(150));return P=st.call(P),q(V,O,P,j)}if(typeof P.then=="function")return J(V,O,eh(P),j);if(P.$$typeof===hs)return J(V,O,th(V,P),j);nh(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(n(V,O.sibling),j=s(O,P),j.return=V,V=j):(n(V,O),j=Vd(P,V.mode,j),j.return=V,V=j),h(V)):n(V,O)}return function(V,O,P,j){try{tc=0;var st=J(V,O,P,j);return ll=null,st}catch(M){if(M===Ul||M===Yf)throw M;var at=Mi(29,M,null,V.mode);return at.lanes=j,at.return=V,at}finally{}}}var so=TE(!0),CE=TE(!1),js=!1;function Sg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function W0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function na(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ge&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Yh(e),mE(e,null,n),t}return Gf(e,i,t,n),Yh(e)}function Du(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zx(e,n)}}function jd(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?s=o=h:o=o.next=h,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var K0=!1;function Ou(){if(K0){var e=ol;if(e!==null)throw e}}function Lu(e,t,n,i){K0=!1;var s=e.updateQueue;js=!1;var o=s.firstBaseUpdate,h=s.lastBaseUpdate,m=s.shared.pending;if(m!==null){s.shared.pending=null;var x=m,y=x.next;x.next=null,h===null?o=y:h.next=y,h=x;var w=e.alternate;w!==null&&(w=w.updateQueue,m=w.lastBaseUpdate,m!==h&&(m===null?w.firstBaseUpdate=y:m.next=y,w.lastBaseUpdate=x))}if(o!==null){var T=s.baseState;h=0,w=y=x=null,m=o;do{var v=m.lane&-536870913,I=v!==m.lane;if(I?(ee&v)===v:(i&v)===v){v!==0&&v===yl&&(K0=!0),w!==null&&(w=w.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});t:{var X=e,q=m;v=t;var J=n;switch(q.tag){case 1:if(X=q.payload,typeof X=="function"){T=X.call(J,T,v);break t}T=X;break t;case 3:X.flags=X.flags&-65537|128;case 0:if(X=q.payload,v=typeof X=="function"?X.call(J,T,v):X,v==null)break t;T=He({},T,v);break t;case 2:js=!0}}v=m.callback,v!==null&&(e.flags|=64,I&&(e.flags|=8192),I=s.callbacks,I===null?s.callbacks=[v]:I.push(v))}else I={lane:v,tag:m.tag,payload:m.payload,callback:m.callback,next:null},w===null?(y=w=I,x=T):w=w.next=I,h|=v;if(m=m.next,m===null){if(m=s.shared.pending,m===null)break;I=m,m=I.next,I.next=null,s.lastBaseUpdate=I,s.shared.pending=null}}while(!0);w===null&&(x=T),s.baseState=x,s.firstBaseUpdate=y,s.lastBaseUpdate=w,o===null&&(s.shared.lanes=0),pa|=h,e.lanes=h,e.memoizedState=T}}function bE(e,t){if(typeof e!="function")throw Error(rt(191,e));e.call(t)}function SE(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)bE(n[e],t)}var xl=Yr(null),Wh=Yr(0);function P2(e,t){e=_s,Le(Wh,e),Le(xl,t),_s=e|t.baseLanes}function Z0(){Le(Wh,_s),Le(xl,xl.current)}function vg(){_s=Wh.current,Dn(xl),Dn(Wh)}var Fi=Yr(null),ir=null;function Hs(e){var t=e.alternate;Le(rn,rn.current&1),Le(Fi,e),ir===null&&(t===null||xl.current!==null||t.memoizedState!==null)&&(ir=e)}function J0(e){Le(rn,rn.current),Le(Fi,e),ir===null&&(ir=e)}function vE(e){e.tag===22?(Le(rn,rn.current),Le(Fi,e),ir===null&&(ir=e)):Gs()}function Gs(){Le(rn,rn.current),Le(Fi,Fi.current)}function Ri(e){Dn(Fi),ir===e&&(ir=null),Dn(rn)}var rn=Yr(0);function Kh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||y1(n)||x1(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Es=0,zt=null,ve=null,hn=null,Zh=!1,ul=!1,ao=!1,Jh=0,ec=0,cl=null,NC=0;function Je(){throw Error(rt(321))}function Ig(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ui(e[n],t[n]))return!1;return!0}function Ng(e,t,n,i,s,o){return Es=o,zt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mt.H=e===null||e.memoizedState===null?rA:Fg,ao=!1,o=n(i,s),ao=!1,ul&&(o=NE(t,n,i,s)),IE(e),o}function IE(e){Mt.H=nc;var t=ve!==null&&ve.next!==null;if(Es=0,hn=ve=zt=null,Zh=!1,ec=0,cl=null,t)throw Error(rt(300));e===null||mn||(e=e.dependencies,e!==null&&Xh(e)&&(mn=!0))}function NE(e,t,n,i){zt=e;var s=0;do{if(ul&&(cl=null),ec=0,ul=!1,25<=s)throw Error(rt(301));if(s+=1,hn=ve=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}Mt.H=sA,o=t(n,i)}while(ul);return o}function RC(){var e=Mt.H,t=e.useState()[0];return t=typeof t.then=="function"?Sc(t):t,e=e.useState()[0],(ve!==null?ve.memoizedState:null)!==e&&(zt.flags|=1024),t}function Rg(){var e=Jh!==0;return Jh=0,e}function Mg(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Dg(e){if(Zh){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zh=!1}Es=0,hn=ve=zt=null,ul=!1,ec=Jh=0,cl=null}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?zt.memoizedState=hn=e:hn=hn.next=e,hn}function sn(){if(ve===null){var e=zt.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=hn===null?zt.memoizedState:hn.next;if(t!==null)hn=t,ve=e;else{if(e===null)throw zt.alternate===null?Error(rt(467)):Error(rt(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},hn===null?zt.memoizedState=hn=e:hn=hn.next=e}return hn}function qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sc(e){var t=ec;return ec+=1,cl===null&&(cl=[]),e=_E(cl,e,t),t=zt,(hn===null?t.memoizedState:hn.next)===null&&(t=t.alternate,Mt.H=t===null||t.memoizedState===null?rA:Fg),e}function Xf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Sc(e);if(e.$$typeof===hs)return zn(e)}throw Error(rt(438,String(e)))}function Og(e){var t=null,n=zt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=zt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=qf(),zt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=mT;return t.index++,n}function As(e,t){return typeof t=="function"?t(e):t}function Th(e){var t=sn();return Lg(t,ve,e)}function Lg(e,t,n){var i=e.queue;if(i===null)throw Error(rt(311));i.lastRenderedReducer=n;var s=e.baseQueue,o=i.pending;if(o!==null){if(s!==null){var h=s.next;s.next=o.next,o.next=h}t.baseQueue=s=o,i.pending=null}if(o=e.baseState,s===null)e.memoizedState=o;else{t=s.next;var m=h=null,x=null,y=t,w=!1;do{var T=y.lane&-536870913;if(T!==y.lane?(ee&T)===T:(Es&T)===T){var v=y.revertLane;if(v===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),T===yl&&(w=!0);else if((Es&v)===v){y=y.next,v===yl&&(w=!0);continue}else T={lane:0,revertLane:y.revertLane,gesture:null,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null},x===null?(m=x=T,h=o):x=x.next=T,zt.lanes|=v,pa|=v;T=y.action,ao&&n(o,T),o=y.hasEagerState?y.eagerState:n(o,T)}else v={lane:T,revertLane:y.revertLane,gesture:y.gesture,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null},x===null?(m=x=v,h=o):x=x.next=v,zt.lanes|=T,pa|=T;y=y.next}while(y!==null&&y!==t);if(x===null?h=o:x.next=m,!Ui(o,e.memoizedState)&&(mn=!0,w&&(n=ol,n!==null)))throw n;e.memoizedState=o,e.baseState=h,e.baseQueue=x,i.lastRenderedState=o}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function zd(e){var t=sn(),n=t.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var h=s=s.next;do o=e(o,h.action),h=h.next;while(h!==s);Ui(o,t.memoizedState)||(mn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function RE(e,t,n){var i=zt,s=sn(),o=ne;if(o){if(n===void 0)throw Error(rt(407));n=n()}else n=t();var h=!Ui((ve||s).memoizedState,n);if(h&&(s.memoizedState=n,mn=!0),s=s.queue,Bg(OE.bind(null,i,s,e),[e]),s.getSnapshot!==t||h||hn!==null&&hn.memoizedState.tag&1){if(i.flags|=2048,El(9,{destroy:void 0},DE.bind(null,i,s,n,t),null),Re===null)throw Error(rt(349));o||Es&127||ME(i,t,n)}return n}function ME(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=zt.updateQueue,t===null?(t=qf(),zt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function DE(e,t,n,i){t.value=n,t.getSnapshot=i,LE(t)&&BE(e)}function OE(e,t,n){return n(function(){LE(t)&&BE(e)})}function LE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ui(e,n)}catch{return!0}}function BE(e){var t=mo(e,2);t!==null&&gi(t,e,2)}function $0(e){var t=Zn();if(typeof e=="function"){var n=e;if(e=n(),ao){qs(!0);try{n()}finally{qs(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},t}function PE(e,t,n,i){return e.baseState=n,Lg(e,ve,typeof i=="function"?i:As)}function MC(e,t,n,i,s){if(Wf(e))throw Error(rt(485));if(e=t.action,e!==null){var o={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){o.listeners.push(h)}};Mt.T!==null?n(!0):o.isTransition=!1,i(o),n=t.pending,n===null?(o.next=t.pending=o,kE(t,o)):(o.next=n.next,t.pending=n.next=o)}}function kE(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var o=Mt.T,h={};Mt.T=h;try{var m=n(s,i),x=Mt.S;x!==null&&x(h,m),k2(e,t,m)}catch(y){t1(e,t,y)}finally{o!==null&&h.types!==null&&(o.types=h.types),Mt.T=o}}else try{o=n(s,i),k2(e,t,o)}catch(y){t1(e,t,y)}}function k2(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){V2(e,t,i)},function(i){return t1(e,t,i)}):V2(e,t,n)}function V2(e,t,n){t.status="fulfilled",t.value=n,VE(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,kE(e,n)))}function t1(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,VE(t),t=t.next;while(t!==i)}e.action=null}function VE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function UE(e,t){return t}function U2(e,t){if(ne){var n=Re.formState;if(n!==null){t:{var i=zt;if(ne){if(je){e:{for(var s=je,o=er;s.nodeType!==8;){if(!o){s=null;break e}if(s=rr(s.nextSibling),s===null){s=null;break e}}o=s.data,s=o==="F!"||o==="F"?s:null}if(s){je=rr(s.nextSibling),i=s.data==="F!";break t}}ga(i)}i=!1}i&&(t=n[0])}}return n=Zn(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:UE,lastRenderedState:t},n.queue=i,n=eA.bind(null,zt,i),i.dispatch=n,i=$0(!1),o=Ug.bind(null,zt,!1,i.queue),i=Zn(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=MC.bind(null,zt,s,o,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function F2(e){var t=sn();return FE(t,ve,e)}function FE(e,t,n){if(t=Lg(e,t,UE)[0],e=Th(As)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Sc(t)}catch(h){throw h===Ul?Yf:h}else i=t;t=sn();var s=t.queue,o=s.dispatch;return n!==t.memoizedState&&(zt.flags|=2048,El(9,{destroy:void 0},DC.bind(null,s,n),null)),[i,o,e]}function DC(e,t){e.action=t}function j2(e){var t=sn(),n=ve;if(n!==null)return FE(t,n,e);sn(),t=t.memoizedState,n=sn();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function El(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=zt.updateQueue,t===null&&(t=qf(),zt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function jE(){return sn().memoizedState}function Ch(e,t,n,i){var s=Zn();zt.flags|=e,s.memoizedState=El(1|t,{destroy:void 0},n,i===void 0?null:i)}function Qf(e,t,n,i){var s=sn();i=i===void 0?null:i;var o=s.memoizedState.inst;ve!==null&&i!==null&&Ig(i,ve.memoizedState.deps)?s.memoizedState=El(t,o,n,i):(zt.flags|=e,s.memoizedState=El(1|t,o,n,i))}function z2(e,t){Ch(8390656,8,e,t)}function Bg(e,t){Qf(2048,8,e,t)}function OC(e){zt.flags|=4;var t=zt.updateQueue;if(t===null)t=qf(),zt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function zE(e){var t=sn().memoizedState;return OC({ref:t,nextImpl:e}),function(){if(ge&2)throw Error(rt(440));return t.impl.apply(void 0,arguments)}}function HE(e,t){return Qf(4,2,e,t)}function GE(e,t){return Qf(4,4,e,t)}function YE(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qE(e,t,n){n=n!=null?n.concat([e]):null,Qf(4,4,YE.bind(null,t,e),n)}function Pg(){}function XE(e,t){var n=sn();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Ig(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function QE(e,t){var n=sn();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Ig(t,i[1]))return i[0];if(i=e(),ao){qs(!0);try{e()}finally{qs(!1)}}return n.memoizedState=[i,t],i}function kg(e,t,n){return n===void 0||Es&1073741824&&!(ee&261930)?e.memoizedState=t:(e.memoizedState=n,e=PA(),zt.lanes|=e,pa|=e,n)}function WE(e,t,n,i){return Ui(n,t)?n:xl.current!==null?(e=kg(e,n,i),Ui(e,t)||(mn=!0),e):!(Es&42)||Es&1073741824&&!(ee&261930)?(mn=!0,e.memoizedState=n):(e=PA(),zt.lanes|=e,pa|=e,t)}function KE(e,t,n,i,s){var o=me.p;me.p=o!==0&&8>o?o:8;var h=Mt.T,m={};Mt.T=m,Ug(e,!1,t,n);try{var x=s(),y=Mt.S;if(y!==null&&y(m,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var w=IC(x,i);Bu(e,t,w,Vi(e))}else Bu(e,t,i,Vi(e))}catch(T){Bu(e,t,{then:function(){},status:"rejected",reason:T},Vi())}finally{me.p=o,h!==null&&m.types!==null&&(h.types=m.types),Mt.T=h}}function LC(){}function e1(e,t,n,i){if(e.tag!==5)throw Error(rt(476));var s=ZE(e).queue;KE(e,s,t,Ka,n===null?LC:function(){return JE(e),n(i)})}function ZE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ka,baseState:Ka,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:Ka},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function JE(e){var t=ZE(e);t.next===null&&(t=e.alternate.memoizedState),Bu(e,t.next.queue,{},Vi())}function Vg(){return zn(sc)}function $E(){return sn().memoizedState}function tA(){return sn().memoizedState}function BC(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Vi();e=ea(n);var i=na(t,e,n);i!==null&&(gi(i,t,n),Du(i,t,n)),t={cache:Tg()},e.payload=t;return}t=t.return}}function PC(e,t,n){var i=Vi();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Wf(e)?nA(t,n):(n=Eg(e,t,n,i),n!==null&&(gi(n,e,i),iA(n,t,i)))}function eA(e,t,n){var i=Vi();Bu(e,t,n,i)}function Bu(e,t,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wf(e))nA(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var h=t.lastRenderedState,m=o(h,n);if(s.hasEagerState=!0,s.eagerState=m,Ui(m,h))return Gf(e,t,s,0),Re===null&&Hf(),!1}catch{}finally{}if(n=Eg(e,t,s,i),n!==null)return gi(n,e,i),iA(n,t,i),!0}return!1}function Ug(e,t,n,i){if(i={lane:2,revertLane:Qg(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Wf(e)){if(t)throw Error(rt(479))}else t=Eg(e,n,i,2),t!==null&&gi(t,e,2)}function Wf(e){var t=e.alternate;return e===zt||t!==null&&t===zt}function nA(e,t){ul=Zh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iA(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zx(e,n)}}var nc={readContext:zn,use:Xf,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};nc.useEffectEvent=Je;var rA={readContext:zn,use:Xf,useCallback:function(e,t){return Zn().memoizedState=[e,t===void 0?null:t],e},useContext:zn,useEffect:z2,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ch(4194308,4,YE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ch(4194308,4,e,t)},useInsertionEffect:function(e,t){Ch(4,2,e,t)},useMemo:function(e,t){var n=Zn();t=t===void 0?null:t;var i=e();if(ao){qs(!0);try{e()}finally{qs(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Zn();if(n!==void 0){var s=n(t);if(ao){qs(!0);try{n(t)}finally{qs(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=PC.bind(null,zt,e),[i.memoizedState,e]},useRef:function(e){var t=Zn();return e={current:e},t.memoizedState=e},useState:function(e){e=$0(e);var t=e.queue,n=eA.bind(null,zt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Pg,useDeferredValue:function(e,t){var n=Zn();return kg(n,e,t)},useTransition:function(){var e=$0(!1);return e=KE.bind(null,zt,e.queue,!0,!1),Zn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=zt,s=Zn();if(ne){if(n===void 0)throw Error(rt(407));n=n()}else{if(n=t(),Re===null)throw Error(rt(349));ee&127||ME(i,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,z2(OE.bind(null,i,o,e),[e]),i.flags|=2048,El(9,{destroy:void 0},DE.bind(null,i,o,n,t),null),n},useId:function(){var e=Zn(),t=Re.identifierPrefix;if(ne){var n=Br,i=Lr;n=(i&~(1<<32-ki(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Jh++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=NC++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Vg,useFormState:U2,useActionState:U2,useOptimistic:function(e){var t=Zn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ug.bind(null,zt,!0,n),n.dispatch=t,[e,t]},useMemoCache:Og,useCacheRefresh:function(){return Zn().memoizedState=BC.bind(null,zt)},useEffectEvent:function(e){var t=Zn(),n={impl:e};return t.memoizedState=n,function(){if(ge&2)throw Error(rt(440));return n.impl.apply(void 0,arguments)}}},Fg={readContext:zn,use:Xf,useCallback:XE,useContext:zn,useEffect:Bg,useImperativeHandle:qE,useInsertionEffect:HE,useLayoutEffect:GE,useMemo:QE,useReducer:Th,useRef:jE,useState:function(){return Th(As)},useDebugValue:Pg,useDeferredValue:function(e,t){var n=sn();return WE(n,ve.memoizedState,e,t)},useTransition:function(){var e=Th(As)[0],t=sn().memoizedState;return[typeof e=="boolean"?e:Sc(e),t]},useSyncExternalStore:RE,useId:$E,useHostTransitionStatus:Vg,useFormState:F2,useActionState:F2,useOptimistic:function(e,t){var n=sn();return PE(n,ve,e,t)},useMemoCache:Og,useCacheRefresh:tA};Fg.useEffectEvent=zE;var sA={readContext:zn,use:Xf,useCallback:XE,useContext:zn,useEffect:Bg,useImperativeHandle:qE,useInsertionEffect:HE,useLayoutEffect:GE,useMemo:QE,useReducer:zd,useRef:jE,useState:function(){return zd(As)},useDebugValue:Pg,useDeferredValue:function(e,t){var n=sn();return ve===null?kg(n,e,t):WE(n,ve.memoizedState,e,t)},useTransition:function(){var e=zd(As)[0],t=sn().memoizedState;return[typeof e=="boolean"?e:Sc(e),t]},useSyncExternalStore:RE,useId:$E,useHostTransitionStatus:Vg,useFormState:j2,useActionState:j2,useOptimistic:function(e,t){var n=sn();return ve!==null?PE(n,ve,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Og,useCacheRefresh:tA};sA.useEffectEvent=zE;function Hd(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var n1={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Vi(),s=ea(i);s.payload=t,n!=null&&(s.callback=n),t=na(e,s,i),t!==null&&(gi(t,e,i),Du(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Vi(),s=ea(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=na(e,s,i),t!==null&&(gi(t,e,i),Du(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vi(),i=ea(n);i.tag=2,t!=null&&(i.callback=t),t=na(e,i,n),t!==null&&(gi(t,e,n),Du(t,e,n))}};function H2(e,t,n,i,s,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,h):t.prototype&&t.prototype.isPureReactComponent?!Zu(n,i)||!Zu(s,o):!0}function G2(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&n1.enqueueReplaceState(t,t.state,null)}function oo(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=He({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function aA(e){Gh(e)}function oA(e){console.error(e)}function lA(e){Gh(e)}function $h(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Y2(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function i1(e,t,n){return n=ea(n),n.tag=3,n.payload={element:null},n.callback=function(){$h(e,t)},n}function uA(e){return e=ea(e),e.tag=3,e}function cA(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var o=i.value;e.payload=function(){return s(o)},e.callback=function(){Y2(t,n,i)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Y2(t,n,i),typeof s!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var m=i.stack;this.componentDidCatch(i.value,{componentStack:m!==null?m:""})})}function kC(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Vl(t,n,s,!0),n=Fi.current,n!==null){switch(n.tag){case 31:case 13:return ir===null?sf():n.alternate===null&&tn===0&&(tn=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Qh?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),t0(e,i,s)),!1;case 22:return n.flags|=65536,i===Qh?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),t0(e,i,s)),!1}throw Error(rt(435,n.tag))}return t0(e,i,s),sf(),!1}if(ne)return t=Fi.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==G0&&(e=Error(rt(422),{cause:i}),$u(tr(e,n)))):(i!==G0&&(t=Error(rt(423),{cause:i}),$u(tr(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=tr(i,n),s=i1(e.stateNode,i,s),jd(e,s),tn!==4&&(tn=2)),!1;var o=Error(rt(520),{cause:i});if(o=tr(o,n),Vu===null?Vu=[o]:Vu.push(o),tn!==4&&(tn=2),t===null)return!0;i=tr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=i1(n.stateNode,i,e),jd(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(ia===null||!ia.has(o))))return n.flags|=65536,s&=-s,n.lanes|=s,s=uA(s),cA(s,e,n,i),jd(n,s),!1}n=n.return}while(n!==null);return!1}var jg=Error(rt(461)),mn=!1;function kn(e,t,n,i){t.child=e===null?CE(t,null,n,i):so(t,e.child,n,i)}function q2(e,t,n,i,s){n=n.render;var o=t.ref;if("ref"in i){var h={};for(var m in i)m!=="ref"&&(h[m]=i[m])}else h=i;return ro(t),i=Ng(e,t,n,h,o,s),m=Rg(),e!==null&&!mn?(Mg(e,t,s),ws(e,t,s)):(ne&&m&&wg(t),t.flags|=1,kn(e,t,i,s),t.child)}function X2(e,t,n,i,s){if(e===null){var o=n.type;return typeof o=="function"&&!Ag(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,hA(e,t,o,i,s)):(e=wh(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!zg(e,s)){var h=o.memoizedProps;if(n=n.compare,n=n!==null?n:Zu,n(h,i)&&e.ref===t.ref)return ws(e,t,s)}return t.flags|=1,e=ms(o,i),e.ref=t.ref,e.return=t,t.child=e}function hA(e,t,n,i,s){if(e!==null){var o=e.memoizedProps;if(Zu(o,i)&&e.ref===t.ref)if(mn=!1,t.pendingProps=i=o,zg(e,s))e.flags&131072&&(mn=!0);else return t.lanes=e.lanes,ws(e,t,s)}return r1(e,t,n,i,s)}function fA(e,t,n,i){var s=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(o=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~o}else i=0,t.child=null;return Q2(e,t,o,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_h(t,o!==null?o.cachePool:null),o!==null?P2(t,o):Z0(),vE(t);else return i=t.lanes=536870912,Q2(e,t,o!==null?o.baseLanes|n:n,n,i)}else o!==null?(_h(t,o.cachePool),P2(t,o),Gs(),t.memoizedState=null):(e!==null&&_h(t,null),Z0(),Gs());return kn(e,t,s,n),t.child}function Au(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Q2(e,t,n,i,s){var o=Cg();return o=o===null?null:{parent:dn._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&_h(t,null),Z0(),vE(t),e!==null&&Vl(e,t,i,!0),t.childLanes=s,null}function bh(e,t){return t=tf({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function W2(e,t,n){return so(t,e.child,null,n),e=bh(t,t.pendingProps),e.flags|=2,Ri(t),t.memoizedState=null,e}function VC(e,t,n){var i=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ne){if(i.mode==="hidden")return e=bh(t,i),t.lanes=536870912,Au(null,e);if(J0(t),(e=je)?(e=rw(e,er),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:da!==null?{id:Lr,overflow:Br}:null,retryLane:536870912,hydrationErrors:null},n=yE(e),n.return=t,t.child=n,Fn=t,je=null)):e=null,e===null)throw ga(t);return t.lanes=536870912,null}return bh(t,i)}var o=e.memoizedState;if(o!==null){var h=o.dehydrated;if(J0(t),s)if(t.flags&256)t.flags&=-257,t=W2(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(rt(558));else if(mn||Vl(e,t,n,!1),s=(n&e.childLanes)!==0,mn||s){if(i=Re,i!==null&&(h=Hx(i,n),h!==0&&h!==o.retryLane))throw o.retryLane=h,mo(e,h),gi(i,e,h),jg;sf(),t=W2(e,t,n)}else e=o.treeContext,je=rr(h.nextSibling),Fn=t,ne=!0,ta=null,er=!1,e!==null&&EE(t,e),t=bh(t,i),t.flags|=4096;return t}return e=ms(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Sh(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(rt(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function r1(e,t,n,i,s){return ro(t),n=Ng(e,t,n,i,void 0,s),i=Rg(),e!==null&&!mn?(Mg(e,t,s),ws(e,t,s)):(ne&&i&&wg(t),t.flags|=1,kn(e,t,n,s),t.child)}function K2(e,t,n,i,s,o){return ro(t),t.updateQueue=null,n=NE(t,i,n,s),IE(e),i=Rg(),e!==null&&!mn?(Mg(e,t,o),ws(e,t,o)):(ne&&i&&wg(t),t.flags|=1,kn(e,t,n,o),t.child)}function Z2(e,t,n,i,s){if(ro(t),t.stateNode===null){var o=$o,h=n.contextType;typeof h=="object"&&h!==null&&(o=zn(h)),o=new n(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=n1,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Sg(t),h=n.contextType,o.context=typeof h=="object"&&h!==null?zn(h):$o,o.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Hd(t,n,h,i),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(h=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),h!==o.state&&n1.enqueueReplaceState(o,o.state,null),Lu(t,i,o,s),Ou(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var m=t.memoizedProps,x=oo(n,m);o.props=x;var y=o.context,w=n.contextType;h=$o,typeof w=="object"&&w!==null&&(h=zn(w));var T=n.getDerivedStateFromProps;w=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,w||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m||y!==h)&&G2(t,o,i,h),js=!1;var v=t.memoizedState;o.state=v,Lu(t,i,o,s),Ou(),y=t.memoizedState,m||v!==y||js?(typeof T=="function"&&(Hd(t,n,T,i),y=t.memoizedState),(x=js||H2(t,n,x,i,v,y,h))?(w||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=y),o.props=i,o.state=y,o.context=h,i=x):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,W0(e,t),h=t.memoizedProps,w=oo(n,h),o.props=w,T=t.pendingProps,v=o.context,y=n.contextType,x=$o,typeof y=="object"&&y!==null&&(x=zn(y)),m=n.getDerivedStateFromProps,(y=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(h!==T||v!==x)&&G2(t,o,i,x),js=!1,v=t.memoizedState,o.state=v,Lu(t,i,o,s),Ou();var I=t.memoizedState;h!==T||v!==I||js||e!==null&&e.dependencies!==null&&Xh(e.dependencies)?(typeof m=="function"&&(Hd(t,n,m,i),I=t.memoizedState),(w=js||H2(t,n,w,i,v,I,x)||e!==null&&e.dependencies!==null&&Xh(e.dependencies))?(y||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,I,x),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,I,x)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=I),o.props=i,o.state=I,o.context=x,i=w):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,Sh(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=so(t,e.child,null,s),t.child=so(t,null,n,s)):kn(e,t,n,s),t.memoizedState=o.state,e=t.child):e=ws(e,t,s),e}function J2(e,t,n,i){return io(),t.flags|=256,kn(e,t,n,i),t.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(e){return{baseLanes:e,cachePool:wE()}}function qd(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Oi),e}function dA(e,t,n){var i=t.pendingProps,s=!1,o=(t.flags&128)!==0,h;if((h=o)||(h=e!==null&&e.memoizedState===null?!1:(rn.current&2)!==0),h&&(s=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(ne){if(s?Hs(t):Gs(),(e=je)?(e=rw(e,er),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:da!==null?{id:Lr,overflow:Br}:null,retryLane:536870912,hydrationErrors:null},n=yE(e),n.return=t,t.child=n,Fn=t,je=null)):e=null,e===null)throw ga(t);return x1(e)?t.lanes=32:t.lanes=536870912,null}var m=i.children;return i=i.fallback,s?(Gs(),s=t.mode,m=tf({mode:"hidden",children:m},s),i=Za(i,s,n,null),m.return=t,i.return=t,m.sibling=i,t.child=m,i=t.child,i.memoizedState=Yd(n),i.childLanes=qd(e,h,n),t.memoizedState=Gd,Au(null,i)):(Hs(t),s1(t,m))}var x=e.memoizedState;if(x!==null&&(m=x.dehydrated,m!==null)){if(o)t.flags&256?(Hs(t),t.flags&=-257,t=Xd(e,t,n)):t.memoizedState!==null?(Gs(),t.child=e.child,t.flags|=128,t=null):(Gs(),m=i.fallback,s=t.mode,i=tf({mode:"visible",children:i.children},s),m=Za(m,s,n,null),m.flags|=2,i.return=t,m.return=t,i.sibling=m,t.child=i,so(t,e.child,null,n),i=t.child,i.memoizedState=Yd(n),i.childLanes=qd(e,h,n),t.memoizedState=Gd,t=Au(null,i));else if(Hs(t),x1(m)){if(h=m.nextSibling&&m.nextSibling.dataset,h)var y=h.dgst;h=y,i=Error(rt(419)),i.stack="",i.digest=h,$u({value:i,source:null,stack:null}),t=Xd(e,t,n)}else if(mn||Vl(e,t,n,!1),h=(n&e.childLanes)!==0,mn||h){if(h=Re,h!==null&&(i=Hx(h,n),i!==0&&i!==x.retryLane))throw x.retryLane=i,mo(e,i),gi(h,e,i),jg;y1(m)||sf(),t=Xd(e,t,n)}else y1(m)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,je=rr(m.nextSibling),Fn=t,ne=!0,ta=null,er=!1,e!==null&&EE(t,e),t=s1(t,i.children),t.flags|=4096);return t}return s?(Gs(),m=i.fallback,s=t.mode,x=e.child,y=x.sibling,i=ms(x,{mode:"hidden",children:i.children}),i.subtreeFlags=x.subtreeFlags&65011712,y!==null?m=ms(y,m):(m=Za(m,s,n,null),m.flags|=2),m.return=t,i.return=t,i.sibling=m,t.child=i,Au(null,i),i=t.child,m=e.child.memoizedState,m===null?m=Yd(n):(s=m.cachePool,s!==null?(x=dn._currentValue,s=s.parent!==x?{parent:x,pool:x}:s):s=wE(),m={baseLanes:m.baseLanes|n,cachePool:s}),i.memoizedState=m,i.childLanes=qd(e,h,n),t.memoizedState=Gd,Au(e.child,i)):(Hs(t),n=e.child,e=n.sibling,n=ms(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function s1(e,t){return t=tf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function tf(e,t){return e=Mi(22,e,null,t),e.lanes=0,e}function Xd(e,t,n){return so(t,e.child,null,n),e=s1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $2(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),q0(e.return,t,n)}function Qd(e,t,n,i,s,o){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:o}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=n,h.tailMode=s,h.treeForkCount=o)}function gA(e,t,n){var i=t.pendingProps,s=i.revealOrder,o=i.tail;i=i.children;var h=rn.current,m=(h&2)!==0;if(m?(h=h&1|2,t.flags|=128):h&=1,Le(rn,h),kn(e,t,i,n),i=ne?Ju:0,!m&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$2(e,n,t);else if(e.tag===19)$2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Kh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Qd(t,!1,s,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Kh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Qd(t,!0,n,null,o,i);break;case"together":Qd(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function ws(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pa|=t.lanes,!(n&t.childLanes))if(e!==null){if(Vl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(rt(153));if(t.child!==null){for(e=t.child,n=ms(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ms(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zg(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Xh(e)))}function UC(e,t,n){switch(t.tag){case 3:Fh(t,t.stateNode.containerInfo),zs(t,dn,e.memoizedState.cache),io();break;case 27:case 5:O0(t);break;case 4:Fh(t,t.stateNode.containerInfo);break;case 10:zs(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,J0(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Hs(t),t.flags|=128,null):n&t.child.childLanes?dA(e,t,n):(Hs(t),e=ws(e,t,n),e!==null?e.sibling:null);Hs(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Vl(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return gA(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(rn,rn.current),i)break;return null;case 22:return t.lanes=0,fA(e,t,n,t.pendingProps);case 24:zs(t,dn,e.memoizedState.cache)}return ws(e,t,n)}function mA(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)mn=!0;else{if(!zg(e,n)&&!(t.flags&128))return mn=!1,UC(e,t,n);mn=!!(e.flags&131072)}else mn=!1,ne&&t.flags&1048576&&xE(t,Ju,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=Ga(t.elementType),t.type=e,typeof e=="function")Ag(e)?(i=oo(e,i),t.tag=1,t=Z2(null,t,e,i,n)):(t.tag=0,t=r1(null,t,e,i,n));else{if(e!=null){var s=e.$$typeof;if(s===ag){t.tag=11,t=q2(null,t,e,i,n);break t}else if(s===og){t.tag=14,t=X2(null,t,e,i,n);break t}}throw t=M0(e)||e,Error(rt(306,t,""))}}return t;case 0:return r1(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=oo(i,t.pendingProps),Z2(e,t,i,s,n);case 3:t:{if(Fh(t,t.stateNode.containerInfo),e===null)throw Error(rt(387));i=t.pendingProps;var o=t.memoizedState;s=o.element,W0(e,t),Lu(t,i,null,n);var h=t.memoizedState;if(i=h.cache,zs(t,dn,i),i!==o.cache&&X0(t,[dn],n,!0),Ou(),i=h.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=J2(e,t,i,n);break t}else if(i!==s){s=tr(Error(rt(424)),t),$u(s),t=J2(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(je=rr(e.firstChild),Fn=t,ne=!0,ta=null,er=!0,n=CE(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(io(),i===s){t=ws(e,t,n);break t}kn(e,t,i,n)}t=t.child}return t;case 26:return Sh(e,t),e===null?(n=Ep(t.type,null,t.pendingProps,null))?t.memoizedState=n:ne||(n=t.type,e=t.pendingProps,i=uf($s.current).createElement(n),i[Un]=t,i[mi]=e,Hn(i,n,e),Mn(i),t.stateNode=i):t.memoizedState=Ep(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return O0(t),e===null&&ne&&(i=t.stateNode=sw(t.type,t.pendingProps,$s.current),Fn=t,er=!0,s=je,Sa(t.type)?(E1=s,je=rr(i.firstChild)):je=s),kn(e,t,t.pendingProps.children,n),Sh(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ne&&((s=i=je)&&(i=mb(i,t.type,t.pendingProps,er),i!==null?(t.stateNode=i,Fn=t,je=rr(i.firstChild),er=!1,s=!0):s=!1),s||ga(t)),O0(t),s=t.type,o=t.pendingProps,h=e!==null?e.memoizedProps:null,i=o.children,m1(s,o)?i=null:h!==null&&m1(s,h)&&(t.flags|=32),t.memoizedState!==null&&(s=Ng(e,t,RC,null,null,n),sc._currentValue=s),Sh(e,t),kn(e,t,i,n),t.child;case 6:return e===null&&ne&&((e=n=je)&&(n=pb(n,t.pendingProps,er),n!==null?(t.stateNode=n,Fn=t,je=null,e=!0):e=!1),e||ga(t)),null;case 13:return dA(e,t,n);case 4:return Fh(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=so(t,null,i,n):kn(e,t,i,n),t.child;case 11:return q2(e,t,t.type,t.pendingProps,n);case 7:return kn(e,t,t.pendingProps,n),t.child;case 8:return kn(e,t,t.pendingProps.children,n),t.child;case 12:return kn(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,zs(t,t.type,i.value),kn(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,ro(t),s=zn(s),i=i(s),t.flags|=1,kn(e,t,i,n),t.child;case 14:return X2(e,t,t.type,t.pendingProps,n);case 15:return hA(e,t,t.type,t.pendingProps,n);case 19:return gA(e,t,n);case 31:return VC(e,t,n);case 22:return fA(e,t,n,t.pendingProps);case 24:return ro(t),i=zn(dn),e===null?(s=Cg(),s===null&&(s=Re,o=Tg(),s.pooledCache=o,o.refCount++,o!==null&&(s.pooledCacheLanes|=n),s=o),t.memoizedState={parent:i,cache:s},Sg(t),zs(t,dn,s)):(e.lanes&n&&(W0(e,t),Lu(t,null,null,n),Ou()),s=e.memoizedState,o=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),zs(t,dn,i)):(i=o.cache,zs(t,dn,i),i!==s.cache&&X0(t,[dn],n,!0))),kn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(rt(156,t.tag))}function ss(e){e.flags|=4}function Wd(e,t,n,i,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(UA())e.flags|=8192;else throw $a=Qh,bg}else e.flags&=-16777217}function tp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!lw(t))if(UA())e.flags|=8192;else throw $a=Qh,bg}function ih(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fx():536870912,e.lanes|=t,Al|=t)}function gu(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function FC(e,t,n){var i=t.pendingProps;switch(_g(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ue(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ps(dn),gl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Lo(t)?ss(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fd())),Ue(t),null;case 26:var s=t.type,o=t.memoizedState;return e===null?(ss(t),o!==null?(Ue(t),tp(t,o)):(Ue(t),Wd(t,s,null,i,n))):o?o!==e.memoizedState?(ss(t),Ue(t),tp(t,o)):(Ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ss(t),Ue(t),Wd(t,s,e,i,n)),null;case 27:if(jh(t),n=$s.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ss(t);else{if(!i){if(t.stateNode===null)throw Error(rt(166));return Ue(t),null}e=kr.current,Lo(t)?N2(t):(e=sw(s,i,n),t.stateNode=e,ss(t))}return Ue(t),null;case 5:if(jh(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ss(t);else{if(!i){if(t.stateNode===null)throw Error(rt(166));return Ue(t),null}if(o=kr.current,Lo(t))N2(t);else{var h=uf($s.current);switch(o){case 1:o=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:o=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":o=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":o=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":o=h.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?h.createElement("select",{is:i.is}):h.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?h.createElement(s,{is:i.is}):h.createElement(s)}}o[Un]=t,o[mi]=i;t:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break t;for(;h.sibling===null;){if(h.return===null||h.return===t)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=o;t:switch(Hn(o,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ss(t)}}return Ue(t),Wd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ss(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(rt(166));if(e=$s.current,Lo(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=Fn,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[Un]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||ew(e.nodeValue,n)),e||ga(t,!0)}else e=uf(e).createTextNode(i),e[Un]=t,t.stateNode=e}return Ue(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Lo(t),n!==null){if(e===null){if(!i)throw Error(rt(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(rt(557));e[Un]=t}else io(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),e=!1}else n=Fd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ri(t),t):(Ri(t),null);if(t.flags&128)throw Error(rt(558))}return Ue(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Lo(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(rt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(rt(317));s[Un]=t}else io(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),s=!1}else s=Fd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Ri(t),t):(Ri(t),null)}return Ri(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ih(t,t.updateQueue),Ue(t),null);case 4:return gl(),e===null&&Wg(t.stateNode.containerInfo),Ue(t),null;case 10:return ps(t.type),Ue(t),null;case 19:if(Dn(rn),i=t.memoizedState,i===null)return Ue(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)gu(i,!1);else{if(tn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Kh(e),o!==null){for(t.flags|=128,gu(i,!1),e=o.updateQueue,t.updateQueue=e,ih(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)pE(n,e),n=n.sibling;return Le(rn,rn.current&1|2),ne&&us(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Bi()>nf&&(t.flags|=128,s=!0,gu(i,!1),t.lanes=4194304)}else{if(!s)if(e=Kh(o),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ih(t,e),gu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ne)return Ue(t),null}else 2*Bi()-i.renderingStartTime>nf&&n!==536870912&&(t.flags|=128,s=!0,gu(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Bi(),e.sibling=null,n=rn.current,Le(rn,s?n&1|2:n&1),ne&&us(t,i.treeForkCount),e):(Ue(t),null);case 22:case 23:return Ri(t),vg(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),n=t.updateQueue,n!==null&&ih(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Dn(Ja),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ps(dn),Ue(t),null;case 25:return null;case 30:return null}throw Error(rt(156,t.tag))}function jC(e,t){switch(_g(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ps(dn),gl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return jh(t),null;case 31:if(t.memoizedState!==null){if(Ri(t),t.alternate===null)throw Error(rt(340));io()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ri(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(rt(340));io()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dn(rn),null;case 4:return gl(),null;case 10:return ps(t.type),null;case 22:case 23:return Ri(t),vg(),e!==null&&Dn(Ja),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ps(dn),null;case 25:return null;default:return null}}function pA(e,t){switch(_g(t),t.tag){case 3:ps(dn),gl();break;case 26:case 27:case 5:jh(t);break;case 4:gl();break;case 31:t.memoizedState!==null&&Ri(t);break;case 13:Ri(t);break;case 19:Dn(rn);break;case 10:ps(t.type);break;case 22:case 23:Ri(t),vg(),e!==null&&Dn(Ja);break;case 24:ps(dn)}}function vc(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var o=n.create,h=n.inst;i=o(),h.destroy=i}n=n.next}while(n!==s)}}catch(m){Te(t,t.return,m)}}function ma(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var o=s.next;i=o;do{if((i.tag&e)===e){var h=i.inst,m=h.destroy;if(m!==void 0){h.destroy=void 0,s=t;var x=n,y=m;try{y()}catch(w){Te(s,x,w)}}}i=i.next}while(i!==o)}}catch(w){Te(t,t.return,w)}}function yA(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{SE(t,n)}catch(i){Te(e,e.return,i)}}}function xA(e,t,n){n.props=oo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Te(e,t,i)}}function Pu(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){Te(e,t,s)}}function Pr(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){Te(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Te(e,t,s)}else n.current=null}function EA(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){Te(e,e.return,s)}}function Kd(e,t,n){try{var i=e.stateNode;ub(i,e.type,n,t),i[mi]=t}catch(s){Te(e,e.return,s)}}function AA(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Sa(e.type)||e.tag===4}function Zd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||AA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Sa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function a1(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fs));else if(i!==4&&(i===27&&Sa(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(a1(e,t,n),e=e.sibling;e!==null;)a1(e,t,n),e=e.sibling}function ef(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Sa(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ef(e,t,n),e=e.sibling;e!==null;)ef(e,t,n),e=e.sibling}function wA(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Hn(t,i,n),t[Un]=e,t[mi]=n}catch(o){Te(e,e.return,o)}}var cs=!1,fn=!1,Jd=!1,ep=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function zC(e,t){if(e=e.containerInfo,d1=df,e=lE(e),yg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break t}var h=0,m=-1,x=-1,y=0,w=0,T=e,v=null;e:for(;;){for(var I;T!==n||s!==0&&T.nodeType!==3||(m=h+s),T!==o||i!==0&&T.nodeType!==3||(x=h+i),T.nodeType===3&&(h+=T.nodeValue.length),(I=T.firstChild)!==null;)v=T,T=I;for(;;){if(T===e)break e;if(v===n&&++y===s&&(m=h),v===o&&++w===i&&(x=h),(I=T.nextSibling)!==null)break;T=v,v=T.parentNode}T=I}n=m===-1||x===-1?null:{start:m,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(g1={focusedElem:e,selectionRange:n},df=!1,Rn=t;Rn!==null;)if(t=Rn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rn=e;else for(;Rn!==null;){switch(t=Rn,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,s=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var X=oo(n.type,s);e=i.getSnapshotBeforeUpdate(X,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(q){Te(n,n.return,q)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)p1(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":p1(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(rt(163))}if(e=t.sibling,e!==null){e.return=t.return,Rn=e;break}Rn=t.return}}function _A(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:os(e,n),i&4&&vc(5,n);break;case 1:if(os(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){Te(n,n.return,h)}else{var s=oo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Te(n,n.return,h)}}i&64&&yA(n),i&512&&Pu(n,n.return);break;case 3:if(os(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{SE(e,t)}catch(h){Te(n,n.return,h)}}break;case 27:t===null&&i&4&&wA(n);case 26:case 5:os(e,n),t===null&&i&4&&EA(n),i&512&&Pu(n,n.return);break;case 12:os(e,n);break;case 31:os(e,n),i&4&&bA(e,n);break;case 13:os(e,n),i&4&&SA(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ZC.bind(null,n),yb(e,n))));break;case 22:if(i=n.memoizedState!==null||cs,!i){t=t!==null&&t.memoizedState!==null||fn,s=cs;var o=fn;cs=i,(fn=t)&&!o?ls(e,n,(n.subtreeFlags&8772)!==0):os(e,n),cs=s,fn=o}break;case 30:break;default:os(e,n)}}function TA(e){var t=e.alternate;t!==null&&(e.alternate=null,TA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hg(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,ci=!1;function as(e,t,n){for(n=n.child;n!==null;)CA(e,t,n),n=n.sibling}function CA(e,t,n){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(Ac,n)}catch{}switch(n.tag){case 26:fn||Pr(n,t),as(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:fn||Pr(n,t);var i=Ge,s=ci;Sa(n.type)&&(Ge=n.stateNode,ci=!1),as(e,t,n),Fu(n.stateNode),Ge=i,ci=s;break;case 5:fn||Pr(n,t);case 6:if(i=Ge,s=ci,Ge=null,as(e,t,n),Ge=i,ci=s,Ge!==null)if(ci)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(n.stateNode)}catch(o){Te(n,t,o)}else try{Ge.removeChild(n.stateNode)}catch(o){Te(n,t,o)}break;case 18:Ge!==null&&(ci?(e=Ge,gp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Cl(e)):gp(Ge,n.stateNode));break;case 4:i=Ge,s=ci,Ge=n.stateNode.containerInfo,ci=!0,as(e,t,n),Ge=i,ci=s;break;case 0:case 11:case 14:case 15:ma(2,n,t),fn||ma(4,n,t),as(e,t,n);break;case 1:fn||(Pr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&xA(n,t,i)),as(e,t,n);break;case 21:as(e,t,n);break;case 22:fn=(i=fn)||n.memoizedState!==null,as(e,t,n),fn=i;break;default:as(e,t,n)}}function bA(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Cl(e)}catch(n){Te(t,t.return,n)}}}function SA(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Cl(e)}catch(n){Te(t,t.return,n)}}function HC(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ep),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ep),t;default:throw Error(rt(435,e.tag))}}function rh(e,t){var n=HC(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var s=JC.bind(null,e,i);i.then(s,s)}})}function li(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],o=e,h=t,m=h;t:for(;m!==null;){switch(m.tag){case 27:if(Sa(m.type)){Ge=m.stateNode,ci=!1;break t}break;case 5:Ge=m.stateNode,ci=!1;break t;case 3:case 4:Ge=m.stateNode.containerInfo,ci=!0;break t}m=m.return}if(Ge===null)throw Error(rt(160));CA(o,h,s),Ge=null,ci=!1,o=s.alternate,o!==null&&(o.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vA(t,e),t=t.sibling}var fr=null;function vA(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:li(t,e),ui(e),i&4&&(ma(3,e,e.return),vc(3,e),ma(5,e,e.return));break;case 1:li(t,e),ui(e),i&512&&(fn||n===null||Pr(n,n.return)),i&64&&cs&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=fr;if(li(t,e),ui(e),i&512&&(fn||n===null||Pr(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":o=s.getElementsByTagName("title")[0],(!o||o[Tc]||o[Un]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=s.createElement(i),s.head.insertBefore(o,s.querySelector("head > title"))),Hn(o,i,n),o[Un]=e,Mn(o),i=o;break t;case"link":var h=wp("link","href",s).get(i+(n.href||""));if(h){for(var m=0;m<h.length;m++)if(o=h[m],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(m,1);break e}}o=s.createElement(i),Hn(o,i,n),s.head.appendChild(o);break;case"meta":if(h=wp("meta","content",s).get(i+(n.content||""))){for(m=0;m<h.length;m++)if(o=h[m],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(m,1);break e}}o=s.createElement(i),Hn(o,i,n),s.head.appendChild(o);break;default:throw Error(rt(468,i))}o[Un]=e,Mn(o),i=o}e.stateNode=i}else _p(s,e.type,e.stateNode);else e.stateNode=Ap(s,i,e.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?_p(s,e.type,e.stateNode):Ap(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Kd(e,e.memoizedProps,n.memoizedProps)}break;case 27:li(t,e),ui(e),i&512&&(fn||n===null||Pr(n,n.return)),n!==null&&i&4&&Kd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(li(t,e),ui(e),i&512&&(fn||n===null||Pr(n,n.return)),e.flags&32){s=e.stateNode;try{pl(s,"")}catch(X){Te(e,e.return,X)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,Kd(e,s,n!==null?n.memoizedProps:s)),i&1024&&(Jd=!0);break;case 6:if(li(t,e),ui(e),i&4){if(e.stateNode===null)throw Error(rt(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(X){Te(e,e.return,X)}}break;case 3:if(Nh=null,s=fr,fr=cf(t.containerInfo),li(t,e),fr=s,ui(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Cl(t.containerInfo)}catch(X){Te(e,e.return,X)}Jd&&(Jd=!1,IA(e));break;case 4:i=fr,fr=cf(e.stateNode.containerInfo),li(t,e),ui(e),fr=i;break;case 12:li(t,e),ui(e);break;case 31:li(t,e),ui(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,rh(e,i)));break;case 13:li(t,e),ui(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Kf=Bi()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,rh(e,i)));break;case 22:s=e.memoizedState!==null;var x=n!==null&&n.memoizedState!==null,y=cs,w=fn;if(cs=y||s,fn=w||x,li(t,e),fn=w,cs=y,ui(e),i&8192)t:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||x||cs||fn||Ya(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){x=n=t;try{if(o=x.stateNode,s)h=o.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{m=x.stateNode;var T=x.memoizedProps.style,v=T!=null&&T.hasOwnProperty("display")?T.display:null;m.style.display=v==null||typeof v=="boolean"?"":(""+v).trim()}}catch(X){Te(x,x.return,X)}}}else if(t.tag===6){if(n===null){x=t;try{x.stateNode.nodeValue=s?"":x.memoizedProps}catch(X){Te(x,x.return,X)}}}else if(t.tag===18){if(n===null){x=t;try{var I=x.stateNode;s?mp(I,!0):mp(x.stateNode,!1)}catch(X){Te(x,x.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,rh(e,n))));break;case 19:li(t,e),ui(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,rh(e,i)));break;case 30:break;case 21:break;default:li(t,e),ui(e)}}function ui(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(AA(i)){n=i;break}i=i.return}if(n==null)throw Error(rt(160));switch(n.tag){case 27:var s=n.stateNode,o=Zd(e);ef(e,o,s);break;case 5:var h=n.stateNode;n.flags&32&&(pl(h,""),n.flags&=-33);var m=Zd(e);ef(e,m,h);break;case 3:case 4:var x=n.stateNode.containerInfo,y=Zd(e);a1(e,y,x);break;default:throw Error(rt(161))}}catch(w){Te(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IA(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;IA(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function os(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_A(e,t.alternate,t),t=t.sibling}function Ya(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ma(4,t,t.return),Ya(t);break;case 1:Pr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&xA(t,t.return,n),Ya(t);break;case 27:Fu(t.stateNode);case 26:case 5:Pr(t,t.return),Ya(t);break;case 22:t.memoizedState===null&&Ya(t);break;case 30:Ya(t);break;default:Ya(t)}e=e.sibling}}function ls(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,o=t,h=o.flags;switch(o.tag){case 0:case 11:case 15:ls(s,o,n),vc(4,o);break;case 1:if(ls(s,o,n),i=o,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(y){Te(i,i.return,y)}if(i=o,s=i.updateQueue,s!==null){var m=i.stateNode;try{var x=s.shared.hiddenCallbacks;if(x!==null)for(s.shared.hiddenCallbacks=null,s=0;s<x.length;s++)bE(x[s],m)}catch(y){Te(i,i.return,y)}}n&&h&64&&yA(o),Pu(o,o.return);break;case 27:wA(o);case 26:case 5:ls(s,o,n),n&&i===null&&h&4&&EA(o),Pu(o,o.return);break;case 12:ls(s,o,n);break;case 31:ls(s,o,n),n&&h&4&&bA(s,o);break;case 13:ls(s,o,n),n&&h&4&&SA(s,o);break;case 22:o.memoizedState===null&&ls(s,o,n),Pu(o,o.return);break;case 30:break;default:ls(s,o,n)}t=t.sibling}}function Hg(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&bc(n))}function Gg(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bc(e))}function hr(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)NA(e,t,n,i),t=t.sibling}function NA(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:hr(e,t,n,i),s&2048&&vc(9,t);break;case 1:hr(e,t,n,i);break;case 3:hr(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bc(e)));break;case 12:if(s&2048){hr(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,h=o.id,m=o.onPostCommit;typeof m=="function"&&m(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Te(t,t.return,x)}}else hr(e,t,n,i);break;case 31:hr(e,t,n,i);break;case 13:hr(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,h=t.alternate,t.memoizedState!==null?o._visibility&2?hr(e,t,n,i):ku(e,t):o._visibility&2?hr(e,t,n,i):(o._visibility|=2,Vo(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Hg(h,t);break;case 24:hr(e,t,n,i),s&2048&&Gg(t.alternate,t);break;default:hr(e,t,n,i)}}function Vo(e,t,n,i,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,h=t,m=n,x=i,y=h.flags;switch(h.tag){case 0:case 11:case 15:Vo(o,h,m,x,s),vc(8,h);break;case 23:break;case 22:var w=h.stateNode;h.memoizedState!==null?w._visibility&2?Vo(o,h,m,x,s):ku(o,h):(w._visibility|=2,Vo(o,h,m,x,s)),s&&y&2048&&Hg(h.alternate,h);break;case 24:Vo(o,h,m,x,s),s&&y&2048&&Gg(h.alternate,h);break;default:Vo(o,h,m,x,s)}t=t.sibling}}function ku(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:ku(n,i),s&2048&&Hg(i.alternate,i);break;case 24:ku(n,i),s&2048&&Gg(i.alternate,i);break;default:ku(n,i)}t=t.sibling}}var wu=8192;function Bo(e,t,n){if(e.subtreeFlags&wu)for(e=e.child;e!==null;)RA(e,t,n),e=e.sibling}function RA(e,t,n){switch(e.tag){case 26:Bo(e,t,n),e.flags&wu&&e.memoizedState!==null&&Nb(n,fr,e.memoizedState,e.memoizedProps);break;case 5:Bo(e,t,n);break;case 3:case 4:var i=fr;fr=cf(e.stateNode.containerInfo),Bo(e,t,n),fr=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=wu,wu=16777216,Bo(e,t,n),wu=i):Bo(e,t,n));break;default:Bo(e,t,n)}}function MA(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function mu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Rn=i,OA(i,e)}MA(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)DA(e),e=e.sibling}function DA(e){switch(e.tag){case 0:case 11:case 15:mu(e),e.flags&2048&&ma(9,e,e.return);break;case 3:mu(e);break;case 12:mu(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,vh(e)):mu(e);break;default:mu(e)}}function vh(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Rn=i,OA(i,e)}MA(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ma(8,t,t.return),vh(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,vh(t));break;default:vh(t)}e=e.sibling}}function OA(e,t){for(;Rn!==null;){var n=Rn;switch(n.tag){case 0:case 11:case 15:ma(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:bc(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Rn=i;else t:for(n=e;Rn!==null;){i=Rn;var s=i.sibling,o=i.return;if(TA(i),i===n){Rn=null;break t}if(s!==null){s.return=o,Rn=s;break t}Rn=o}}}var GC={getCacheForType:function(e){var t=zn(dn),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return zn(dn).controller.signal}},YC=typeof WeakMap=="function"?WeakMap:Map,ge=0,Re=null,Wt=null,ee=0,we=0,Ni=null,Qs=!1,Fl=!1,Yg=!1,_s=0,tn=0,pa=0,to=0,qg=0,Oi=0,Al=0,Vu=null,hi=null,o1=!1,Kf=0,LA=0,nf=1/0,rf=null,ia=null,wn=0,ra=null,wl=null,ys=0,l1=0,u1=null,BA=null,Uu=0,c1=null;function Vi(){return ge&2&&ee!==0?ee&-ee:Mt.T!==null?Qg():Gx()}function PA(){if(Oi===0)if(!(ee&536870912)||ne){var e=Kc;Kc<<=1,!(Kc&3932160)&&(Kc=262144),Oi=e}else Oi=536870912;return e=Fi.current,e!==null&&(e.flags|=32),Oi}function gi(e,t,n){(e===Re&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(_l(e,0),Ws(e,ee,Oi,!1)),_c(e,n),(!(ge&2)||e!==Re)&&(e===Re&&(!(ge&2)&&(to|=n),tn===4&&Ws(e,ee,Oi,!1)),qr(e))}function kA(e,t,n){if(ge&6)throw Error(rt(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||wc(e,t),s=i?QC(e,t):$d(e,t,!0),o=i;do{if(s===0){Fl&&!i&&Ws(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!qC(n)){s=$d(e,t,!1),o=!1;continue}if(s===2){if(o=t,e.errorRecoveryDisabledLanes&o)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;t:{var m=e;s=Vu;var x=m.current.memoizedState.isDehydrated;if(x&&(_l(m,h).flags|=256),h=$d(m,h,!1),h!==2){if(Yg&&!x){m.errorRecoveryDisabledLanes|=o,to|=o,s=4;break t}o=hi,hi=s,o!==null&&(hi===null?hi=o:hi.push.apply(hi,o))}s=h}if(o=!1,s!==2)continue}}if(s===1){_l(e,0),Ws(e,t,0,!0);break}t:{switch(i=e,o=s,o){case 0:case 1:throw Error(rt(345));case 4:if((t&4194048)!==t)break;case 6:Ws(i,t,Oi,!Qs);break t;case 2:hi=null;break;case 3:case 5:break;default:throw Error(rt(329))}if((t&62914560)===t&&(s=Kf+300-Bi(),10<s)){if(Ws(i,t,Oi,!Qs),Uf(i,0,!0)!==0)break t;ys=t,i.timeoutHandle=iw(np.bind(null,i,n,hi,rf,o1,t,Oi,to,Al,Qs,o,"Throttled",-0,0),s);break t}np(i,n,hi,rf,o1,t,Oi,to,Al,Qs,o,null,-0,0)}}break}while(!0);qr(e)}function np(e,t,n,i,s,o,h,m,x,y,w,T,v,I){if(e.timeoutHandle=-1,T=t.subtreeFlags,T&8192||(T&16785408)===16785408){T={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fs},RA(t,o,T);var X=(o&62914560)===o?Kf-Bi():(o&4194048)===o?LA-Bi():0;if(X=Rb(T,X),X!==null){ys=o,e.cancelPendingCommit=X(rp.bind(null,e,t,o,n,i,s,h,m,x,w,T,null,v,I)),Ws(e,o,h,!y);return}}rp(e,t,o,n,i,s,h,m,x)}function qC(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],o=s.getSnapshot;s=s.value;try{if(!Ui(o(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ws(e,t,n,i){t&=~qg,t&=~to,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var o=31-ki(s),h=1<<o;i[o]=-1,s&=~h}n!==0&&jx(e,n,t)}function Zf(){return ge&6?!0:(Ic(0),!1)}function Xg(){if(Wt!==null){if(we===0)var e=Wt.return;else e=Wt,ds=po=null,Dg(e),ll=null,tc=0,e=Wt;for(;e!==null;)pA(e.alternate,e),e=e.return;Wt=null}}function _l(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,fb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ys=0,Xg(),Re=e,Wt=n=ms(e.current,null),ee=t,we=0,Ni=null,Qs=!1,Fl=wc(e,t),Yg=!1,Al=Oi=qg=to=pa=tn=0,hi=Vu=null,o1=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-ki(i),o=1<<s;t|=e[s],i&=~o}return _s=t,Hf(),n}function VA(e,t){zt=null,Mt.H=nc,t===Ul||t===Yf?(t=L2(),we=3):t===bg?(t=L2(),we=4):we=t===jg?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ni=t,Wt===null&&(tn=1,$h(e,tr(t,e.current)))}function UA(){var e=Fi.current;return e===null?!0:(ee&4194048)===ee?ir===null:(ee&62914560)===ee||ee&536870912?e===ir:!1}function FA(){var e=Mt.H;return Mt.H=nc,e===null?nc:e}function jA(){var e=Mt.A;return Mt.A=GC,e}function sf(){tn=4,Qs||(ee&4194048)!==ee&&Fi.current!==null||(Fl=!0),!(pa&134217727)&&!(to&134217727)||Re===null||Ws(Re,ee,Oi,!1)}function $d(e,t,n){var i=ge;ge|=2;var s=FA(),o=jA();(Re!==e||ee!==t)&&(rf=null,_l(e,t)),t=!1;var h=tn;t:do try{if(we!==0&&Wt!==null){var m=Wt,x=Ni;switch(we){case 8:Xg(),h=6;break t;case 3:case 2:case 9:case 6:Fi.current===null&&(t=!0);var y=we;if(we=0,Ni=null,nl(e,m,x,y),n&&Fl){h=0;break t}break;default:y=we,we=0,Ni=null,nl(e,m,x,y)}}XC(),h=tn;break}catch(w){VA(e,w)}while(!0);return t&&e.shellSuspendCounter++,ds=po=null,ge=i,Mt.H=s,Mt.A=o,Wt===null&&(Re=null,ee=0,Hf()),h}function XC(){for(;Wt!==null;)zA(Wt)}function QC(e,t){var n=ge;ge|=2;var i=FA(),s=jA();Re!==e||ee!==t?(rf=null,nf=Bi()+500,_l(e,t)):Fl=wc(e,t);t:do try{if(we!==0&&Wt!==null){t=Wt;var o=Ni;e:switch(we){case 1:we=0,Ni=null,nl(e,t,o,1);break;case 2:case 9:if(O2(o)){we=0,Ni=null,ip(t);break}t=function(){we!==2&&we!==9||Re!==e||(we=7),qr(e)},o.then(t,t);break t;case 3:we=7;break t;case 4:we=5;break t;case 7:O2(o)?(we=0,Ni=null,ip(t)):(we=0,Ni=null,nl(e,t,o,7));break;case 5:var h=null;switch(Wt.tag){case 26:h=Wt.memoizedState;case 5:case 27:var m=Wt;if(h?lw(h):m.stateNode.complete){we=0,Ni=null;var x=m.sibling;if(x!==null)Wt=x;else{var y=m.return;y!==null?(Wt=y,Jf(y)):Wt=null}break e}}we=0,Ni=null,nl(e,t,o,5);break;case 6:we=0,Ni=null,nl(e,t,o,6);break;case 8:Xg(),tn=6;break t;default:throw Error(rt(462))}}WC();break}catch(w){VA(e,w)}while(!0);return ds=po=null,Mt.H=i,Mt.A=s,ge=n,Wt!==null?0:(Re=null,ee=0,Hf(),tn)}function WC(){for(;Wt!==null&&!xT();)zA(Wt)}function zA(e){var t=mA(e.alternate,e,_s);e.memoizedProps=e.pendingProps,t===null?Jf(e):Wt=t}function ip(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=K2(n,t,t.pendingProps,t.type,void 0,ee);break;case 11:t=K2(n,t,t.pendingProps,t.type.render,t.ref,ee);break;case 5:Dg(t);default:pA(n,t),t=Wt=pE(t,_s),t=mA(n,t,_s)}e.memoizedProps=e.pendingProps,t===null?Jf(e):Wt=t}function nl(e,t,n,i){ds=po=null,Dg(t),ll=null,tc=0;var s=t.return;try{if(kC(e,s,t,n,ee)){tn=1,$h(e,tr(n,e.current)),Wt=null;return}}catch(o){if(s!==null)throw Wt=s,o;tn=1,$h(e,tr(n,e.current)),Wt=null;return}t.flags&32768?(ne||i===1?e=!0:Fl||ee&536870912?e=!1:(Qs=e=!0,(i===2||i===9||i===3||i===6)&&(i=Fi.current,i!==null&&i.tag===13&&(i.flags|=16384))),HA(t,e)):Jf(t)}function Jf(e){var t=e;do{if(t.flags&32768){HA(t,Qs);return}e=t.return;var n=FC(t.alternate,t,_s);if(n!==null){Wt=n;return}if(t=t.sibling,t!==null){Wt=t;return}Wt=t=e}while(t!==null);tn===0&&(tn=5)}function HA(e,t){do{var n=jC(e.alternate,e);if(n!==null){n.flags&=32767,Wt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Wt=e;return}Wt=e=n}while(e!==null);tn=6,Wt=null}function rp(e,t,n,i,s,o,h,m,x){e.cancelPendingCommit=null;do $f();while(wn!==0);if(ge&6)throw Error(rt(327));if(t!==null){if(t===e.current)throw Error(rt(177));if(o=t.lanes|t.childLanes,o|=xg,IT(e,n,o,h,m,x),e===Re&&(Wt=Re=null,ee=0),wl=t,ra=e,ys=n,l1=o,u1=s,BA=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,$C(zh,function(){return QA(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Mt.T,Mt.T=null,s=me.p,me.p=2,h=ge,ge|=4;try{zC(e,t,n)}finally{ge=h,me.p=s,Mt.T=i}}wn=1,GA(),YA(),qA()}}function GA(){if(wn===1){wn=0;var e=ra,t=wl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Mt.T,Mt.T=null;var i=me.p;me.p=2;var s=ge;ge|=4;try{vA(t,e);var o=g1,h=lE(e.containerInfo),m=o.focusedElem,x=o.selectionRange;if(h!==m&&m&&m.ownerDocument&&oE(m.ownerDocument.documentElement,m)){if(x!==null&&yg(m)){var y=x.start,w=x.end;if(w===void 0&&(w=y),"selectionStart"in m)m.selectionStart=y,m.selectionEnd=Math.min(w,m.value.length);else{var T=m.ownerDocument||document,v=T&&T.defaultView||window;if(v.getSelection){var I=v.getSelection(),X=m.textContent.length,q=Math.min(x.start,X),J=x.end===void 0?q:Math.min(x.end,X);!I.extend&&q>J&&(h=J,J=q,q=h);var V=S2(m,q),O=S2(m,J);if(V&&O&&(I.rangeCount!==1||I.anchorNode!==V.node||I.anchorOffset!==V.offset||I.focusNode!==O.node||I.focusOffset!==O.offset)){var P=T.createRange();P.setStart(V.node,V.offset),I.removeAllRanges(),q>J?(I.addRange(P),I.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),I.addRange(P))}}}}for(T=[],I=m;I=I.parentNode;)I.nodeType===1&&T.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<T.length;m++){var j=T[m];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}df=!!d1,g1=d1=null}finally{ge=s,me.p=i,Mt.T=n}}e.current=t,wn=2}}function YA(){if(wn===2){wn=0;var e=ra,t=wl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Mt.T,Mt.T=null;var i=me.p;me.p=2;var s=ge;ge|=4;try{_A(e,t.alternate,t)}finally{ge=s,me.p=i,Mt.T=n}}wn=3}}function qA(){if(wn===4||wn===3){wn=0,ET();var e=ra,t=wl,n=ys,i=BA;t.subtreeFlags&10256||t.flags&10256?wn=5:(wn=0,wl=ra=null,XA(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ia=null),cg(n),t=t.stateNode,Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(Ac,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Mt.T,s=me.p,me.p=2,Mt.T=null;try{for(var o=e.onRecoverableError,h=0;h<i.length;h++){var m=i[h];o(m.value,{componentStack:m.stack})}}finally{Mt.T=t,me.p=s}}ys&3&&$f(),qr(e),s=e.pendingLanes,n&261930&&s&42?e===c1?Uu++:(Uu=0,c1=e):Uu=0,Ic(0)}}function XA(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,bc(t)))}function $f(){return GA(),YA(),qA(),QA()}function QA(){if(wn!==5)return!1;var e=ra,t=l1;l1=0;var n=cg(ys),i=Mt.T,s=me.p;try{me.p=32>n?32:n,Mt.T=null,n=u1,u1=null;var o=ra,h=ys;if(wn=0,wl=ra=null,ys=0,ge&6)throw Error(rt(331));var m=ge;if(ge|=4,DA(o.current),NA(o,o.current,h,n),ge=m,Ic(0,!1),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(Ac,o)}catch{}return!0}finally{me.p=s,Mt.T=i,XA(e,t)}}function sp(e,t,n){t=tr(n,t),t=i1(e.stateNode,t,2),e=na(e,t,2),e!==null&&(_c(e,2),qr(e))}function Te(e,t,n){if(e.tag===3)sp(e,e,n);else for(;t!==null;){if(t.tag===3){sp(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ia===null||!ia.has(i))){e=tr(n,e),n=uA(2),i=na(t,n,2),i!==null&&(cA(n,i,t,e),_c(i,2),qr(i));break}}t=t.return}}function t0(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new YC;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(Yg=!0,s.add(n),e=KC.bind(null,e,t,n),t.then(e,e))}function KC(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Re===e&&(ee&n)===n&&(tn===4||tn===3&&(ee&62914560)===ee&&300>Bi()-Kf?!(ge&2)&&_l(e,0):qg|=n,Al===ee&&(Al=0)),qr(e)}function WA(e,t){t===0&&(t=Fx()),e=mo(e,t),e!==null&&(_c(e,t),qr(e))}function ZC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),WA(e,n)}function JC(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(rt(314))}i!==null&&i.delete(t),WA(e,n)}function $C(e,t){return lg(e,t)}var af=null,Uo=null,h1=!1,of=!1,e0=!1,Ks=0;function qr(e){e!==Uo&&e.next===null&&(Uo===null?af=Uo=e:Uo=Uo.next=e),of=!0,h1||(h1=!0,eb())}function Ic(e,t){if(!e0&&of){e0=!0;do for(var n=!1,i=af;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var o=0;else{var h=i.suspendedLanes,m=i.pingedLanes;o=(1<<31-ki(42|e)+1)-1,o&=s&~(h&~m),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,ap(i,o))}else o=ee,o=Uf(i,i===Re?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||wc(i,o)||(n=!0,ap(i,o));i=i.next}while(n);e0=!1}}function tb(){KA()}function KA(){of=h1=!1;var e=0;Ks!==0&&hb()&&(e=Ks);for(var t=Bi(),n=null,i=af;i!==null;){var s=i.next,o=ZA(i,t);o===0?(i.next=null,n===null?af=s:n.next=s,s===null&&(Uo=n)):(n=i,(e!==0||o&3)&&(of=!0)),i=s}wn!==0&&wn!==5||Ic(e),Ks!==0&&(Ks=0)}function ZA(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var h=31-ki(o),m=1<<h,x=s[h];x===-1?(!(m&n)||m&i)&&(s[h]=vT(m,t)):x<=t&&(e.expiredLanes|=m),o&=~m}if(t=Re,n=ee,n=Uf(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(we===2||we===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Nd(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||wc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Nd(i),cg(n)){case 2:case 8:n=Vx;break;case 32:n=zh;break;case 268435456:n=Ux;break;default:n=zh}return i=JA.bind(null,e),n=lg(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Nd(i),e.callbackPriority=2,e.callbackNode=null,2}function JA(e,t){if(wn!==0&&wn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if($f()&&e.callbackNode!==n)return null;var i=ee;return i=Uf(e,e===Re?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(kA(e,i,t),ZA(e,Bi()),e.callbackNode!=null&&e.callbackNode===n?JA.bind(null,e):null)}function ap(e,t){if($f())return null;kA(e,t,!0)}function eb(){db(function(){ge&6?lg(kx,tb):KA()})}function Qg(){if(Ks===0){var e=yl;e===0&&(e=Wc,Wc<<=1,!(Wc&261888)&&(Wc=256)),Ks=e}return Ks}function op(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xh(""+e)}function lp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function nb(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var o=op((s[mi]||null).action),h=i.submitter;h&&(t=(t=h[mi]||null)?op(t.formAction):h.getAttribute("formAction"),t!==null&&(o=t,h=null));var m=new Ff("action","action",null,i,s);e.push({event:m,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ks!==0){var x=h?lp(s,h):new FormData(s);e1(n,{pending:!0,data:x,method:s.method,action:o},null,x)}}else typeof o=="function"&&(m.preventDefault(),x=h?lp(s,h):new FormData(s),e1(n,{pending:!0,data:x,method:s.method,action:o},o,x))},currentTarget:s}]})}}for(var n0=0;n0<H0.length;n0++){var i0=H0[n0],ib=i0.toLowerCase(),rb=i0[0].toUpperCase()+i0.slice(1);pr(ib,"on"+rb)}pr(cE,"onAnimationEnd");pr(hE,"onAnimationIteration");pr(fE,"onAnimationStart");pr("dblclick","onDoubleClick");pr("focusin","onFocus");pr("focusout","onBlur");pr(AC,"onTransitionRun");pr(wC,"onTransitionStart");pr(_C,"onTransitionCancel");pr(dE,"onTransitionEnd");ml("onMouseEnter",["mouseout","mouseover"]);ml("onMouseLeave",["mouseout","mouseover"]);ml("onPointerEnter",["pointerout","pointerover"]);ml("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ic));function $A(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var o=void 0;if(t)for(var h=i.length-1;0<=h;h--){var m=i[h],x=m.instance,y=m.currentTarget;if(m=m.listener,x!==o&&s.isPropagationStopped())break t;o=m,s.currentTarget=y;try{o(s)}catch(w){Gh(w)}s.currentTarget=null,o=x}else for(h=0;h<i.length;h++){if(m=i[h],x=m.instance,y=m.currentTarget,m=m.listener,x!==o&&s.isPropagationStopped())break t;o=m,s.currentTarget=y;try{o(s)}catch(w){Gh(w)}s.currentTarget=null,o=x}}}}function Qt(e,t){var n=t[B0];n===void 0&&(n=t[B0]=new Set);var i=e+"__bubble";n.has(i)||(tw(t,e,2,!1),n.add(i))}function r0(e,t,n){var i=0;t&&(i|=4),tw(n,e,i,t)}var sh="_reactListening"+Math.random().toString(36).slice(2);function Wg(e){if(!e[sh]){e[sh]=!0,Yx.forEach(function(n){n!=="selectionchange"&&(sb.has(n)||r0(n,!1,e),r0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sh]||(t[sh]=!0,r0("selectionchange",!1,t))}}function tw(e,t,n,i){switch(dw(t)){case 2:var s=Ob;break;case 8:s=Lb;break;default:s=$g}n=s.bind(null,t,n,e),s=void 0,!F0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function s0(e,t,n,i,s){var o=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var m=i.stateNode.containerInfo;if(m===s)break;if(h===4)for(h=i.return;h!==null;){var x=h.tag;if((x===3||x===4)&&h.stateNode.containerInfo===s)return;h=h.return}for(;m!==null;){if(h=Xo(m),h===null)return;if(x=h.tag,x===5||x===6||x===26||x===27){i=o=h;continue t}m=m.parentNode}}i=i.return}$x(function(){var y=o,w=dg(n),T=[];t:{var v=gE.get(e);if(v!==void 0){var I=Ff,X=e;switch(e){case"keypress":if(Ah(n)===0)break t;case"keydown":case"keyup":I=JT;break;case"focusin":X="focus",I=Ld;break;case"focusout":X="blur",I=Ld;break;case"beforeblur":case"afterblur":I=Ld;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=p2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=FT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=eC;break;case cE:case hE:case fE:I=HT;break;case dE:I=iC;break;case"scroll":case"scrollend":I=VT;break;case"wheel":I=sC;break;case"copy":case"cut":case"paste":I=YT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=x2;break;case"toggle":case"beforetoggle":I=oC}var q=(t&4)!==0,J=!q&&(e==="scroll"||e==="scrollend"),V=q?v!==null?v+"Capture":null:v;q=[];for(var O=y,P;O!==null;){var j=O;if(P=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||P===null||V===null||(j=Wu(O,V),j!=null&&q.push(rc(O,j,P))),J)break;O=O.return}0<q.length&&(v=new I(v,X,null,n,w),T.push({event:v,listeners:q}))}}if(!(t&7)){t:{if(v=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",v&&n!==U0&&(X=n.relatedTarget||n.fromElement)&&(Xo(X)||X[Pl]))break t;if((I||v)&&(v=w.window===w?w:(v=w.ownerDocument)?v.defaultView||v.parentWindow:window,I?(X=n.relatedTarget||n.toElement,I=y,X=X?Xo(X):null,X!==null&&(J=Ec(X),q=X.tag,X!==J||q!==5&&q!==27&&q!==6)&&(X=null)):(I=null,X=y),I!==X)){if(q=p2,j="onMouseLeave",V="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(q=x2,j="onPointerLeave",V="onPointerEnter",O="pointer"),J=I==null?v:Eu(I),P=X==null?v:Eu(X),v=new q(j,O+"leave",I,n,w),v.target=J,v.relatedTarget=P,j=null,Xo(w)===y&&(q=new q(V,O+"enter",X,n,w),q.target=P,q.relatedTarget=J,j=q),J=j,I&&X)e:{for(q=ab,V=I,O=X,P=0,j=V;j;j=q(j))P++;j=0;for(var st=O;st;st=q(st))j++;for(;0<P-j;)V=q(V),P--;for(;0<j-P;)O=q(O),j--;for(;P--;){if(V===O||O!==null&&V===O.alternate){q=V;break e}V=q(V),O=q(O)}q=null}else q=null;I!==null&&up(T,v,I,q,!1),X!==null&&J!==null&&up(T,J,X,q,!0)}}t:{if(v=y?Eu(y):window,I=v.nodeName&&v.nodeName.toLowerCase(),I==="select"||I==="input"&&v.type==="file")var at=_2;else if(w2(v))if(sE)at=yC;else{at=mC;var M=gC}else I=v.nodeName,!I||I.toLowerCase()!=="input"||v.type!=="checkbox"&&v.type!=="radio"?y&&fg(y.elementType)&&(at=_2):at=pC;if(at&&(at=at(e,y))){rE(T,at,n,w);break t}M&&M(e,v,y),e==="focusout"&&y&&v.type==="number"&&y.memoizedProps.value!=null&&V0(v,"number",v.value)}switch(M=y?Eu(y):window,e){case"focusin":(w2(M)||M.contentEditable==="true")&&(Ko=M,j0=y,Ru=null);break;case"focusout":Ru=j0=Ko=null;break;case"mousedown":z0=!0;break;case"contextmenu":case"mouseup":case"dragend":z0=!1,v2(T,n,w);break;case"selectionchange":if(EC)break;case"keydown":case"keyup":v2(T,n,w)}var D;if(pg)t:{switch(e){case"compositionstart":var R="onCompositionStart";break t;case"compositionend":R="onCompositionEnd";break t;case"compositionupdate":R="onCompositionUpdate";break t}R=void 0}else Wo?nE(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(eE&&n.locale!=="ko"&&(Wo||R!=="onCompositionStart"?R==="onCompositionEnd"&&Wo&&(D=tE()):(Xs=w,gg="value"in Xs?Xs.value:Xs.textContent,Wo=!0)),M=lf(y,R),0<M.length&&(R=new y2(R,e,null,n,w),T.push({event:R,listeners:M}),D?R.data=D:(D=iE(n),D!==null&&(R.data=D)))),(D=uC?cC(e,n):hC(e,n))&&(R=lf(y,"onBeforeInput"),0<R.length&&(M=new y2("onBeforeInput","beforeinput",null,n,w),T.push({event:M,listeners:R}),M.data=D)),nb(T,e,y,n,w)}$A(T,t)})}function rc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lf(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,o=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||o===null||(s=Wu(e,n),s!=null&&i.unshift(rc(e,s,o)),s=Wu(e,t),s!=null&&i.push(rc(e,s,o))),e.tag===3)return i;e=e.return}return[]}function ab(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function up(e,t,n,i,s){for(var o=t._reactName,h=[];n!==null&&n!==i;){var m=n,x=m.alternate,y=m.stateNode;if(m=m.tag,x!==null&&x===i)break;m!==5&&m!==26&&m!==27||y===null||(x=y,s?(y=Wu(n,o),y!=null&&h.unshift(rc(n,y,x))):s||(y=Wu(n,o),y!=null&&h.push(rc(n,y,x)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var ob=/\r\n?/g,lb=/\u0000|\uFFFD/g;function cp(e){return(typeof e=="string"?e:""+e).replace(ob,`
`).replace(lb,"")}function ew(e,t){return t=cp(t),cp(e)===t}function Se(e,t,n,i,s,o){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||pl(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&pl(e,""+i);break;case"className":Jc(e,"class",i);break;case"tabIndex":Jc(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Jc(e,n,i);break;case"style":Jx(e,i,o);break;case"data":if(t!=="object"){Jc(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=xh(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&Se(e,t,"name",s.name,s,null),Se(e,t,"formEncType",s.formEncType,s,null),Se(e,t,"formMethod",s.formMethod,s,null),Se(e,t,"formTarget",s.formTarget,s,null)):(Se(e,t,"encType",s.encType,s,null),Se(e,t,"method",s.method,s,null),Se(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=xh(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=fs);break;case"onScroll":i!=null&&Qt("scroll",e);break;case"onScrollEnd":i!=null&&Qt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(rt(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(rt(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=xh(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Qt("beforetoggle",e),Qt("toggle",e),yh(e,"popover",i);break;case"xlinkActuate":rs(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":rs(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":rs(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":rs(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":rs(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":rs(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":rs(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":rs(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":rs(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":yh(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=PT.get(n)||n,yh(e,n,i))}}function f1(e,t,n,i,s,o){switch(n){case"style":Jx(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(rt(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(rt(60));e.innerHTML=n}}break;case"children":typeof i=="string"?pl(e,i):(typeof i=="number"||typeof i=="bigint")&&pl(e,""+i);break;case"onScroll":i!=null&&Qt("scroll",e);break;case"onScrollEnd":i!=null&&Qt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=fs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qx.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),o=e[mi]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,s),typeof i=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):yh(e,n,i)}}}function Hn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",e),Qt("load",e);var i=!1,s=!1,o;for(o in n)if(n.hasOwnProperty(o)){var h=n[o];if(h!=null)switch(o){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(rt(137,t));default:Se(e,t,o,h,n,null)}}s&&Se(e,t,"srcSet",n.srcSet,n,null),i&&Se(e,t,"src",n.src,n,null);return;case"input":Qt("invalid",e);var m=o=h=s=null,x=null,y=null;for(i in n)if(n.hasOwnProperty(i)){var w=n[i];if(w!=null)switch(i){case"name":s=w;break;case"type":h=w;break;case"checked":x=w;break;case"defaultChecked":y=w;break;case"value":o=w;break;case"defaultValue":m=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(rt(137,t));break;default:Se(e,t,i,w,n,null)}}Wx(e,o,m,x,y,h,s,!1);return;case"select":Qt("invalid",e),i=h=o=null;for(s in n)if(n.hasOwnProperty(s)&&(m=n[s],m!=null))switch(s){case"value":o=m;break;case"defaultValue":h=m;break;case"multiple":i=m;default:Se(e,t,s,m,n,null)}t=o,n=h,e.multiple=!!i,t!=null?sl(e,!!i,t,!1):n!=null&&sl(e,!!i,n,!0);return;case"textarea":Qt("invalid",e),o=s=i=null;for(h in n)if(n.hasOwnProperty(h)&&(m=n[h],m!=null))switch(h){case"value":i=m;break;case"defaultValue":s=m;break;case"children":o=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(rt(91));break;default:Se(e,t,h,m,n,null)}Zx(e,i,s,o);return;case"option":for(x in n)if(n.hasOwnProperty(x)&&(i=n[x],i!=null))switch(x){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Se(e,t,x,i,n,null)}return;case"dialog":Qt("beforetoggle",e),Qt("toggle",e),Qt("cancel",e),Qt("close",e);break;case"iframe":case"object":Qt("load",e);break;case"video":case"audio":for(i=0;i<ic.length;i++)Qt(ic[i],e);break;case"image":Qt("error",e),Qt("load",e);break;case"details":Qt("toggle",e);break;case"embed":case"source":case"link":Qt("error",e),Qt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(y in n)if(n.hasOwnProperty(y)&&(i=n[y],i!=null))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(rt(137,t));default:Se(e,t,y,i,n,null)}return;default:if(fg(t)){for(w in n)n.hasOwnProperty(w)&&(i=n[w],i!==void 0&&f1(e,t,w,i,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!=null&&Se(e,t,m,i,n,null))}function ub(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,o=null,h=null,m=null,x=null,y=null,w=null;for(I in n){var T=n[I];if(n.hasOwnProperty(I)&&T!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":x=T;default:i.hasOwnProperty(I)||Se(e,t,I,null,i,T)}}for(var v in i){var I=i[v];if(T=n[v],i.hasOwnProperty(v)&&(I!=null||T!=null))switch(v){case"type":o=I;break;case"name":s=I;break;case"checked":y=I;break;case"defaultChecked":w=I;break;case"value":h=I;break;case"defaultValue":m=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(rt(137,t));break;default:I!==T&&Se(e,t,v,I,i,T)}}k0(e,h,m,x,y,w,o,s);return;case"select":I=h=m=v=null;for(o in n)if(x=n[o],n.hasOwnProperty(o)&&x!=null)switch(o){case"value":break;case"multiple":I=x;default:i.hasOwnProperty(o)||Se(e,t,o,null,i,x)}for(s in i)if(o=i[s],x=n[s],i.hasOwnProperty(s)&&(o!=null||x!=null))switch(s){case"value":v=o;break;case"defaultValue":m=o;break;case"multiple":h=o;default:o!==x&&Se(e,t,s,o,i,x)}t=m,n=h,i=I,v!=null?sl(e,!!n,v,!1):!!i!=!!n&&(t!=null?sl(e,!!n,t,!0):sl(e,!!n,n?[]:"",!1));return;case"textarea":I=v=null;for(m in n)if(s=n[m],n.hasOwnProperty(m)&&s!=null&&!i.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:Se(e,t,m,null,i,s)}for(h in i)if(s=i[h],o=n[h],i.hasOwnProperty(h)&&(s!=null||o!=null))switch(h){case"value":v=s;break;case"defaultValue":I=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(rt(91));break;default:s!==o&&Se(e,t,h,s,i,o)}Kx(e,v,I);return;case"option":for(var X in n)if(v=n[X],n.hasOwnProperty(X)&&v!=null&&!i.hasOwnProperty(X))switch(X){case"selected":e.selected=!1;break;default:Se(e,t,X,null,i,v)}for(x in i)if(v=i[x],I=n[x],i.hasOwnProperty(x)&&v!==I&&(v!=null||I!=null))switch(x){case"selected":e.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Se(e,t,x,v,i,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var q in n)v=n[q],n.hasOwnProperty(q)&&v!=null&&!i.hasOwnProperty(q)&&Se(e,t,q,null,i,v);for(y in i)if(v=i[y],I=n[y],i.hasOwnProperty(y)&&v!==I&&(v!=null||I!=null))switch(y){case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(rt(137,t));break;default:Se(e,t,y,v,i,I)}return;default:if(fg(t)){for(var J in n)v=n[J],n.hasOwnProperty(J)&&v!==void 0&&!i.hasOwnProperty(J)&&f1(e,t,J,void 0,i,v);for(w in i)v=i[w],I=n[w],!i.hasOwnProperty(w)||v===I||v===void 0&&I===void 0||f1(e,t,w,v,i,I);return}}for(var V in n)v=n[V],n.hasOwnProperty(V)&&v!=null&&!i.hasOwnProperty(V)&&Se(e,t,V,null,i,v);for(T in i)v=i[T],I=n[T],!i.hasOwnProperty(T)||v===I||v==null&&I==null||Se(e,t,T,v,i,I)}function hp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],o=s.transferSize,h=s.initiatorType,m=s.duration;if(o&&m&&hp(h)){for(h=0,m=s.responseEnd,i+=1;i<n.length;i++){var x=n[i],y=x.startTime;if(y>m)break;var w=x.transferSize,T=x.initiatorType;w&&hp(T)&&(x=x.responseEnd,h+=w*(x<m?1:(m-y)/(x-y)))}if(--i,t+=8*(o+h)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var d1=null,g1=null;function uf(e){return e.nodeType===9?e:e.ownerDocument}function fp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nw(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function m1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a0=null;function hb(){var e=window.event;return e&&e.type==="popstate"?e===a0?!1:(a0=e,!0):(a0=null,!1)}var iw=typeof setTimeout=="function"?setTimeout:void 0,fb=typeof clearTimeout=="function"?clearTimeout:void 0,dp=typeof Promise=="function"?Promise:void 0,db=typeof queueMicrotask=="function"?queueMicrotask:typeof dp<"u"?function(e){return dp.resolve(null).then(e).catch(gb)}:iw;function gb(e){setTimeout(function(){throw e})}function Sa(e){return e==="head"}function gp(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(s),Cl(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Fu(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Fu(n);for(var o=n.firstChild;o;){var h=o.nextSibling,m=o.nodeName;o[Tc]||m==="SCRIPT"||m==="STYLE"||m==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=h}}else n==="body"&&Fu(e.ownerDocument.body);n=s}while(n);Cl(t)}function mp(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function p1(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":p1(n),hg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function mb(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Tc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=rr(e.nextSibling),e===null)break}return null}function pb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=rr(e.nextSibling),e===null))return null;return e}function rw(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=rr(e.nextSibling),e===null))return null;return e}function y1(e){return e.data==="$?"||e.data==="$~"}function x1(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yb(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var E1=null;function pp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return rr(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function yp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function sw(e,t,n){switch(t=uf(n),e){case"html":if(e=t.documentElement,!e)throw Error(rt(452));return e;case"head":if(e=t.head,!e)throw Error(rt(453));return e;case"body":if(e=t.body,!e)throw Error(rt(454));return e;default:throw Error(rt(451))}}function Fu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hg(e)}var sr=new Map,xp=new Set;function cf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ss=me.d;me.d={f:xb,r:Eb,D:Ab,C:wb,L:_b,m:Tb,X:bb,S:Cb,M:Sb};function xb(){var e=Ss.f(),t=Zf();return e||t}function Eb(e){var t=kl(e);t!==null&&t.tag===5&&t.type==="form"?JE(t):Ss.r(e)}var jl=typeof document>"u"?null:document;function aw(e,t,n){var i=jl;if(i&&typeof t=="string"&&t){var s=$i(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),xp.has(s)||(xp.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),Hn(t,"link",e),Mn(t),i.head.appendChild(t)))}}function Ab(e){Ss.D(e),aw("dns-prefetch",e,null)}function wb(e,t){Ss.C(e,t),aw("preconnect",e,t)}function _b(e,t,n){Ss.L(e,t,n);var i=jl;if(i&&e&&t){var s='link[rel="preload"][as="'+$i(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+$i(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+$i(n.imageSizes)+'"]')):s+='[href="'+$i(e)+'"]';var o=s;switch(t){case"style":o=Tl(e);break;case"script":o=zl(e)}sr.has(o)||(e=He({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),sr.set(o,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(Nc(o))||t==="script"&&i.querySelector(Rc(o))||(t=i.createElement("link"),Hn(t,"link",e),Mn(t),i.head.appendChild(t)))}}function Tb(e,t){Ss.m(e,t);var n=jl;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+$i(i)+'"][href="'+$i(e)+'"]',o=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=zl(e)}if(!sr.has(o)&&(e=He({rel:"modulepreload",href:e},t),sr.set(o,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rc(o)))return}i=n.createElement("link"),Hn(i,"link",e),Mn(i),n.head.appendChild(i)}}}function Cb(e,t,n){Ss.S(e,t,n);var i=jl;if(i&&e){var s=rl(i).hoistableStyles,o=Tl(e);t=t||"default";var h=s.get(o);if(!h){var m={loading:0,preload:null};if(h=i.querySelector(Nc(o)))m.loading=5;else{e=He({rel:"stylesheet",href:e,"data-precedence":t},n),(n=sr.get(o))&&Kg(e,n);var x=h=i.createElement("link");Mn(x),Hn(x,"link",e),x._p=new Promise(function(y,w){x.onload=y,x.onerror=w}),x.addEventListener("load",function(){m.loading|=1}),x.addEventListener("error",function(){m.loading|=2}),m.loading|=4,Ih(h,t,i)}h={type:"stylesheet",instance:h,count:1,state:m},s.set(o,h)}}}function bb(e,t){Ss.X(e,t);var n=jl;if(n&&e){var i=rl(n).hoistableScripts,s=zl(e),o=i.get(s);o||(o=n.querySelector(Rc(s)),o||(e=He({src:e,async:!0},t),(t=sr.get(s))&&Zg(e,t),o=n.createElement("script"),Mn(o),Hn(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(s,o))}}function Sb(e,t){Ss.M(e,t);var n=jl;if(n&&e){var i=rl(n).hoistableScripts,s=zl(e),o=i.get(s);o||(o=n.querySelector(Rc(s)),o||(e=He({src:e,async:!0,type:"module"},t),(t=sr.get(s))&&Zg(e,t),o=n.createElement("script"),Mn(o),Hn(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(s,o))}}function Ep(e,t,n,i){var s=(s=$s.current)?cf(s):null;if(!s)throw Error(rt(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Tl(n.href),n=rl(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Tl(n.href);var o=rl(s).hoistableStyles,h=o.get(e);if(h||(s=s.ownerDocument||s,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,h),(o=s.querySelector(Nc(e)))&&!o._p&&(h.instance=o,h.state.loading=5),sr.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},sr.set(e,n),o||vb(s,e,n,h.state))),t&&i===null)throw Error(rt(528,""));return h}if(t&&i!==null)throw Error(rt(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zl(n),n=rl(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(rt(444,e))}}function Tl(e){return'href="'+$i(e)+'"'}function Nc(e){return'link[rel="stylesheet"]['+e+"]"}function ow(e){return He({},e,{"data-precedence":e.precedence,precedence:null})}function vb(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Hn(t,"link",n),Mn(t),e.head.appendChild(t))}function zl(e){return'[src="'+$i(e)+'"]'}function Rc(e){return"script[async]"+e}function Ap(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+$i(n.href)+'"]');if(i)return t.instance=i,Mn(i),i;var s=He({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Mn(i),Hn(i,"style",s),Ih(i,n.precedence,e),t.instance=i;case"stylesheet":s=Tl(n.href);var o=e.querySelector(Nc(s));if(o)return t.state.loading|=4,t.instance=o,Mn(o),o;i=ow(n),(s=sr.get(s))&&Kg(i,s),o=(e.ownerDocument||e).createElement("link"),Mn(o);var h=o;return h._p=new Promise(function(m,x){h.onload=m,h.onerror=x}),Hn(o,"link",i),t.state.loading|=4,Ih(o,n.precedence,e),t.instance=o;case"script":return o=zl(n.src),(s=e.querySelector(Rc(o)))?(t.instance=s,Mn(s),s):(i=n,(s=sr.get(o))&&(i=He({},n),Zg(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),Mn(s),Hn(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(rt(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Ih(i,n.precedence,e));return t.instance}function Ih(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,o=s,h=0;h<i.length;h++){var m=i[h];if(m.dataset.precedence===t)o=m;else if(o!==s)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Kg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Nh=null;function wp(e,t,n){if(Nh===null){var i=new Map,s=Nh=new Map;s.set(n,i)}else s=Nh,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var o=n[s];if(!(o[Tc]||o[Un]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var h=o.getAttribute(t)||"";h=e+h;var m=i.get(h);m?m.push(o):i.set(h,[o])}}return i}function _p(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Ib(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function lw(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Nb(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=Tl(i.href),o=t.querySelector(Nc(s));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=hf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Mn(o);return}o=t.ownerDocument||t,i=ow(i),(s=sr.get(s))&&Kg(i,s),o=o.createElement("link"),Mn(o);var h=o;h._p=new Promise(function(m,x){h.onload=m,h.onerror=x}),Hn(o,"link",i),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=hf.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var o0=0;function Rb(e,t){return e.stylesheets&&e.count===0&&Rh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Rh(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&o0===0&&(o0=62500*cb());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Rh(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>o0?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function hf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ff=null;function Rh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ff=new Map,t.forEach(Mb,e),ff=null,hf.call(e))}function Mb(e,t){if(!(t.state.loading&4)){var n=ff.get(e);if(n)var i=n.get(null);else{n=new Map,ff.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<s.length;o++){var h=s[o];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),i=h)}i&&n.set(null,i)}s=t.instance,h=s.getAttribute("data-precedence"),o=n.get(h)||i,o===i&&n.set(null,s),n.set(h,s),this.count++,i=hf.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),o?o.parentNode.insertBefore(s,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var sc={$$typeof:hs,Provider:null,Consumer:null,_currentValue:Ka,_currentValue2:Ka,_threadCount:0};function Db(e,t,n,i,s,o,h,m,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rd(0),this.hiddenUpdates=Rd(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=o,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function uw(e,t,n,i,s,o,h,m,x,y,w,T){return e=new Db(e,t,n,h,x,y,w,T,m),t=1,o===!0&&(t|=24),o=Mi(3,null,null,t),e.current=o,o.stateNode=e,t=Tg(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},Sg(o),e}function cw(e){return e?(e=$o,e):$o}function hw(e,t,n,i,s,o){s=cw(s),i.context===null?i.context=s:i.pendingContext=s,i=ea(t),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=na(e,i,t),n!==null&&(gi(n,e,t),Du(n,e,t))}function Tp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jg(e,t){Tp(e,t),(e=e.alternate)&&Tp(e,t)}function fw(e){if(e.tag===13||e.tag===31){var t=mo(e,67108864);t!==null&&gi(t,e,67108864),Jg(e,67108864)}}function Cp(e){if(e.tag===13||e.tag===31){var t=Vi();t=ug(t);var n=mo(e,t);n!==null&&gi(n,e,t),Jg(e,t)}}var df=!0;function Ob(e,t,n,i){var s=Mt.T;Mt.T=null;var o=me.p;try{me.p=2,$g(e,t,n,i)}finally{me.p=o,Mt.T=s}}function Lb(e,t,n,i){var s=Mt.T;Mt.T=null;var o=me.p;try{me.p=8,$g(e,t,n,i)}finally{me.p=o,Mt.T=s}}function $g(e,t,n,i){if(df){var s=A1(i);if(s===null)s0(e,t,i,gf,n),bp(e,i);else if(Pb(s,e,t,n,i))i.stopPropagation();else if(bp(e,i),t&4&&-1<Bb.indexOf(e)){for(;s!==null;){var o=kl(s);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var h=Ha(o.pendingLanes);if(h!==0){var m=o;for(m.pendingLanes|=2,m.entangledLanes|=2;h;){var x=1<<31-ki(h);m.entanglements[1]|=x,h&=~x}qr(o),!(ge&6)&&(nf=Bi()+500,Ic(0))}}break;case 31:case 13:m=mo(o,2),m!==null&&gi(m,o,2),Zf(),Jg(o,2)}if(o=A1(i),o===null&&s0(e,t,i,gf,n),o===s)break;s=o}s!==null&&i.stopPropagation()}else s0(e,t,i,null,n)}}function A1(e){return e=dg(e),tm(e)}var gf=null;function tm(e){if(gf=null,e=Xo(e),e!==null){var t=Ec(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Dx(t),e!==null)return e;e=null}else if(n===31){if(e=Ox(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return gf=e,null}function dw(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(AT()){case kx:return 2;case Vx:return 8;case zh:case wT:return 32;case Ux:return 268435456;default:return 32}default:return 32}}var w1=!1,sa=null,aa=null,oa=null,ac=new Map,oc=new Map,Ys=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bp(e,t){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(t.pointerId)}}function pu(e,t,n,i,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},t!==null&&(t=kl(t),t!==null&&fw(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Pb(e,t,n,i,s){switch(t){case"focusin":return sa=pu(sa,e,t,n,i,s),!0;case"dragenter":return aa=pu(aa,e,t,n,i,s),!0;case"mouseover":return oa=pu(oa,e,t,n,i,s),!0;case"pointerover":var o=s.pointerId;return ac.set(o,pu(ac.get(o)||null,e,t,n,i,s)),!0;case"gotpointercapture":return o=s.pointerId,oc.set(o,pu(oc.get(o)||null,e,t,n,i,s)),!0}return!1}function gw(e){var t=Xo(e.target);if(t!==null){var n=Ec(t);if(n!==null){if(t=n.tag,t===13){if(t=Dx(n),t!==null){e.blockedOn=t,u2(e.priority,function(){Cp(n)});return}}else if(t===31){if(t=Ox(n),t!==null){e.blockedOn=t,u2(e.priority,function(){Cp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=A1(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);U0=i,n.target.dispatchEvent(i),U0=null}else return t=kl(n),t!==null&&fw(t),e.blockedOn=n,!1;t.shift()}return!0}function Sp(e,t,n){Mh(e)&&n.delete(t)}function kb(){w1=!1,sa!==null&&Mh(sa)&&(sa=null),aa!==null&&Mh(aa)&&(aa=null),oa!==null&&Mh(oa)&&(oa=null),ac.forEach(Sp),oc.forEach(Sp)}function ah(e,t){e.blockedOn===t&&(e.blockedOn=null,w1||(w1=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,kb)))}var oh=null;function vp(e){oh!==e&&(oh=e,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,function(){oh===e&&(oh=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(tm(i||n)===null)continue;break}var o=kl(n);o!==null&&(e.splice(t,3),t-=3,e1(o,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Cl(e){function t(x){return ah(x,e)}sa!==null&&ah(sa,e),aa!==null&&ah(aa,e),oa!==null&&ah(oa,e),ac.forEach(t),oc.forEach(t);for(var n=0;n<Ys.length;n++){var i=Ys[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ys.length&&(n=Ys[0],n.blockedOn===null);)gw(n),n.blockedOn===null&&Ys.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],o=n[i+1],h=s[mi]||null;if(typeof o=="function")h||vp(n);else if(h){var m=null;if(o&&o.hasAttribute("formAction")){if(s=o,h=o[mi]||null)m=h.formAction;else if(tm(s)!==null)continue}else m=h.action;typeof m=="function"?n[i+1]=m:(n.splice(i,3),i-=3),vp(n)}}}function mw(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(h){return s=h})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function em(e){this._internalRoot=e}td.prototype.render=em.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(rt(409));var n=t.current,i=Vi();hw(n,i,e,t,null,null)};td.prototype.unmount=em.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hw(e.current,2,null,e,null,null),Zf(),t[Pl]=null}};function td(e){this._internalRoot=e}td.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ys.length&&t!==0&&t<Ys[n].priority;n++);Ys.splice(n,0,e),n===0&&gw(e)}};var Ip=Rx.version;if(Ip!=="19.2.0")throw Error(rt(527,Ip,"19.2.0"));me.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(rt(188)):(e=Object.keys(e).join(","),Error(rt(268,e)));return e=dT(t),e=e!==null?Lx(e):null,e=e===null?null:e.stateNode,e};var Vb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Mt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{Ac=lh.inject(Vb),Pi=lh}catch{}}kf.createRoot=function(e,t){if(!Mx(e))throw Error(rt(299));var n=!1,i="",s=aA,o=oA,h=lA;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=uw(e,1,!1,null,null,n,i,null,s,o,h,mw),e[Pl]=t.current,Wg(e),new em(t)};kf.hydrateRoot=function(e,t,n){if(!Mx(e))throw Error(rt(299));var i=!1,s="",o=aA,h=oA,m=lA,x=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.formState!==void 0&&(x=n.formState)),t=uw(e,1,!0,t,n??null,i,s,x,o,h,m,mw),t.context=cw(null),n=t.current,i=Vi(),i=ug(i),s=ea(i),s.callback=null,na(n,s,i),n=i,t.current.lanes=n,_c(t,n),qr(t),e[Pl]=t.current,Wg(e),new td(t)};kf.version="19.2.0";function pw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pw)}catch(e){console.error(e)}}pw(),Cx.exports=kf;var Ub=Cx.exports;const Fb=tg(Ub),jb=()=>{};var Np={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},zb=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=e[n++],h=e[n++],m=e[n++],x=((s&7)<<18|(o&63)<<12|(h&63)<<6|m&63)-65536;t[i++]=String.fromCharCode(55296+(x>>10)),t[i++]=String.fromCharCode(56320+(x&1023))}else{const o=e[n++],h=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|h&63)}}return t.join("")},xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const o=e[s],h=s+1<e.length,m=h?e[s+1]:0,x=s+2<e.length,y=x?e[s+2]:0,w=o>>2,T=(o&3)<<4|m>>4;let v=(m&15)<<2|y>>6,I=y&63;x||(I=64,h||(v=64)),i.push(n[w],n[T],n[v],n[I])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(yw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):zb(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const o=n[e.charAt(s++)],m=s<e.length?n[e.charAt(s)]:0;++s;const y=s<e.length?n[e.charAt(s)]:64;++s;const T=s<e.length?n[e.charAt(s)]:64;if(++s,o==null||m==null||y==null||T==null)throw new Hb;const v=o<<2|m>>4;if(i.push(v),y!==64){const I=m<<4&240|y>>2;if(i.push(I),T!==64){const X=y<<6&192|T;i.push(X)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Hb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gb=function(e){const t=yw(e);return xw.encodeByteArray(t,!0)},mf=function(e){return Gb(e).replace(/\./g,"")},Yb=function(e){try{return xw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=()=>qb().__FIREBASE_DEFAULTS__,Qb=()=>{if(typeof process>"u"||typeof Np>"u")return;const e=Np.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Wb=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Yb(e[1]);return t&&JSON.parse(t)},nm=()=>{try{return jb()||Xb()||Qb()||Wb()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Kb=e=>{var t,n;return(n=(t=nm())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},Zb=e=>{const t=Kb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Ew=()=>{var e;return(e=nm())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $b(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};return[mf(JSON.stringify(n)),mf(JSON.stringify(h)),""].join(".")}const ju={};function e4(){const e={prod:[],emulator:[]};for(const t of Object.keys(ju))ju[t]?e.emulator.push(t):e.prod.push(t);return e}function n4(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Rp=!1;function i4(e,t){if(typeof window>"u"||typeof document>"u"||!im(window.location.host)||ju[e]===t||ju[e]||Rp)return;ju[e]=t;function n(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=e4().prod.length>0;function h(){const v=document.getElementById(i);v&&v.remove()}function m(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function x(v,I){v.setAttribute("width","24"),v.setAttribute("id",I),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function y(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Rp=!0,h()},v}function w(v,I){v.setAttribute("id",I),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function T(){const v=n4(i),I=n("text"),X=document.getElementById(I)||document.createElement("span"),q=n("learnmore"),J=document.getElementById(q)||document.createElement("a"),V=n("preprendIcon"),O=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const P=v.element;m(P),w(J,q);const j=y();x(O,V),P.append(O,X,J,j),document.body.appendChild(P)}o?(X.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s4(){var t;const e=(t=nm())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a4(){return!s4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o4(){try{return typeof indexedDB=="object"}catch{return!1}}function l4(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;t(((o=s.error)==null?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="FirebaseError";class Hl extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=u4,Object.setPrototypeOf(this,Hl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Aw.prototype.create)}}class Aw{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,o=this.errors[t],h=o?c4(o,i):"Error",m=`${this.serviceName}: ${h} (${s}).`;return new Hl(s,m,i)}}function c4(e,t){return e.replace(h4,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const h4=/\{\$([^}]+)}/g;function pf(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const o=e[s],h=t[s];if(Mp(o)&&Mp(h)){if(!pf(o,h))return!1}else if(o!==h)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Mp(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(e){return e&&e._delegate?e._delegate:e}class lc{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Jb;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(g4(t))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(t=qa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qa){return this.instances.has(t)}getOptions(t=qa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(o);i===m&&h.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:d4(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=qa){return this.component?this.component.multipleInstances?t:qa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d4(e){return e===qa?void 0:e}function g4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new f4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(le||(le={}));const p4={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},y4=le.INFO,x4={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},E4=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=x4[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ww{constructor(t){this.name=t,this._logLevel=y4,this._logHandler=E4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in le))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?p4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...t),this._logHandler(this,le.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...t),this._logHandler(this,le.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,le.INFO,...t),this._logHandler(this,le.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,le.WARN,...t),this._logHandler(this,le.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...t),this._logHandler(this,le.ERROR,...t)}}const A4=(e,t)=>t.some(n=>e instanceof n);let Dp,Op;function w4(){return Dp||(Dp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _4(){return Op||(Op=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _w=new WeakMap,_1=new WeakMap,Tw=new WeakMap,l0=new WeakMap,rm=new WeakMap;function T4(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",h)},o=()=>{n(la(e.result)),s()},h=()=>{i(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&_w.set(n,e)}).catch(()=>{}),rm.set(t,e),t}function C4(e){if(_1.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",h),e.removeEventListener("abort",h)},o=()=>{n(),s()},h=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",h),e.addEventListener("abort",h)});_1.set(e,t)}let T1={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return _1.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Tw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return la(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function b4(e){T1=e(T1)}function S4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(u0(this),t,...n);return Tw.set(i,t.sort?t.sort():[t]),la(i)}:_4().includes(e)?function(...t){return e.apply(u0(this),t),la(_w.get(this))}:function(...t){return la(e.apply(u0(this),t))}}function v4(e){return typeof e=="function"?S4(e):(e instanceof IDBTransaction&&C4(e),A4(e,w4())?new Proxy(e,T1):e)}function la(e){if(e instanceof IDBRequest)return T4(e);if(l0.has(e))return l0.get(e);const t=v4(e);return t!==e&&(l0.set(e,t),rm.set(t,e)),t}const u0=e=>rm.get(e);function I4(e,t,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const h=indexedDB.open(e,t),m=la(h);return i&&h.addEventListener("upgradeneeded",x=>{i(la(h.result),x.oldVersion,x.newVersion,la(h.transaction),x)}),n&&h.addEventListener("blocked",x=>n(x.oldVersion,x.newVersion,x)),m.then(x=>{o&&x.addEventListener("close",()=>o()),s&&x.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const N4=["get","getKey","getAll","getAllKeys","count"],R4=["put","add","delete","clear"],c0=new Map;function Lp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(c0.get(t))return c0.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=R4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||N4.includes(n)))return;const o=async function(h,...m){const x=this.transaction(h,s?"readwrite":"readonly");let y=x.store;return i&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),s&&x.done]))[0]};return c0.set(t,o),o}b4(e=>({...e,get:(t,n,i)=>Lp(t,n)||e.get(t,n,i),has:(t,n)=>!!Lp(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D4(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function D4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const C1="@firebase/app",Bp="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new ww("@firebase/app"),O4="@firebase/app-compat",L4="@firebase/analytics-compat",B4="@firebase/analytics",P4="@firebase/app-check-compat",k4="@firebase/app-check",V4="@firebase/auth",U4="@firebase/auth-compat",F4="@firebase/database",j4="@firebase/data-connect",z4="@firebase/database-compat",H4="@firebase/functions",G4="@firebase/functions-compat",Y4="@firebase/installations",q4="@firebase/installations-compat",X4="@firebase/messaging",Q4="@firebase/messaging-compat",W4="@firebase/performance",K4="@firebase/performance-compat",Z4="@firebase/remote-config",J4="@firebase/remote-config-compat",$4="@firebase/storage",tS="@firebase/storage-compat",eS="@firebase/firestore",nS="@firebase/ai",iS="@firebase/firestore-compat",rS="firebase",sS="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="[DEFAULT]",aS={[C1]:"fire-core",[O4]:"fire-core-compat",[B4]:"fire-analytics",[L4]:"fire-analytics-compat",[k4]:"fire-app-check",[P4]:"fire-app-check-compat",[V4]:"fire-auth",[U4]:"fire-auth-compat",[F4]:"fire-rtdb",[j4]:"fire-data-connect",[z4]:"fire-rtdb-compat",[H4]:"fire-fn",[G4]:"fire-fn-compat",[Y4]:"fire-iid",[q4]:"fire-iid-compat",[X4]:"fire-fcm",[Q4]:"fire-fcm-compat",[W4]:"fire-perf",[K4]:"fire-perf-compat",[Z4]:"fire-rc",[J4]:"fire-rc-compat",[$4]:"fire-gcs",[tS]:"fire-gcs-compat",[eS]:"fire-fst",[iS]:"fire-fst-compat",[nS]:"fire-vertex","fire-js":"fire-js",[rS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new Map,oS=new Map,S1=new Map;function Pp(e,t){try{e.container.addComponent(t)}catch(n){Ts.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function xf(e){const t=e.name;if(S1.has(t))return Ts.debug(`There were multiple attempts to register component ${t}.`),!1;S1.set(t,e);for(const n of yf.values())Pp(n,e);for(const n of oS.values())Pp(n,e);return!0}function lS(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function uS(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new Aw("app","Firebase",cS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new lc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=sS;function Cw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:b1,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw ua.create("bad-app-name",{appName:String(s)});if(n||(n=Ew()),!n)throw ua.create("no-options");const o=yf.get(s);if(o){if(pf(n,o.options)&&pf(i,o.config))return o;throw ua.create("duplicate-app",{appName:s})}const h=new m4(s);for(const x of S1.values())h.addComponent(x);const m=new hS(n,i,h);return yf.set(s,m),m}function dS(e=b1){const t=yf.get(e);if(!t&&e===b1&&Ew())return Cw();if(!t)throw ua.create("no-app",{appName:e});return t}function hl(e,t,n){let i=aS[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const h=[`Unable to register library "${i}" with version "${t}":`];s&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&h.push("and"),o&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ts.warn(h.join(" "));return}xf(new lc(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebase-heartbeat-database",mS=1,uc="firebase-heartbeat-store";let h0=null;function bw(){return h0||(h0=I4(gS,mS,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(e=>{throw ua.create("idb-open",{originalErrorMessage:e.message})})),h0}async function pS(e){try{const n=(await bw()).transaction(uc),i=await n.objectStore(uc).get(Sw(e));return await n.done,i}catch(t){if(t instanceof Hl)Ts.warn(t.message);else{const n=ua.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ts.warn(n.message)}}}async function kp(e,t){try{const i=(await bw()).transaction(uc,"readwrite");await i.objectStore(uc).put(t,Sw(e)),await i.done}catch(n){if(n instanceof Hl)Ts.warn(n.message);else{const i=ua.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ts.warn(i.message)}}}function Sw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=1024,xS=30;class ES{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wS(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Vp();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(h=>h.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>xS){const h=_S(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ts.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vp(),{heartbeatsToSend:i,unsentEntries:s}=AS(this._heartbeatsCache.heartbeats),o=mf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ts.warn(n),""}}}function Vp(){return new Date().toISOString().substring(0,10)}function AS(e,t=yS){const n=[];let i=e.slice();for(const s of e){const o=n.find(h=>h.agent===s.agent);if(o){if(o.dates.push(s.date),Up(n)>t){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Up(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class wS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o4()?l4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return kp(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return kp(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Up(e){return mf(JSON.stringify({version:2,heartbeats:e})).length}function _S(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(e){xf(new lc("platform-logger",t=>new M4(t),"PRIVATE")),xf(new lc("heartbeat",t=>new ES(t),"PRIVATE")),hl(C1,Bp,e),hl(C1,Bp,"esm2020"),hl("fire-js","")}TS("");var CS="firebase",bS="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hl(CS,bS,"app");var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ca,vw;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,D){function R(){}R.prototype=D.prototype,M.F=D.prototype,M.prototype=new R,M.prototype.constructor=M,M.D=function(z,H,G){for(var F=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)F[Gt-2]=arguments[Gt];return D.prototype[H].apply(z,F)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,D,R){R||(R=0);const z=Array(16);if(typeof D=="string")for(var H=0;H<16;++H)z[H]=D.charCodeAt(R++)|D.charCodeAt(R++)<<8|D.charCodeAt(R++)<<16|D.charCodeAt(R++)<<24;else for(H=0;H<16;++H)z[H]=D[R++]|D[R++]<<8|D[R++]<<16|D[R++]<<24;D=M.g[0],R=M.g[1],H=M.g[2];let G=M.g[3],F;F=D+(G^R&(H^G))+z[0]+3614090360&4294967295,D=R+(F<<7&4294967295|F>>>25),F=G+(H^D&(R^H))+z[1]+3905402710&4294967295,G=D+(F<<12&4294967295|F>>>20),F=H+(R^G&(D^R))+z[2]+606105819&4294967295,H=G+(F<<17&4294967295|F>>>15),F=R+(D^H&(G^D))+z[3]+3250441966&4294967295,R=H+(F<<22&4294967295|F>>>10),F=D+(G^R&(H^G))+z[4]+4118548399&4294967295,D=R+(F<<7&4294967295|F>>>25),F=G+(H^D&(R^H))+z[5]+1200080426&4294967295,G=D+(F<<12&4294967295|F>>>20),F=H+(R^G&(D^R))+z[6]+2821735955&4294967295,H=G+(F<<17&4294967295|F>>>15),F=R+(D^H&(G^D))+z[7]+4249261313&4294967295,R=H+(F<<22&4294967295|F>>>10),F=D+(G^R&(H^G))+z[8]+1770035416&4294967295,D=R+(F<<7&4294967295|F>>>25),F=G+(H^D&(R^H))+z[9]+2336552879&4294967295,G=D+(F<<12&4294967295|F>>>20),F=H+(R^G&(D^R))+z[10]+4294925233&4294967295,H=G+(F<<17&4294967295|F>>>15),F=R+(D^H&(G^D))+z[11]+2304563134&4294967295,R=H+(F<<22&4294967295|F>>>10),F=D+(G^R&(H^G))+z[12]+1804603682&4294967295,D=R+(F<<7&4294967295|F>>>25),F=G+(H^D&(R^H))+z[13]+4254626195&4294967295,G=D+(F<<12&4294967295|F>>>20),F=H+(R^G&(D^R))+z[14]+2792965006&4294967295,H=G+(F<<17&4294967295|F>>>15),F=R+(D^H&(G^D))+z[15]+1236535329&4294967295,R=H+(F<<22&4294967295|F>>>10),F=D+(H^G&(R^H))+z[1]+4129170786&4294967295,D=R+(F<<5&4294967295|F>>>27),F=G+(R^H&(D^R))+z[6]+3225465664&4294967295,G=D+(F<<9&4294967295|F>>>23),F=H+(D^R&(G^D))+z[11]+643717713&4294967295,H=G+(F<<14&4294967295|F>>>18),F=R+(G^D&(H^G))+z[0]+3921069994&4294967295,R=H+(F<<20&4294967295|F>>>12),F=D+(H^G&(R^H))+z[5]+3593408605&4294967295,D=R+(F<<5&4294967295|F>>>27),F=G+(R^H&(D^R))+z[10]+38016083&4294967295,G=D+(F<<9&4294967295|F>>>23),F=H+(D^R&(G^D))+z[15]+3634488961&4294967295,H=G+(F<<14&4294967295|F>>>18),F=R+(G^D&(H^G))+z[4]+3889429448&4294967295,R=H+(F<<20&4294967295|F>>>12),F=D+(H^G&(R^H))+z[9]+568446438&4294967295,D=R+(F<<5&4294967295|F>>>27),F=G+(R^H&(D^R))+z[14]+3275163606&4294967295,G=D+(F<<9&4294967295|F>>>23),F=H+(D^R&(G^D))+z[3]+4107603335&4294967295,H=G+(F<<14&4294967295|F>>>18),F=R+(G^D&(H^G))+z[8]+1163531501&4294967295,R=H+(F<<20&4294967295|F>>>12),F=D+(H^G&(R^H))+z[13]+2850285829&4294967295,D=R+(F<<5&4294967295|F>>>27),F=G+(R^H&(D^R))+z[2]+4243563512&4294967295,G=D+(F<<9&4294967295|F>>>23),F=H+(D^R&(G^D))+z[7]+1735328473&4294967295,H=G+(F<<14&4294967295|F>>>18),F=R+(G^D&(H^G))+z[12]+2368359562&4294967295,R=H+(F<<20&4294967295|F>>>12),F=D+(R^H^G)+z[5]+4294588738&4294967295,D=R+(F<<4&4294967295|F>>>28),F=G+(D^R^H)+z[8]+2272392833&4294967295,G=D+(F<<11&4294967295|F>>>21),F=H+(G^D^R)+z[11]+1839030562&4294967295,H=G+(F<<16&4294967295|F>>>16),F=R+(H^G^D)+z[14]+4259657740&4294967295,R=H+(F<<23&4294967295|F>>>9),F=D+(R^H^G)+z[1]+2763975236&4294967295,D=R+(F<<4&4294967295|F>>>28),F=G+(D^R^H)+z[4]+1272893353&4294967295,G=D+(F<<11&4294967295|F>>>21),F=H+(G^D^R)+z[7]+4139469664&4294967295,H=G+(F<<16&4294967295|F>>>16),F=R+(H^G^D)+z[10]+3200236656&4294967295,R=H+(F<<23&4294967295|F>>>9),F=D+(R^H^G)+z[13]+681279174&4294967295,D=R+(F<<4&4294967295|F>>>28),F=G+(D^R^H)+z[0]+3936430074&4294967295,G=D+(F<<11&4294967295|F>>>21),F=H+(G^D^R)+z[3]+3572445317&4294967295,H=G+(F<<16&4294967295|F>>>16),F=R+(H^G^D)+z[6]+76029189&4294967295,R=H+(F<<23&4294967295|F>>>9),F=D+(R^H^G)+z[9]+3654602809&4294967295,D=R+(F<<4&4294967295|F>>>28),F=G+(D^R^H)+z[12]+3873151461&4294967295,G=D+(F<<11&4294967295|F>>>21),F=H+(G^D^R)+z[15]+530742520&4294967295,H=G+(F<<16&4294967295|F>>>16),F=R+(H^G^D)+z[2]+3299628645&4294967295,R=H+(F<<23&4294967295|F>>>9),F=D+(H^(R|~G))+z[0]+4096336452&4294967295,D=R+(F<<6&4294967295|F>>>26),F=G+(R^(D|~H))+z[7]+1126891415&4294967295,G=D+(F<<10&4294967295|F>>>22),F=H+(D^(G|~R))+z[14]+2878612391&4294967295,H=G+(F<<15&4294967295|F>>>17),F=R+(G^(H|~D))+z[5]+4237533241&4294967295,R=H+(F<<21&4294967295|F>>>11),F=D+(H^(R|~G))+z[12]+1700485571&4294967295,D=R+(F<<6&4294967295|F>>>26),F=G+(R^(D|~H))+z[3]+2399980690&4294967295,G=D+(F<<10&4294967295|F>>>22),F=H+(D^(G|~R))+z[10]+4293915773&4294967295,H=G+(F<<15&4294967295|F>>>17),F=R+(G^(H|~D))+z[1]+2240044497&4294967295,R=H+(F<<21&4294967295|F>>>11),F=D+(H^(R|~G))+z[8]+1873313359&4294967295,D=R+(F<<6&4294967295|F>>>26),F=G+(R^(D|~H))+z[15]+4264355552&4294967295,G=D+(F<<10&4294967295|F>>>22),F=H+(D^(G|~R))+z[6]+2734768916&4294967295,H=G+(F<<15&4294967295|F>>>17),F=R+(G^(H|~D))+z[13]+1309151649&4294967295,R=H+(F<<21&4294967295|F>>>11),F=D+(H^(R|~G))+z[4]+4149444226&4294967295,D=R+(F<<6&4294967295|F>>>26),F=G+(R^(D|~H))+z[11]+3174756917&4294967295,G=D+(F<<10&4294967295|F>>>22),F=H+(D^(G|~R))+z[2]+718787259&4294967295,H=G+(F<<15&4294967295|F>>>17),F=R+(G^(H|~D))+z[9]+3951481745&4294967295,M.g[0]=M.g[0]+D&4294967295,M.g[1]=M.g[1]+(H+(F<<21&4294967295|F>>>11))&4294967295,M.g[2]=M.g[2]+H&4294967295,M.g[3]=M.g[3]+G&4294967295}i.prototype.v=function(M,D){D===void 0&&(D=M.length);const R=D-this.blockSize,z=this.C;let H=this.h,G=0;for(;G<D;){if(H==0)for(;G<=R;)s(this,M,G),G+=this.blockSize;if(typeof M=="string"){for(;G<D;)if(z[H++]=M.charCodeAt(G++),H==this.blockSize){s(this,z),H=0;break}}else for(;G<D;)if(z[H++]=M[G++],H==this.blockSize){s(this,z),H=0;break}}this.h=H,this.o+=D},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var D=1;D<M.length-8;++D)M[D]=0;D=this.o*8;for(var R=M.length-8;R<M.length;++R)M[R]=D&255,D/=256;for(this.v(M),M=Array(16),D=0,R=0;R<4;++R)for(let z=0;z<32;z+=8)M[D++]=this.g[R]>>>z&255;return M};function o(M,D){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=D(M)}function h(M,D){this.h=D;const R=[];let z=!0;for(let H=M.length-1;H>=0;H--){const G=M[H]|0;z&&G==D||(R[H]=G,z=!1)}this.g=R}var m={};function x(M){return-128<=M&&M<128?o(M,function(D){return new h([D|0],D<0?-1:0)}):new h([M|0],M<0?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return T;if(M<0)return J(y(-M));const D=[];let R=1;for(let z=0;M>=R;z++)D[z]=M/R|0,R*=4294967296;return new h(D,0)}function w(M,D){if(M.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M.charAt(0)=="-")return J(w(M.substring(1),D));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(D,8));let z=T;for(let G=0;G<M.length;G+=8){var H=Math.min(8,M.length-G);const F=parseInt(M.substring(G,G+H),D);H<8?(H=y(Math.pow(D,H)),z=z.j(H).add(y(F))):(z=z.j(R),z=z.add(y(F)))}return z}var T=x(0),v=x(1),I=x(16777216);e=h.prototype,e.m=function(){if(q(this))return-J(this).m();let M=0,D=1;for(let R=0;R<this.g.length;R++){const z=this.i(R);M+=(z>=0?z:4294967296+z)*D,D*=4294967296}return M},e.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(X(this))return"0";if(q(this))return"-"+J(this).toString(M);const D=y(Math.pow(M,6));var R=this;let z="";for(;;){const H=j(R,D).g;R=V(R,H.j(D));let G=((R.g.length>0?R.g[0]:R.h)>>>0).toString(M);if(R=H,X(R))return G+z;for(;G.length<6;)G="0"+G;z=G+z}},e.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function X(M){if(M.h!=0)return!1;for(let D=0;D<M.g.length;D++)if(M.g[D]!=0)return!1;return!0}function q(M){return M.h==-1}e.l=function(M){return M=V(this,M),q(M)?-1:X(M)?0:1};function J(M){const D=M.g.length,R=[];for(let z=0;z<D;z++)R[z]=~M.g[z];return new h(R,~M.h).add(v)}e.abs=function(){return q(this)?J(this):this},e.add=function(M){const D=Math.max(this.g.length,M.g.length),R=[];let z=0;for(let H=0;H<=D;H++){let G=z+(this.i(H)&65535)+(M.i(H)&65535),F=(G>>>16)+(this.i(H)>>>16)+(M.i(H)>>>16);z=F>>>16,G&=65535,F&=65535,R[H]=F<<16|G}return new h(R,R[R.length-1]&-2147483648?-1:0)};function V(M,D){return M.add(J(D))}e.j=function(M){if(X(this)||X(M))return T;if(q(this))return q(M)?J(this).j(J(M)):J(J(this).j(M));if(q(M))return J(this.j(J(M)));if(this.l(I)<0&&M.l(I)<0)return y(this.m()*M.m());const D=this.g.length+M.g.length,R=[];for(var z=0;z<2*D;z++)R[z]=0;for(z=0;z<this.g.length;z++)for(let H=0;H<M.g.length;H++){const G=this.i(z)>>>16,F=this.i(z)&65535,Gt=M.i(H)>>>16,nt=M.i(H)&65535;R[2*z+2*H]+=F*nt,O(R,2*z+2*H),R[2*z+2*H+1]+=G*nt,O(R,2*z+2*H+1),R[2*z+2*H+1]+=F*Gt,O(R,2*z+2*H+1),R[2*z+2*H+2]+=G*Gt,O(R,2*z+2*H+2)}for(M=0;M<D;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=D;M<2*D;M++)R[M]=0;return new h(R,0)};function O(M,D){for(;(M[D]&65535)!=M[D];)M[D+1]+=M[D]>>>16,M[D]&=65535,D++}function P(M,D){this.g=M,this.h=D}function j(M,D){if(X(D))throw Error("division by zero");if(X(M))return new P(T,T);if(q(M))return D=j(J(M),D),new P(J(D.g),J(D.h));if(q(D))return D=j(M,J(D)),new P(J(D.g),D.h);if(M.g.length>30){if(q(M)||q(D))throw Error("slowDivide_ only works with positive integers.");for(var R=v,z=D;z.l(M)<=0;)R=st(R),z=st(z);var H=at(R,1),G=at(z,1);for(z=at(z,2),R=at(R,2);!X(z);){var F=G.add(z);F.l(M)<=0&&(H=H.add(R),G=F),z=at(z,1),R=at(R,1)}return D=V(M,H.j(D)),new P(H,D)}for(H=T;M.l(D)>=0;){for(R=Math.max(1,Math.floor(M.m()/D.m())),z=Math.ceil(Math.log(R)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),G=y(R),F=G.j(D);q(F)||F.l(M)>0;)R-=z,G=y(R),F=G.j(D);X(G)&&(G=v),H=H.add(G),M=V(M,F)}return new P(H,M)}e.B=function(M){return j(this,M).h},e.and=function(M){const D=Math.max(this.g.length,M.g.length),R=[];for(let z=0;z<D;z++)R[z]=this.i(z)&M.i(z);return new h(R,this.h&M.h)},e.or=function(M){const D=Math.max(this.g.length,M.g.length),R=[];for(let z=0;z<D;z++)R[z]=this.i(z)|M.i(z);return new h(R,this.h|M.h)},e.xor=function(M){const D=Math.max(this.g.length,M.g.length),R=[];for(let z=0;z<D;z++)R[z]=this.i(z)^M.i(z);return new h(R,this.h^M.h)};function st(M){const D=M.g.length+1,R=[];for(let z=0;z<D;z++)R[z]=M.i(z)<<1|M.i(z-1)>>>31;return new h(R,M.h)}function at(M,D){const R=D>>5;D%=32;const z=M.g.length-R,H=[];for(let G=0;G<z;G++)H[G]=D>0?M.i(G+R)>>>D|M.i(G+R+1)<<32-D:M.i(G+R);return new h(H,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,vw=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,ca=h}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Iw,_u,Nw,Dh,v1,Rw,Mw,Dw;(function(){var e,t=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var A=0;A<d.length;++A){var C=d[A];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var i=n(this);function s(d,A){if(A)t:{var C=i;d=d.split(".");for(var B=0;B<d.length-1;B++){var W=d[B];if(!(W in C))break t;C=C[W]}d=d[d.length-1],B=C[d],A=A(B),A!=B&&A!=null&&t(C,d,{configurable:!0,writable:!0,value:A})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(A){var C=[],B;for(B in A)Object.prototype.hasOwnProperty.call(A,B)&&C.push([B,A[B]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},h=this||self;function m(d){var A=typeof d;return A=="object"&&d!=null||A=="function"}function x(d,A,C){return d.call.apply(d.bind,arguments)}function y(d,A,C){return y=x,y.apply(null,arguments)}function w(d,A){var C=Array.prototype.slice.call(arguments,1);return function(){var B=C.slice();return B.push.apply(B,arguments),d.apply(this,B)}}function T(d,A){function C(){}C.prototype=A.prototype,d.Z=A.prototype,d.prototype=new C,d.prototype.constructor=d,d.Ob=function(B,W,tt){for(var dt=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)dt[kt-2]=arguments[kt];return A.prototype[W].apply(B,dt)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function I(d){const A=d.length;if(A>0){const C=Array(A);for(let B=0;B<A;B++)C[B]=d[B];return C}return[]}function X(d,A){for(let B=1;B<arguments.length;B++){const W=arguments[B];var C=typeof W;if(C=C!="object"?C:W?Array.isArray(W)?"array":C:"null",C=="array"||C=="object"&&typeof W.length=="number"){C=d.length||0;const tt=W.length||0;d.length=C+tt;for(let dt=0;dt<tt;dt++)d[C+dt]=W[dt]}else d.push(W)}}class q{constructor(A,C){this.i=A,this.j=C,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function J(d){h.setTimeout(()=>{throw d},0)}function V(){var d=M;let A=null;return d.g&&(A=d.g,d.g=d.g.next,d.g||(d.h=null),A.next=null),A}class O{constructor(){this.h=this.g=null}add(A,C){const B=P.get();B.set(A,C),this.h?this.h.next=B:this.g=B,this.h=B}}var P=new q(()=>new j,d=>d.reset());class j{constructor(){this.next=this.g=this.h=null}set(A,C){this.h=A,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let st,at=!1,M=new O,D=()=>{const d=Promise.resolve(void 0);st=()=>{d.then(R)}};function R(){for(var d;d=V();){try{d.h.call(d.g)}catch(C){J(C)}var A=P;A.j(d),A.h<100&&(A.h++,d.next=A.g,A.g=d)}at=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(d,A){this.type=d,this.g=this.target=A,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,A=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const C=()=>{};h.addEventListener("test",C,A),h.removeEventListener("test",C,A)}catch{}return d}();function F(d){return/^[\s\xa0]*$/.test(d)}function Gt(d,A){H.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,A)}T(Gt,H),Gt.prototype.init=function(d,A){const C=this.type=d.type,B=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=A,A=d.relatedTarget,A||(C=="mouseover"?A=d.fromElement:C=="mouseout"&&(A=d.toElement)),this.relatedTarget=A,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Gt.Z.h.call(this)},Gt.prototype.h=function(){Gt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var nt="closure_listenable_"+(Math.random()*1e6|0),ft=0;function pt(d,A,C,B,W){this.listener=d,this.proxy=null,this.src=A,this.type=C,this.capture=!!B,this.ha=W,this.key=++ft,this.da=this.fa=!1}function St(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Yt(d,A,C){for(const B in d)A.call(C,d[B],B,d)}function ie(d,A){for(const C in d)A.call(void 0,d[C],C,d)}function zi(d){const A={};for(const C in d)A[C]=d[C];return A}const Be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function On(d,A){let C,B;for(let W=1;W<arguments.length;W++){B=arguments[W];for(C in B)d[C]=B[C];for(let tt=0;tt<Be.length;tt++)C=Be[tt],Object.prototype.hasOwnProperty.call(B,C)&&(d[C]=B[C])}}function pe(d){this.src=d,this.g={},this.h=0}pe.prototype.add=function(d,A,C,B,W){const tt=d.toString();d=this.g[tt],d||(d=this.g[tt]=[],this.h++);const dt=_t(d,A,B,W);return dt>-1?(A=d[dt],C||(A.fa=!1)):(A=new pt(A,this.src,tt,!!B,W),A.fa=C,d.push(A)),A};function Yn(d,A){const C=A.type;if(C in d.g){var B=d.g[C],W=Array.prototype.indexOf.call(B,A,void 0),tt;(tt=W>=0)&&Array.prototype.splice.call(B,W,1),tt&&(St(A),d.g[C].length==0&&(delete d.g[C],d.h--))}}function _t(d,A,C,B){for(let W=0;W<d.length;++W){const tt=d[W];if(!tt.da&&tt.listener==A&&tt.capture==!!C&&tt.ha==B)return W}return-1}var Qr="closure_lm_"+(Math.random()*1e6|0),Ce={};function xr(d,A,C,B,W){if(Array.isArray(A)){for(let tt=0;tt<A.length;tt++)xr(d,A[tt],C,B,W);return null}return C=he(C),d&&d[nt]?d.J(A,C,m(B)?!!B.capture:!1,W):Wr(d,A,C,!1,B,W)}function Wr(d,A,C,B,W,tt){if(!A)throw Error("Invalid event type");const dt=m(W)?!!W.capture:!!W;let kt=or(d);if(kt||(d[Qr]=kt=new pe(d)),C=kt.add(A,C,B,dt,tt),C.proxy)return C;if(B=Cn(),C.proxy=B,B.src=d,B.listener=C,d.addEventListener)G||(W=dt),W===void 0&&(W=!1),d.addEventListener(A.toString(),B,W);else if(d.attachEvent)d.attachEvent(ar(A.toString()),B);else if(d.addListener&&d.removeListener)d.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Cn(){function d(C){return A.call(d.src,d.listener,C)}const A=ei;return d}function Kr(d,A,C,B,W){if(Array.isArray(A))for(var tt=0;tt<A.length;tt++)Kr(d,A[tt],C,B,W);else B=m(B)?!!B.capture:!!B,C=he(C),d&&d[nt]?(d=d.i,tt=String(A).toString(),tt in d.g&&(A=d.g[tt],C=_t(A,C,B,W),C>-1&&(St(A[C]),Array.prototype.splice.call(A,C,1),A.length==0&&(delete d.g[tt],d.h--)))):d&&(d=or(d))&&(A=d.g[A.toString()],d=-1,A&&(d=_t(A,C,B,W)),(C=d>-1?A[d]:null)&&qt(C))}function qt(d){if(typeof d!="number"&&d&&!d.da){var A=d.src;if(A&&A[nt])Yn(A.i,d);else{var C=d.type,B=d.proxy;A.removeEventListener?A.removeEventListener(C,B,d.capture):A.detachEvent?A.detachEvent(ar(C),B):A.addListener&&A.removeListener&&A.removeListener(B),(C=or(A))?(Yn(C,d),C.h==0&&(C.src=null,A[Qr]=null)):St(d)}}}function ar(d){return d in Ce?Ce[d]:Ce[d]="on"+d}function ei(d,A){if(d.da)d=!0;else{A=new Gt(A,this);const C=d.listener,B=d.ha||d.src;d.fa&&qt(d),d=C.call(B,A)}return d}function or(d){return d=d[Qr],d instanceof pe?d:null}var Ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function he(d){return typeof d=="function"?d:(d[Ye]||(d[Ye]=function(A){return d.handleEvent(A)}),d[Ye])}function It(){z.call(this),this.i=new pe(this),this.M=this,this.G=null}T(It,z),It.prototype[nt]=!0,It.prototype.removeEventListener=function(d,A,C,B){Kr(this,d,A,C,B)};function qe(d,A){var C,B=d.G;if(B)for(C=[];B;B=B.G)C.push(B);if(d=d.M,B=A.type||A,typeof A=="string")A=new H(A,d);else if(A instanceof H)A.target=A.target||d;else{var W=A;A=new H(B,d),On(A,W)}W=!0;let tt,dt;if(C)for(dt=C.length-1;dt>=0;dt--)tt=A.g=C[dt],W=Et(tt,B,!0,A)&&W;if(tt=A.g=d,W=Et(tt,B,!0,A)&&W,W=Et(tt,B,!1,A)&&W,C)for(dt=0;dt<C.length;dt++)tt=A.g=C[dt],W=Et(tt,B,!1,A)&&W}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var d=this.i;for(const A in d.g){const C=d.g[A];for(let B=0;B<C.length;B++)St(C[B]);delete d.g[A],d.h--}}this.G=null},It.prototype.J=function(d,A,C,B){return this.i.add(String(d),A,!1,C,B)},It.prototype.K=function(d,A,C,B){return this.i.add(String(d),A,!0,C,B)};function Et(d,A,C,B){if(A=d.i.g[String(A)],!A)return!0;A=A.concat();let W=!0;for(let tt=0;tt<A.length;++tt){const dt=A[tt];if(dt&&!dt.da&&dt.capture==C){const kt=dt.listener,Ze=dt.ha||dt.src;dt.fa&&Yn(d.i,dt),W=kt.call(Ze,B)!==!1&&W}}return W&&!B.defaultPrevented}function vs(d,A){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:h.setTimeout(d,A||0)}function Ma(d){d.g=vs(()=>{d.g=null,d.i&&(d.i=!1,Ma(d))},d.l);const A=d.h;d.h=null,d.m.apply(null,A)}class yi extends z{constructor(A,C){super(),this.m=A,this.l=C,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Ma(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(d){z.call(this),this.h=d,this.g={}}T(xi,z);var Ln=[];function Da(d){Yt(d.g,function(A,C){this.g.hasOwnProperty(C)&&qt(A)},d),d.g={}}xi.prototype.N=function(){xi.Z.N.call(this),Da(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=h.JSON.stringify,xn=h.JSON.parse,ot=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Ct(){}function Ee(){}var Ot={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ct(){H.call(this,"d")}T(ct,H);function Lt(){H.call(this,"c")}T(Lt,H);var Xt={},Pe=null;function Er(){return Pe=Pe||new It}Xt.Ia="serverreachability";function Eo(d){H.call(this,Xt.Ia,d)}T(Eo,H);function Is(d){const A=Er();qe(A,new Eo(A))}Xt.STAT_EVENT="statevent";function re(d,A){H.call(this,Xt.STAT_EVENT,d),this.stat=A}T(re,H);function Xe(d){const A=Er();qe(A,new re(A,d))}Xt.Ja="timingevent";function Wl(d,A){H.call(this,Xt.Ja,d),this.size=A}T(Wl,H);function Ns(d,A){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},A)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Kl(d,A,C,B,W,tt){d.info(function(){if(d.g)if(tt){var dt="",kt=tt.split("&");for(let de=0;de<kt.length;de++){var Ze=kt[de].split("=");if(Ze.length>1){const en=Ze[0];Ze=Ze[1];const bi=en.split("_");dt=bi.length>=2&&bi[1]=="type"?dt+(en+"="+Ze+"&"):dt+(en+"=redacted&")}}}else dt=null;else dt=tt;return"XMLHTTP REQ ("+B+") [attempt "+W+"]: "+A+`
`+C+`
`+dt})}function bn(d,A,C,B,W,tt,dt){d.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+W+"]: "+A+`
`+C+`
`+tt+" "+dt})}function Ei(d,A,C,B){d.info(function(){return"XMLHTTP TEXT ("+A+"): "+Hi(d,C)+(B?" "+B:"")})}function Ao(d,A){d.info(function(){return"TIMEOUT: "+A})}Bn.prototype.info=function(){};function Hi(d,A){if(!d.g)return A;if(!A)return null;try{const tt=JSON.parse(A);if(tt){for(d=0;d<tt.length;d++)if(Array.isArray(tt[d])){var C=tt[d];if(!(C.length<2)){var B=C[1];if(Array.isArray(B)&&!(B.length<1)){var W=B[0];if(W!="noop"&&W!="stop"&&W!="close")for(let dt=1;dt<B.length;dt++)B[dt]=""}}}}return ni(tt)}catch{return A}}var wo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ar={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function Sn(){}T(Sn,Ct),Sn.prototype.g=function(){return new XMLHttpRequest},_o=new Sn;function Ai(d){return encodeURIComponent(String(d))}function ii(d){var A=1;d=d.split(":");const C=[];for(;A>0&&d.length;)C.push(d.shift()),A--;return d.length&&C.push(d.join(":")),C}function yt(d,A,C,B){this.j=d,this.i=A,this.l=C,this.S=B||1,this.V=new xi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zr}function Zr(){this.i=null,this.g="",this.h=!1}var To={},vn={};function wr(d,A,C){d.M=1,d.A=Ti(ri(A)),d.u=C,d.R=!0,Oa(d,null)}function Oa(d,A){d.F=Date.now(),bo(d),d.B=ri(d.A);var C=d.B,B=d.S;Array.isArray(B)||(B=[String(B)]),Me(C.i,"t",B),d.C=0,C=d.j.L,d.h=new Zr,d.g=Ro(d.j,C?A:null,!d.u),d.P>0&&(d.O=new yi(y(d.Y,d,d.g),d.P)),A=d.V,C=d.g,B=d.ba;var W="readystatechange";Array.isArray(W)||(W&&(Ln[0]=W.toString()),W=Ln);for(let tt=0;tt<W.length;tt++){const dt=xr(C,W[tt],B||A.handleEvent,!1,A.h||A);if(!dt)break;A.g[dt.key]=dt}A=d.J?zi(d.J):{},d.u?(d.v||(d.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,A)):(d.v="GET",d.g.ea(d.B,d.v,null,A)),Is(),Kl(d.i,d.v,d.B,d.l,d.S,d.u)}yt.prototype.ba=function(d){d=d.target;const A=this.O;A&&lr(d)==3?A.j():this.Y(d)},yt.prototype.Y=function(d){try{if(d==this.g)t:{const kt=lr(this.g),Ze=this.g.ya(),de=this.g.ca();if(!(kt<3)&&(kt!=3||this.g&&(this.h.h||this.g.la()||Os(this.g)))){this.K||kt!=4||Ze==7||(Ze==8||de<=0?Is(3):Is(2)),En(this);var A=this.g.ca();this.X=A;var C=Co(this);if(this.o=A==200,bn(this.i,this.v,this.B,this.l,this.S,kt,A),this.o){if(this.U&&!this.L){e:{if(this.g){var B,W=this.g;if((B=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(B)){var tt=B;break e}}tt=null}if(d=tt)Ei(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Gi(this,d);else{this.o=!1,this.m=3,Xe(12),_r(this),ye(this);break t}}if(this.R){d=!0;let en;for(;!this.K&&this.C<C.length;)if(en=wd(this,C),en==vn){kt==4&&(this.m=4,Xe(14),d=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(en==To){this.m=4,Xe(15),Ei(this.i,this.l,C,"[Invalid Chunk]"),d=!1;break}else Ei(this.i,this.l,en,null),Gi(this,en);if(wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||C.length!=0||this.h.h||(this.m=1,Xe(16),d=!1),this.o=this.o&&d,!d)Ei(this.i,this.l,C,"[Invalid Chunked Response]"),_r(this),ye(this);else if(C.length>0&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.aa&&!dt.P&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),$(dt),dt.P=!0,Xe(11))}}else Ei(this.i,this.l,C,null),Gi(this,C);kt==4&&_r(this),this.o&&!this.K&&(kt==4?Ua(this.j,this):(this.o=!1,bo(this)))}else Pa(this.g),A==400&&C.indexOf("Unknown SID")>0?(this.m=3,Xe(12)):(this.m=0,Xe(13)),_r(this),ye(this)}}}catch{}finally{}};function Co(d){if(!wi(d))return d.g.la();const A=Os(d.g);if(A==="")return"";let C="";const B=A.length,W=lr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return _r(d),ye(d),"";d.h.i=new h.TextDecoder}for(let tt=0;tt<B;tt++)d.h.h=!0,C+=d.h.i.decode(A[tt],{stream:!(W&&tt==B-1)});return A.length=0,d.h.g+=C,d.C=0,d.h.g}function wi(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function wd(d,A){var C=d.C,B=A.indexOf(`
`,C);return B==-1?vn:(C=Number(A.substring(C,B)),isNaN(C)?To:(B+=1,B+C>A.length?vn:(A=A.slice(B,B+C),d.C=B+C,A)))}yt.prototype.cancel=function(){this.K=!0,_r(this)};function bo(d){d.T=Date.now()+d.H,_i(d,d.H)}function _i(d,A){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ns(y(d.aa,d),A)}function En(d){d.D&&(h.clearTimeout(d.D),d.D=null)}yt.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ao(this.i,this.B),this.M!=2&&(Is(),Xe(17)),_r(this),this.m=2,ye(this)):_i(this,this.T-d)};function ye(d){d.j.I==0||d.K||Ua(d.j,d)}function _r(d){En(d);var A=d.O;A&&typeof A.dispose=="function"&&A.dispose(),d.O=null,Da(d.V),d.g&&(A=d.g,d.g=null,A.abort(),A.dispose())}function Gi(d,A){try{var C=d.j;if(C.I!=0&&(C.g==d||Tr(C.h,d))){if(!d.L&&Tr(C.h,d)&&C.I==3){try{var B=C.Ba.g.parse(A)}catch{B=null}if(Array.isArray(B)&&B.length==3){var W=B;if(W[0]==0){t:if(!C.v){if(C.g)if(C.g.F+3e3<d.F)We(C),ka(C);else break t;au(C),Xe(18)}}else C.xa=W[1],0<C.xa-C.K&&W[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Ns(y(C.Va,C),6e3));ke(C.h)<=1&&C.ta&&(C.ta=void 0)}else es(C,11)}else if((d.L||C.g==d)&&We(C),!F(A))for(W=C.Ba.g.parse(A),A=0;A<W.length;A++){let de=W[A];const en=de[0];if(!(en<=C.K))if(C.K=en,de=de[1],C.I==2)if(de[0]=="c"){C.M=de[1],C.ba=de[2];const bi=de[3];bi!=null&&(C.ka=bi,C.j.info("VER="+C.ka));const ns=de[4];ns!=null&&(C.za=ns,C.j.info("SVER="+C.za));const Kn=de[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(B=1.5*Kn,C.O=B,C.j.info("backChannelRequestTimeoutMs_="+B)),B=C;const Xi=d.g;if(Xi){const Mo=Xi.g?Xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mo){var tt=B.h;tt.g||Mo.indexOf("spdy")==-1&&Mo.indexOf("quic")==-1&&Mo.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(Jl(tt,tt.h),tt.h=null))}if(B.G){const is=Xi.g?Xi.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(B.wa=is,Dt(B.J,B.G,is))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-d.F,C.j.info("Handshake RTT: "+C.T+"ms")),B=C;var dt=d;if(B.na=Gc(B,B.L?B.ba:null,B.W),dt.L){ue(B.h,dt);var kt=dt,Ze=B.O;Ze&&(kt.H=Ze),kt.D&&(En(kt),bo(kt)),B.g=dt}else ur(B);C.i.length>0&&No(C)}else de[0]!="stop"&&de[0]!="close"||es(C,7);else C.I==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?es(C,7):Io(C):de[0]!="noop"&&C.l&&C.l.qa(de),C.A=0)}}Is(4)}catch{}}var Zl=class{constructor(d,A){this.g=d,this.map=A}};function ut(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ke(d){return d.h?1:d.g?d.g.size:0}function Tr(d,A){return d.h?d.h==A:d.g?d.g.has(A):!1}function Jl(d,A){d.g?d.g.add(A):d.h=A}function ue(d,A){d.h&&d.h==A?d.h=null:d.g&&d.g.has(A)&&d.g.delete(A)}ut.prototype.cancel=function(){if(this.i=se(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function se(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let A=d.i;for(const C of d.g.values())A=A.concat(C.G);return A}return I(d.i)}var Ht=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $l(d,A){if(d){d=d.split("&");for(let C=0;C<d.length;C++){const B=d[C].indexOf("=");let W,tt=null;B>=0?(W=d[C].substring(0,B),tt=d[C].substring(B+1)):W=d[C],A(W,tt?decodeURIComponent(tt.replace(/\+/g," ")):"")}}}function Yi(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;d instanceof Yi?(this.l=d.l,Ve(this,d.j),this.o=d.o,this.g=d.g,si(this,d.u),this.h=d.h,tu(this,eu(d.i)),this.m=d.m):d&&(A=String(d).match(Ht))?(this.l=!1,Ve(this,A[1]||"",!0),this.o=La(A[2]||""),this.g=La(A[3]||"",!0),si(this,A[4]),this.h=La(A[5]||"",!0),tu(this,A[6]||"",!0),this.m=La(A[7]||"")):(this.l=!1,this.i=new In(null,this.l))}Yi.prototype.toString=function(){const d=[];var A=this.j;A&&d.push(qi(A,An,!0),":");var C=this.g;return(C||A=="file")&&(d.push("//"),(A=this.o)&&d.push(qi(A,An,!0),"@"),d.push(Ai(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&d.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&d.push("/"),d.push(qi(C,C.charAt(0)=="/"?k:Z,!0))),(C=this.i.toString())&&d.push("?",C),(C=this.m)&&d.push("#",qi(C,an)),d.join("")},Yi.prototype.resolve=function(d){const A=ri(this);let C=!!d.j;C?Ve(A,d.j):C=!!d.o,C?A.o=d.o:C=!!d.g,C?A.g=d.g:C=d.u!=null;var B=d.h;if(C)si(A,d.u);else if(C=!!d.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var W=A.h.lastIndexOf("/");W!=-1&&(B=A.h.slice(0,W+1)+B)}if(W=B,W==".."||W==".")B="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){B=W.lastIndexOf("/",0)==0,W=W.split("/");const tt=[];for(let dt=0;dt<W.length;){const kt=W[dt++];kt=="."?B&&dt==W.length&&tt.push(""):kt==".."?((tt.length>1||tt.length==1&&tt[0]!="")&&tt.pop(),B&&dt==W.length&&tt.push("")):(tt.push(kt),B=!0)}B=tt.join("/")}else B=W}return C?A.h=B:C=d.i.toString()!=="",C?tu(A,eu(d.i)):C=!!d.m,C&&(A.m=d.m),A};function ri(d){return new Yi(d)}function Ve(d,A,C){d.j=C?La(A,!0):A,d.j&&(d.j=d.j.replace(/:$/,""))}function si(d,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);d.u=A}else d.u=null}function tu(d,A,C){A instanceof In?(d.i=A,nu(d.i,d.l)):(C||(A=qi(A,Tt)),d.i=new In(A,d.l))}function Dt(d,A,C){d.i.set(A,C)}function Ti(d){return Dt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function La(d,A){return d?A?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function qi(d,A,C){return typeof d=="string"?(d=encodeURI(d).replace(A,be),C&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function be(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var An=/[#\/\?@]/g,Z=/[#\?:]/g,k=/[#\?]/g,Tt=/[#\?@]/g,an=/#/g;function In(d,A){this.h=this.g=null,this.i=d||null,this.j=!!A}function Jr(d){d.g||(d.g=new Map,d.h=0,d.i&&$l(d.i,function(A,C){d.add(decodeURIComponent(A.replace(/\+/g," ")),C)}))}e=In.prototype,e.add=function(d,A){Jr(this),this.i=null,d=Rs(this,d);let C=this.g.get(d);return C||this.g.set(d,C=[]),C.push(A),this.h+=1,this};function So(d,A){Jr(d),A=Rs(d,A),d.g.has(A)&&(d.i=null,d.h-=d.g.get(A).length,d.g.delete(A))}function Wn(d,A){return Jr(d),A=Rs(d,A),d.g.has(A)}e.forEach=function(d,A){Jr(this),this.g.forEach(function(C,B){C.forEach(function(W){d.call(A,W,B,this)},this)},this)};function bt(d,A){Jr(d);let C=[];if(typeof A=="string")Wn(d,A)&&(C=C.concat(d.g.get(Rs(d,A))));else for(d=Array.from(d.g.values()),A=0;A<d.length;A++)C=C.concat(d[A]);return C}e.set=function(d,A){return Jr(this),this.i=null,d=Rs(this,d),Wn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[A]),this.h+=1,this},e.get=function(d,A){return d?(d=bt(this,d),d.length>0?String(d[0]):A):A};function Me(d,A,C){So(d,A),C.length>0&&(d.i=null,d.g.set(Rs(d,A),I(C)),d.h+=C.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],A=Array.from(this.g.keys());for(let B=0;B<A.length;B++){var C=A[B];const W=Ai(C);C=bt(this,C);for(let tt=0;tt<C.length;tt++){let dt=W;C[tt]!==""&&(dt+="="+Ai(C[tt])),d.push(dt)}}return this.i=d.join("&")};function eu(d){const A=new In;return A.i=d.i,d.g&&(A.g=new Map(d.g),A.h=d.h),A}function Rs(d,A){return A=String(A),d.j&&(A=A.toLowerCase()),A}function nu(d,A){A&&!d.j&&(Jr(d),d.i=null,d.g.forEach(function(C,B){const W=B.toLowerCase();B!=W&&(So(this,B),Me(this,W,C))},d)),d.j=A}function vo(d,A){const C=new Bn;if(h.Image){const B=new Image;B.onload=w(Cr,C,"TestLoadImage: loaded",!0,A,B),B.onerror=w(Cr,C,"TestLoadImage: error",!1,A,B),B.onabort=w(Cr,C,"TestLoadImage: abort",!1,A,B),B.ontimeout=w(Cr,C,"TestLoadImage: timeout",!1,A,B),h.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=d}else A(!1)}function iu(d,A){const C=new Bn,B=new AbortController,W=setTimeout(()=>{B.abort(),Cr(C,"TestPingServer: timeout",!1,A)},1e4);fetch(d,{signal:B.signal}).then(tt=>{clearTimeout(W),tt.ok?Cr(C,"TestPingServer: ok",!0,A):Cr(C,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(W),Cr(C,"TestPingServer: error",!1,A)})}function Cr(d,A,C,B,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),B(C)}catch{}}function on(){this.g=new ot}function $r(d){this.i=d.Sb||null,this.h=d.ab||!1}T($r,Ct),$r.prototype.g=function(){return new Ci(this.i,this.h)};function Ci(d,A){It.call(this),this.H=d,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ci,It),e=Ci.prototype,e.open=function(d,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=A,this.readyState=1,Bt(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(A.body=d),(this.H||h).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=0},e.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Bt(this)),this.g&&(this.readyState=3,Bt(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nt(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nt(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}e.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var A=d.value?d.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!d.done}))&&(this.response=this.responseText+=A)}d.done?Ba(this):Bt(this),this.readyState==3&&Nt(this)}},e.Oa=function(d){this.g&&(this.response=this.responseText=d,Ba(this))},e.Na=function(d){this.g&&(this.response=d,Ba(this))},e.ga=function(){this.g&&Ba(this)};function Ba(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Bt(d)}e.setRequestHeader=function(d,A){this.A.append(d,A)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],A=this.h.entries();for(var C=A.next();!C.done;)C=C.value,d.push(C[0]+": "+C[1]),C=A.next();return d.join(`\r
`)};function Bt(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ln(d){let A="";return Yt(d,function(C,B){A+=B,A+=":",A+=C,A+=`\r
`}),A}function ru(d,A,C){t:{for(B in C){var B=!1;break t}B=!0}B||(C=ln(C),typeof d=="string"?C!=null&&Ai(C):Dt(d,A,C))}function De(d){It.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(De,It);var Fc=/^https?$/i,ts=["POST","PUT"];e=De.prototype,e.Fa=function(d){this.H=d},e.ea=function(d,A,C,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);A=A?A.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=v(y(this.Ca,this));try{this.B=!0,this.g.open(A,String(d),!0),this.B=!1}catch(tt){jc(this,tt);return}if(d=C||"",C=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var W in B)C.set(W,B[W]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const tt of B.keys())C.set(tt,B.get(tt));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(C.keys()).find(tt=>tt.toLowerCase()=="content-type"),W=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(ts,A,void 0)>=0)||B||W||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,dt]of C)this.g.setRequestHeader(tt,dt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(tt){jc(this,tt)}};function jc(d,A){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=A,d.o=5,Ms(d),br(d)}function Ms(d){d.A||(d.A=!0,qe(d,"complete"),qe(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,qe(this,"complete"),qe(this,"abort"),br(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),De.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},e.Xa=function(){Ds(this)};function Ds(d){if(d.h&&typeof o<"u"){if(d.v&&lr(d)==4)setTimeout(d.Ca.bind(d),0);else if(qe(d,"readystatechange"),lr(d)==4){d.h=!1;try{const tt=d.ca();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break t;default:A=!1}var C;if(!(C=A)){var B;if(B=tt===0){let dt=String(d.D).match(Ht)[1]||null;!dt&&h.self&&h.self.location&&(dt=h.self.location.protocol.slice(0,-1)),B=!Fc.test(dt?dt.toLowerCase():"")}C=B}if(C)qe(d,"complete"),qe(d,"success");else{d.o=6;try{var W=lr(d)>2?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.ca()+"]",Ms(d)}}finally{br(d)}}}}function br(d,A){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const C=d.g;d.g=null,A||qe(d,"ready");try{C.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function lr(d){return d.g?d.g.readyState:0}e.ca=function(){try{return lr(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(d){if(this.g){var A=this.g.responseText;return d&&A.indexOf(d)==0&&(A=A.substring(d.length)),xn(A)}};function Os(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Pa(d){const A={};d=(d.g&&lr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<d.length;B++){if(F(d[B]))continue;var C=ii(d[B]);const W=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const tt=A[W]||[];A[W]=tt,tt.push(C)}ie(A,function(B){return B.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function un(d,A,C){return C&&C.internalChannelParams&&C.internalChannelParams[d]||A}function su(d){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=un("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=un("baseRetryDelayMs",5e3,d),this.Za=un("retryDelaySeedMs",1e4,d),this.Ta=un("forwardChannelMaxRetries",2,d),this.va=un("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new ut(d&&d.concurrentRequestLimit),this.Ba=new on,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=su.prototype,e.ka=8,e.I=1,e.connect=function(d,A,C,B){Xe(0),this.W=d,this.H=A||{},C&&B!==void 0&&(this.H.OSID=C,this.H.OAID=B),this.F=this.X,this.J=Gc(this,null,this.W),No(this)};function Io(d){if(zc(d),d.I==3){var A=d.V++,C=ri(d.J);if(Dt(C,"SID",d.M),Dt(C,"RID",A),Dt(C,"TYPE","terminate"),Ls(d,C),A=new yt(d,d.j,A),A.M=2,A.A=Ti(ri(C)),C=!1,h.navigator&&h.navigator.sendBeacon)try{C=h.navigator.sendBeacon(A.A.toString(),"")}catch{}!C&&h.Image&&(new Image().src=A.A,C=!0),C||(A.g=Ro(A.j,null),A.g.ea(A.A)),A.F=Date.now(),bo(A)}Hc(d)}function ka(d){d.g&&($(d),d.g.cancel(),d.g=null)}function zc(d){ka(d),d.v&&(h.clearTimeout(d.v),d.v=null),We(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function No(d){if(!Uc(d.h)&&!d.m){d.m=!0;var A=d.Ea;st||D(),at||(st(),at=!0),M.add(A,d),d.D=0}}function _d(d,A){return ke(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=A.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ns(y(d.Ea,d,A),ou(d,d.D)),d.D++,!0)}e.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const W=new yt(this,this.j,d);let tt=this.o;if(this.U&&(tt?(tt=zi(tt),On(tt,this.U)):tt=this.U),this.u!==null||this.R||(W.J=tt,tt=null),this.S)t:{for(var A=0,C=0;C<this.i.length;C++){e:{var B=this.i[C];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break e}B=void 0}if(B===void 0)break;if(A+=B,A>4096){A=C;break t}if(A===4096||C===this.i.length-1){A=C+1;break t}}A=1e3}else A=1e3;A=Va(this,W,A),C=ri(this.J),Dt(C,"RID",d),Dt(C,"CVER",22),this.G&&Dt(C,"X-HTTP-Session-Id",this.G),Ls(this,C),tt&&(this.R?A="headers="+Ai(ln(tt))+"&"+A:this.u&&ru(C,this.u,tt)),Jl(this.h,W),this.Ra&&Dt(C,"TYPE","init"),this.S?(Dt(C,"$req",A),Dt(C,"SID","null"),W.U=!0,wr(W,C,null)):wr(W,C,A),this.I=2}}else this.I==3&&(d?fe(this,d):this.i.length==0||Uc(this.h)||fe(this))};function fe(d,A){var C;A?C=A.l:C=d.V++;const B=ri(d.J);Dt(B,"SID",d.M),Dt(B,"RID",C),Dt(B,"AID",d.K),Ls(d,B),d.u&&d.o&&ru(B,d.u,d.o),C=new yt(d,d.j,C,d.D+1),d.u===null&&(C.J=d.o),A&&(d.i=A.G.concat(d.i)),A=Va(d,C,1e3),C.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Jl(d.h,C),wr(C,B,A)}function Ls(d,A){d.H&&Yt(d.H,function(C,B){Dt(A,B,C)}),d.l&&Yt({},function(C,B){Dt(A,B,C)})}function Va(d,A,C){C=Math.min(d.i.length,C);const B=d.l?y(d.l.Ka,d.l,d):null;t:{var W=d.i;let kt=-1;for(;;){const Ze=["count="+C];kt==-1?C>0?(kt=W[0].g,Ze.push("ofs="+kt)):kt=0:Ze.push("ofs="+kt);let de=!0;for(let en=0;en<C;en++){var tt=W[en].g;const bi=W[en].map;if(tt-=kt,tt<0)kt=Math.max(0,W[en].g-100),de=!1;else try{tt="req"+tt+"_"||"";try{var dt=bi instanceof Map?bi:Object.entries(bi);for(const[ns,Kn]of dt){let Xi=Kn;m(Kn)&&(Xi=ni(Kn)),Ze.push(tt+ns+"="+encodeURIComponent(Xi))}}catch(ns){throw Ze.push(tt+"type="+encodeURIComponent("_badmap")),ns}}catch{B&&B(bi)}}if(de){dt=Ze.join("&");break t}}dt=void 0}return d=d.i.splice(0,C),A.G=d,dt}function ur(d){if(!d.g&&!d.v){d.Y=1;var A=d.Da;st||D(),at||(st(),at=!0),M.add(A,d),d.A=0}}function au(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ns(y(d.Da,d),ou(d,d.A)),d.A++,!0)}e.Da=function(){if(this.v=null,Ft(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ns(y(this.Wa,this),d)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xe(10),ka(this),Ft(this))};function $(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function Ft(d){d.g=new yt(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var A=ri(d.na);Dt(A,"RID","rpc"),Dt(A,"SID",d.M),Dt(A,"AID",d.K),Dt(A,"CI",d.F?"0":"1"),!d.F&&d.ia&&Dt(A,"TO",d.ia),Dt(A,"TYPE","xmlhttp"),Ls(d,A),d.u&&d.o&&ru(A,d.u,d.o),d.O&&(d.g.H=d.O);var C=d.g;d=d.ba,C.M=1,C.A=Ti(ri(A)),C.u=null,C.R=!0,Oa(C,d)}e.Va=function(){this.C!=null&&(this.C=null,ka(this),au(this),Xe(19))};function We(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Ua(d,A){var C=null;if(d.g==A){We(d),$(d),d.g=null;var B=2}else if(Tr(d.h,A))C=A.G,ue(d.h,A),B=1;else return;if(d.I!=0){if(A.o)if(B==1){C=A.u?A.u.length:0,A=Date.now()-A.F;var W=d.D;B=Er(),qe(B,new Wl(B,C)),No(d)}else ur(d);else if(W=A.m,W==3||W==0&&A.X>0||!(B==1&&_d(d,A)||B==2&&au(d)))switch(C&&C.length>0&&(A=d.h,A.i=A.i.concat(C)),W){case 1:es(d,5);break;case 4:es(d,10);break;case 3:es(d,6);break;default:es(d,2)}}}function ou(d,A){let C=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(C*=2),C*A}function es(d,A){if(d.j.info("Error code "+A),A==2){var C=y(d.bb,d),B=d.Ua;const W=!B;B=new Yi(B||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ve(B,"https"),Ti(B),W?vo(B.toString(),C):iu(B.toString(),C)}else Xe(2);d.I=0,d.l&&d.l.pa(A),Hc(d),zc(d)}e.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function Hc(d){if(d.I=0,d.ja=[],d.l){const A=se(d.h);(A.length!=0||d.i.length!=0)&&(X(d.ja,A),X(d.ja,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.oa()}}function Gc(d,A,C){var B=C instanceof Yi?ri(C):new Yi(C);if(B.g!="")A&&(B.g=A+"."+B.g),si(B,B.u);else{var W=h.location;B=W.protocol,A=A?A+"."+W.hostname:W.hostname,W=+W.port;const tt=new Yi(null);B&&Ve(tt,B),A&&(tt.g=A),W&&si(tt,W),C&&(tt.h=C),B=tt}return C=d.G,A=d.wa,C&&A&&Dt(B,C,A),Dt(B,"VER",d.ka),Ls(d,B),B}function Ro(d,A,C){if(A&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=d.Aa&&!d.ma?new De(new $r({ab:C})):new De(d.ma),A.Fa(d.L),A}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ke(){}e=Ke.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Bs(){}Bs.prototype.g=function(d,A){return new Kt(d,A)};function Kt(d,A){It.call(this),this.g=new su(A),this.l=d,this.h=A&&A.messageUrlParams||null,d=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(d?d["X-WebChannel-Content-Type"]=A.messageContentType:d={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(d?d["X-WebChannel-Client-Profile"]=A.sa:d={"X-WebChannel-Client-Profile":A.sa}),this.g.U=d,(d=A&&A.Qb)&&!F(d)&&(this.g.u=d),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!F(A)&&(this.g.G=A,d=this.h,d!==null&&A in d&&(d=this.h,A in d&&delete d[A])),this.j=new ae(this)}T(Kt,It),Kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){Io(this.g)},Kt.prototype.o=function(d){var A=this.g;if(typeof d=="string"){var C={};C.__data__=d,d=C}else this.v&&(C={},C.__data__=ni(d),d=C);A.i.push(new Zl(A.Ya++,d)),A.I==3&&No(A)},Kt.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,Kt.Z.N.call(this)};function Fa(d){ct.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var A=d.__sm__;if(A){t:{for(const C in A){d=C;break t}d=void 0}(this.i=d)&&(d=this.i,A=A!==null&&d in A?A[d]:void 0),this.data=A}else this.data=d}T(Fa,ct);function Sr(){Lt.call(this),this.status=1}T(Sr,Lt);function ae(d){this.g=d}T(ae,Ke),ae.prototype.ra=function(){qe(this.g,"a")},ae.prototype.qa=function(d){qe(this.g,new Fa(d))},ae.prototype.pa=function(d){qe(this.g,new Sr)},ae.prototype.oa=function(){qe(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,Dw=function(){return new Bs},Mw=function(){return Er()},Rw=Xt,v1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wo.NO_ERROR=0,wo.TIMEOUT=8,wo.HTTP_ERROR=6,Dh=wo,Ar.COMPLETE="complete",Nw=Ar,Ee.EventType=Ot,Ot.OPEN="a",Ot.CLOSE="b",Ot.ERROR="c",Ot.MESSAGE="d",It.prototype.listen=It.prototype.J,_u=Ee,De.prototype.listenOnce=De.prototype.K,De.prototype.getLastError=De.prototype.Ha,De.prototype.getLastErrorCode=De.prototype.ya,De.prototype.getStatus=De.prototype.ca,De.prototype.getResponseJson=De.prototype.La,De.prototype.getResponseText=De.prototype.la,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Fa,Iw=De}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const jp="@firebase/firestore",zp="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new ww("@firebase/firestore");function Fo(){return lo.logLevel}function At(e,...t){if(lo.logLevel<=le.DEBUG){const n=t.map(sm);lo.debug(`Firestore (${Gl}): ${e}`,...n)}}function Cs(e,...t){if(lo.logLevel<=le.ERROR){const n=t.map(sm);lo.error(`Firestore (${Gl}): ${e}`,...n)}}function bl(e,...t){if(lo.logLevel<=le.WARN){const n=t.map(sm);lo.warn(`Firestore (${Gl}): ${e}`,...n)}}function sm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,Ow(e,i,n)}function Ow(e,t,n){let i=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Cs(i),new Error(i)}function xe(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||Ow(t,s,i)}function Vt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends Hl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xn.UNAUTHENTICATED))}shutdown(){}}class vS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IS{constructor(t){this.t=t,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){xe(this.o===void 0,42304);let i=this.i;const s=x=>this.i!==i?(i=this.i,n(x)):Promise.resolve();let o=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ha,t.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const x=o;t.enqueueRetryable(async()=>{await x.promise,await s(this.currentUser)})},m=x=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(x=>m(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?m(x):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ha)}},0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(xe(typeof i.accessToken=="string",31837,{l:i}),new Lw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return xe(t===null||typeof t=="string",2055,{h:t}),new Xn(t)}}class NS{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RS{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new NS(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hp{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MS{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,uS(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){xe(this.o===void 0,3512);const i=o=>{o.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const h=o.token!==this.m;return this.m=o.token,At("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const s=o=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hp(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=DS(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=t.charAt(s[o]%62))}return i}}function $t(e,t){return e<t?-1:e>t?1:0}function I1(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),o=t.charAt(i);if(s!==o)return f0(s)===f0(o)?$t(s,o):f0(s)?1:-1}return $t(e.length,t.length)}const OS=55296,LS=57343;function f0(e){const t=e.charCodeAt(0);return t>=OS&&t<=LS}function Sl(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="__name__";class Mr{constructor(t,n,i){n===void 0?n=0:n>t.length&&Rt(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Rt(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Mr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Mr?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const o=Mr.compareSegments(t.get(s),n.get(s));if(o!==0)return o}return $t(t.length,n.length)}static compareSegments(t,n){const i=Mr.isNumericId(t),s=Mr.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Mr.extractNumericId(t).compare(Mr.extractNumericId(n)):I1(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ca.fromString(t.substring(4,t.length-2))}}class Oe extends Mr{construct(t,n,i){return new Oe(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new xt(it.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const BS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends Mr{construct(t,n,i){return new jn(t,n,i)}static isValidIdentifier(t){return BS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gp}static keyField(){return new jn([Gp])}static fromServerFormat(t){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new xt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;s<t.length;){const m=t[s];if(m==="\\"){if(s+1===t.length)throw new xt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const x=t[s+1];if(x!=="\\"&&x!=="."&&x!=="`")throw new xt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=x,s+=2}else m==="`"?(h=!h,s++):m!=="."||h?(i+=m,s++):(o(),s++)}if(o(),h)throw new xt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new jn(n)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(Oe.fromString(t))}static fromName(t){return new vt(Oe.fromString(t).popFirst(5))}static empty(){return new vt(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new Oe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(e,t,n){if(!n)throw new xt(it.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function PS(e,t,n,i){if(t===!0&&i===!0)throw new xt(it.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Yp(e){if(!vt.isDocumentKey(e))throw new xt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qp(e){if(vt.isDocumentKey(e))throw new xt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Pw(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ed(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Rt(12329,{type:typeof e})}function Vr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ed(e);throw new xt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e,t){const n={typeString:e};return t&&(n.value=t),n}function Mc(e,t){if(!Pw(e))throw new xt(it.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const h=e[i];if(s&&typeof h!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&h!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new xt(it.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-62135596800,Qp=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(t){return Ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Qp);return new Ne(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new xt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Xp)throw new xt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qp}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Mc(t,Ne._jsonSchema))return new Ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Xp;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:pn("string",Ne._jsonSchemaVersion),seconds:pn("number"),nanoseconds:pn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static fromTimestamp(t){return new Pt(t)}static min(){return new Pt(new Ne(0,0))}static max(){return new Pt(new Ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=-1;function kS(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Pt.fromTimestamp(i===1e9?new Ne(n+1,0):new Ne(n,i));return new ya(s,vt.empty(),t)}function VS(e){return new ya(e.readTime,e.key,cc)}class ya{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ya(Pt.min(),vt.empty(),cc)}static max(){return new ya(Pt.max(),vt.empty(),cc)}}function US(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:$t(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(e){if(e.code!==it.FAILED_PRECONDITION||e.message!==FS)throw e;At("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new lt((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof lt?n:lt.resolve(n)}catch(n){return lt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):lt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):lt.reject(n)}static resolve(t){return new lt((n,i)=>{n(t)})}static reject(t){return new lt((n,i)=>{i(t)})}static waitFor(t){return new lt((n,i)=>{let s=0,o=0,h=!1;t.forEach(m=>{++s,m.next(()=>{++o,h&&o===s&&n()},x=>i(x))}),h=!0,o===s&&n()})}static or(t){let n=lt.resolve(!1);for(const i of t)n=n.next(s=>s?lt.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(t,n){return new lt((i,s)=>{const o=t.length,h=new Array(o);let m=0;for(let x=0;x<o;x++){const y=x;n(t[y]).next(w=>{h[y]=w,++m,m===o&&i(h)},w=>s(w))}})}static doWhile(t,n){return new lt((i,s)=>{const o=()=>{t()===!0?n().next(()=>{o()},s):i()};o()})}}function zS(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ql(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}nd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=-1;function id(e){return e==null}function Ef(e){return e===0&&1/e==-1/0}function HS(e){return typeof e=="number"&&Number.isInteger(e)&&!Ef(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="";function GS(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Wp(t)),t=YS(e.get(n),t);return Wp(t)}function YS(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const o=e.charAt(s);switch(o){case"\0":n+="";break;case kw:n+="";break;default:n+=o}}return n}function Wp(e){return e+kw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function va(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Vw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n){this.comparator=t,this.root=n||Vn.EMPTY}insert(t,n){return new Qe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(t){return new Qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ch(this.root,t,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ch(this.root,t,this.comparator,!0)}}class ch{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?i(t.key,n):1,n&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Vn{constructor(t,n,i,s,o){this.key=t,this.value=n,this.color=i??Vn.RED,this.left=s??Vn.EMPTY,this.right=o??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,o){return new Vn(t??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Vn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,n,i,s,o){return this}insert(t,n,i){return new Vn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.comparator=t,this.data=new Qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zp(this.data.getIterator())}getIteratorFrom(t){return new Zp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof _n)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new _n(this.comparator);return n.data=t,n}}class Zp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t){this.fields=t,t.sort(jn.comparator)}static empty(){return new Li([])}unionWith(t){let n=new _n(jn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Li(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Sl(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Uw("Invalid base64 string: "+o):o}}(t);return new Gn(n)}static fromUint8Array(t){const n=function(s){let o="";for(let h=0;h<s.length;++h)o+=String.fromCharCode(s[h]);return o}(t);return new Gn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const qS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(e){if(xe(!!e,39018),typeof e=="string"){let t=0;const n=qS.exec(e);if(xe(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:nn(e.seconds),nanos:nn(e.nanos)}}function nn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ea(e){return typeof e=="string"?Gn.fromBase64String(e):Gn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="server_timestamp",jw="__type__",zw="__previous_value__",Hw="__local_write_time__";function lm(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[jw])==null?void 0:i.stringValue)===Fw}function rd(e){const t=e.mapValue.fields[zw];return lm(t)?rd(t):t}function hc(e){const t=xa(e.mapValue.fields[Hw].timestampValue);return new Ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t,n,i,s,o,h,m,x,y,w){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=x,this.useFetchStreams=y,this.isUsingEmulator=w}}const Af="(default)";class fc{constructor(t,n){this.projectId=t,this.database=n||Af}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===Af}isEqual(t){return t instanceof fc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="__type__",QS="__max__",hh={mapValue:{}},Yw="__vector__",wf="value";function Aa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lm(e)?4:KS(e)?9007199254740991:WS(e)?10:11:Rt(28295,{value:e})}function Gr(e,t){if(e===t)return!0;const n=Aa(e);if(n!==Aa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hc(e).isEqual(hc(t));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const h=xa(s.timestampValue),m=xa(o.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,o){return Ea(s.bytesValue).isEqual(Ea(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,o){return nn(s.geoPointValue.latitude)===nn(o.geoPointValue.latitude)&&nn(s.geoPointValue.longitude)===nn(o.geoPointValue.longitude)}(e,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return nn(s.integerValue)===nn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const h=nn(s.doubleValue),m=nn(o.doubleValue);return h===m?Ef(h)===Ef(m):isNaN(h)&&isNaN(m)}return!1}(e,t);case 9:return Sl(e.arrayValue.values||[],t.arrayValue.values||[],Gr);case 10:case 11:return function(s,o){const h=s.mapValue.fields||{},m=o.mapValue.fields||{};if(Kp(h)!==Kp(m))return!1;for(const x in h)if(h.hasOwnProperty(x)&&(m[x]===void 0||!Gr(h[x],m[x])))return!1;return!0}(e,t);default:return Rt(52216,{left:e})}}function dc(e,t){return(e.values||[]).find(n=>Gr(n,t))!==void 0}function vl(e,t){if(e===t)return 0;const n=Aa(e),i=Aa(t);if(n!==i)return $t(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return $t(e.booleanValue,t.booleanValue);case 2:return function(o,h){const m=nn(o.integerValue||o.doubleValue),x=nn(h.integerValue||h.doubleValue);return m<x?-1:m>x?1:m===x?0:isNaN(m)?isNaN(x)?0:-1:1}(e,t);case 3:return Jp(e.timestampValue,t.timestampValue);case 4:return Jp(hc(e),hc(t));case 5:return I1(e.stringValue,t.stringValue);case 6:return function(o,h){const m=Ea(o),x=Ea(h);return m.compareTo(x)}(e.bytesValue,t.bytesValue);case 7:return function(o,h){const m=o.split("/"),x=h.split("/");for(let y=0;y<m.length&&y<x.length;y++){const w=$t(m[y],x[y]);if(w!==0)return w}return $t(m.length,x.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,h){const m=$t(nn(o.latitude),nn(h.latitude));return m!==0?m:$t(nn(o.longitude),nn(h.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return $p(e.arrayValue,t.arrayValue);case 10:return function(o,h){var v,I,X,q;const m=o.fields||{},x=h.fields||{},y=(v=m[wf])==null?void 0:v.arrayValue,w=(I=x[wf])==null?void 0:I.arrayValue,T=$t(((X=y==null?void 0:y.values)==null?void 0:X.length)||0,((q=w==null?void 0:w.values)==null?void 0:q.length)||0);return T!==0?T:$p(y,w)}(e.mapValue,t.mapValue);case 11:return function(o,h){if(o===hh.mapValue&&h===hh.mapValue)return 0;if(o===hh.mapValue)return 1;if(h===hh.mapValue)return-1;const m=o.fields||{},x=Object.keys(m),y=h.fields||{},w=Object.keys(y);x.sort(),w.sort();for(let T=0;T<x.length&&T<w.length;++T){const v=I1(x[T],w[T]);if(v!==0)return v;const I=vl(m[x[T]],y[w[T]]);if(I!==0)return I}return $t(x.length,w.length)}(e.mapValue,t.mapValue);default:throw Rt(23264,{he:n})}}function Jp(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return $t(e,t);const n=xa(e),i=xa(t),s=$t(n.seconds,i.seconds);return s!==0?s:$t(n.nanos,i.nanos)}function $p(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=vl(n[s],i[s]);if(o)return o}return $t(n.length,i.length)}function Il(e){return N1(e)}function N1(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=xa(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ea(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return vt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=N1(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const h of i)o?o=!1:s+=",",s+=`${h}:${N1(n.fields[h])}`;return s+"}"}(e.mapValue):Rt(61005,{value:e})}function Oh(e){switch(Aa(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rd(e);return t?16+Oh(t):16;case 5:return 2*e.stringValue.length;case 6:return Ea(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Oh(o),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return va(i.fields,(o,h)=>{s+=o.length+Oh(h)}),s}(e.mapValue);default:throw Rt(13486,{value:e})}}function ty(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function R1(e){return!!e&&"integerValue"in e}function um(e){return!!e&&"arrayValue"in e}function ey(e){return!!e&&"nullValue"in e}function ny(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Lh(e){return!!e&&"mapValue"in e}function WS(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[Gw])==null?void 0:i.stringValue)===Yw}function zu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return va(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=zu(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zu(e.arrayValue.values[n]);return t}return{...e}}function KS(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===QS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this.value=t}static empty(){return new di({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Lh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=zu(n)}setAll(t){let n=jn.emptyPath(),i={},s=[];t.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const x=this.getFieldsMap(n);this.applyChanges(x,i,s),i={},s=[],n=m.popLast()}h?i[m.lastSegment()]=zu(h):s.push(m.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(t){const n=this.field(t.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Gr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Lh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){va(n,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new di(zu(this.value))}}function qw(e){const t=[];return va(e.fields,(n,i)=>{const s=new jn([n]);if(Lh(i)){const o=qw(i.mapValue).fields;if(o.length===0)t.push(s);else for(const h of o)t.push(s.child(h))}else t.push(s)}),new Li(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t,n,i,s,o,h,m){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Qn(t,0,Pt.min(),Pt.min(),Pt.min(),di.empty(),0)}static newFoundDocument(t,n,i,s){return new Qn(t,1,n,Pt.min(),i,s,0)}static newNoDocument(t,n){return new Qn(t,2,n,Pt.min(),Pt.min(),di.empty(),0)}static newUnknownDocument(t,n){return new Qn(t,3,n,Pt.min(),Pt.min(),di.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n){this.position=t,this.inclusive=n}}function iy(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const o=t[s],h=e.position[s];if(o.field.isKeyField()?i=vt.comparator(vt.fromName(h.referenceValue),n.key):i=vl(h,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function ry(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Gr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,n="asc"){this.field=t,this.dir=n}}function ZS(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{}class gn extends Xw{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new $S(t,n,i):n==="array-contains"?new nv(t,i):n==="in"?new iv(t,i):n==="not-in"?new rv(t,i):n==="array-contains-any"?new sv(t,i):new gn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new tv(t,i):new ev(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vl(n,this.value)):n!==null&&Aa(this.value)===Aa(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends Xw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new mr(t,n)}matches(t){return Qw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qw(e){return e.op==="and"}function Ww(e){return JS(e)&&Qw(e)}function JS(e){for(const t of e.filters)if(t instanceof mr)return!1;return!0}function M1(e){if(e instanceof gn)return e.field.canonicalString()+e.op.toString()+Il(e.value);if(Ww(e))return e.filters.map(t=>M1(t)).join(",");{const t=e.filters.map(n=>M1(n)).join(",");return`${e.op}(${t})`}}function Kw(e,t){return e instanceof gn?function(i,s){return s instanceof gn&&i.op===s.op&&i.field.isEqual(s.field)&&Gr(i.value,s.value)}(e,t):e instanceof mr?function(i,s){return s instanceof mr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,h,m)=>o&&Kw(h,s.filters[m]),!0):!1}(e,t):void Rt(19439)}function Zw(e){return e instanceof gn?function(n){return`${n.field.canonicalString()} ${n.op} ${Il(n.value)}`}(e):e instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(Zw).join(" ,")+"}"}(e):"Filter"}class $S extends gn{constructor(t,n,i){super(t,n,i),this.key=vt.fromName(i.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class tv extends gn{constructor(t,n){super(t,"in",n),this.keys=Jw("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class ev extends gn{constructor(t,n){super(t,"not-in",n),this.keys=Jw("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Jw(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>vt.fromName(i.referenceValue))}class nv extends gn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return um(n)&&dc(n.arrayValue,this.value)}}class iv extends gn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class rv extends gn{constructor(t,n){super(t,"not-in",n)}matches(t){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dc(this.value.arrayValue,n)}}class sv extends gn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>dc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t,n=null,i=[],s=[],o=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=h,this.endAt=m,this.Te=null}}function sy(e,t=null,n=[],i=[],s=null,o=null,h=null){return new av(e,t,n,i,s,o,h)}function cm(e){const t=Vt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>M1(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),id(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Il(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Il(i)).join(",")),t.Te=n}return t.Te}function hm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ZS(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Kw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ry(e.startAt,t.startAt)&&ry(e.endAt,t.endAt)}function D1(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,n=null,i=[],s=[],o=null,h="F",m=null,x=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=h,this.startAt=m,this.endAt=x,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ov(e,t,n,i,s,o,h,m){return new Xl(e,t,n,i,s,o,h,m)}function fm(e){return new Xl(e)}function ay(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function $w(e){return e.collectionGroup!==null}function Hu(e){const t=Vt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),n.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new _n(jn.comparator);return h.filters.forEach(x=>{x.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new gc(o,i))}),n.has(jn.keyField().canonicalString())||t.Ie.push(new gc(jn.keyField(),i))}return t.Ie}function Ur(e){const t=Vt(e);return t.Ee||(t.Ee=lv(t,Hu(e))),t.Ee}function lv(e,t){if(e.limitType==="F")return sy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new gc(s.field,o)});const n=e.endAt?new _f(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new _f(e.startAt.position,e.startAt.inclusive):null;return sy(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function O1(e,t){const n=e.filters.concat([t]);return new Xl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function L1(e,t,n){return new Xl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function sd(e,t){return hm(Ur(e),Ur(t))&&e.limitType===t.limitType}function t_(e){return`${cm(Ur(e))}|lt:${e.limitType}`}function jo(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>Zw(s)).join(", ")}]`),id(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Il(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Il(s)).join(",")),`Target(${i})`}(Ur(e))}; limitType=${e.limitType})`}function ad(e,t){return t.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):vt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(e,t)&&function(i,s){for(const o of Hu(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(h,m,x){const y=iy(h,m,x);return h.inclusive?y<=0:y<0}(i.startAt,Hu(i),s)||i.endAt&&!function(h,m,x){const y=iy(h,m,x);return h.inclusive?y>=0:y>0}(i.endAt,Hu(i),s))}(e,t)}function uv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function e_(e){return(t,n)=>{let i=!1;for(const s of Hu(e)){const o=cv(s,t,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function cv(e,t,n){const i=e.field.isKeyField()?vt.comparator(t.key,n.key):function(o,h,m){const x=h.data.field(o),y=m.data.field(o);return x!==null&&y!==null?vl(x,y):Rt(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Rt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){va(this.inner,(n,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return Vw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Qe(vt.comparator);function bs(){return hv}const n_=new Qe(vt.comparator);function Tu(...e){let t=n_;for(const n of e)t=t.insert(n.key,n);return t}function i_(e){let t=n_;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Wa(){return Gu()}function r_(){return Gu()}function Gu(){return new yo(e=>e.toString(),(e,t)=>e.isEqual(t))}const fv=new Qe(vt.comparator),dv=new _n(vt.comparator);function te(...e){let t=dv;for(const n of e)t=t.add(n);return t}const gv=new _n($t);function mv(){return gv}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(t)?"-0":t}}function s_(e){return{integerValue:""+e}}function pv(e,t){return HS(t)?s_(t):dm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this._=void 0}}function yv(e,t,n){return e instanceof Tf?function(s,o){const h={fields:{[jw]:{stringValue:Fw},[Hw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&lm(o)&&(o=rd(o)),o&&(h.fields[zw]=o),{mapValue:h}}(n,t):e instanceof mc?o_(e,t):e instanceof pc?l_(e,t):function(s,o){const h=a_(s,o),m=oy(h)+oy(s.Ae);return R1(h)&&R1(s.Ae)?s_(m):dm(s.serializer,m)}(e,t)}function xv(e,t,n){return e instanceof mc?o_(e,t):e instanceof pc?l_(e,t):n}function a_(e,t){return e instanceof Cf?function(i){return R1(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Tf extends od{}class mc extends od{constructor(t){super(),this.elements=t}}function o_(e,t){const n=u_(t);for(const i of e.elements)n.some(s=>Gr(s,i))||n.push(i);return{arrayValue:{values:n}}}class pc extends od{constructor(t){super(),this.elements=t}}function l_(e,t){let n=u_(t);for(const i of e.elements)n=n.filter(s=>!Gr(s,i));return{arrayValue:{values:n}}}class Cf extends od{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function oy(e){return nn(e.integerValue||e.doubleValue)}function u_(e){return um(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Ev(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof mc&&s instanceof mc||i instanceof pc&&s instanceof pc?Sl(i.elements,s.elements,Gr):i instanceof Cf&&s instanceof Cf?Gr(i.Ae,s.Ae):i instanceof Tf&&s instanceof Tf}(e.transform,t.transform)}class Av{constructor(t,n){this.version=t,this.transformResults=n}}class gr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new gr}static exists(t){return new gr(void 0,t)}static updateTime(t){return new gr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ld{}function c_(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new gm(e.key,gr.none()):new Dc(e.key,e.data,gr.none());{const n=e.data,i=di.empty();let s=new _n(jn.comparator);for(let o of t.fields)if(!s.has(o)){let h=n.field(o);h===null&&o.length>1&&(o=o.popLast(),h=n.field(o)),h===null?i.delete(o):i.set(o,h),s=s.add(o)}return new Ia(e.key,i,new Li(s.toArray()),gr.none())}}function wv(e,t,n){e instanceof Dc?function(s,o,h){const m=s.value.clone(),x=uy(s.fieldTransforms,o,h.transformResults);m.setAll(x),o.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(e,t,n):e instanceof Ia?function(s,o,h){if(!Bh(s.precondition,o))return void o.convertToUnknownDocument(h.version);const m=uy(s.fieldTransforms,o,h.transformResults),x=o.data;x.setAll(h_(s)),x.setAll(m),o.convertToFoundDocument(h.version,x).setHasCommittedMutations()}(e,t,n):function(s,o,h){o.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,n)}function Yu(e,t,n,i){return e instanceof Dc?function(o,h,m,x){if(!Bh(o.precondition,h))return m;const y=o.value.clone(),w=cy(o.fieldTransforms,x,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(e,t,n,i):e instanceof Ia?function(o,h,m,x){if(!Bh(o.precondition,h))return m;const y=cy(o.fieldTransforms,x,h),w=h.data;return w.setAll(h_(o)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(T=>T.field))}(e,t,n,i):function(o,h,m){return Bh(o.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(e,t,n)}function _v(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),o=a_(i.transform,s||null);o!=null&&(n===null&&(n=di.empty()),n.set(i.field,o))}return n||null}function ly(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Sl(i,s,(o,h)=>Ev(o,h))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Dc extends ld{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ia extends ld{constructor(t,n,i,s,o=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function h_(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function uy(e,t,n){const i=new Map;xe(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const o=e[s],h=o.transform,m=t.data.field(o.field);i.set(o.field,xv(h,m,n[s]))}return i}function cy(e,t,n){const i=new Map;for(const s of e){const o=s.transform,h=n.data.field(s.field);i.set(s.field,yv(o,h,t))}return i}class gm extends ld{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tv extends ld{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&wv(o,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Yu(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Yu(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=r_();return this.mutations.forEach(s=>{const o=t.get(s.key),h=o.overlayedDocument;let m=this.applyToLocalView(h,o.mutatedFields);m=n.has(s.key)?null:m;const x=c_(h,m);x!==null&&i.set(s.key,x),h.isValidDocument()||h.convertToNoDocument(Pt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),te())}isEqual(t){return this.batchId===t.batchId&&Sl(this.mutations,t.mutations,(n,i)=>ly(n,i))&&Sl(this.baseMutations,t.baseMutations,(n,i)=>ly(n,i))}}class mm{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){xe(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return fv}();const o=t.mutations;for(let h=0;h<o.length;h++)s=s.insert(o[h].key,i[h].version);return new mm(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,oe;function vv(e){switch(e){case it.OK:return Rt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Rt(15467,{code:e})}}function f_(e){if(e===void 0)return Cs("GRPC error has no .code"),it.UNKNOWN;switch(e){case cn.OK:return it.OK;case cn.CANCELLED:return it.CANCELLED;case cn.UNKNOWN:return it.UNKNOWN;case cn.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case cn.INTERNAL:return it.INTERNAL;case cn.UNAVAILABLE:return it.UNAVAILABLE;case cn.UNAUTHENTICATED:return it.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case cn.NOT_FOUND:return it.NOT_FOUND;case cn.ALREADY_EXISTS:return it.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return it.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case cn.ABORTED:return it.ABORTED;case cn.OUT_OF_RANGE:return it.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return it.UNIMPLEMENTED;case cn.DATA_LOSS:return it.DATA_LOSS;default:return Rt(39323,{code:e})}}(oe=cn||(cn={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new ca([4294967295,4294967295],0);function hy(e){const t=Iv().encode(e),n=new vw;return n.update(t),new Uint8Array(n.digest())}function fy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ca([n,i],0),new ca([s,o],0)]}class pm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Cu(`Invalid padding: ${n}`);if(i<0)throw new Cu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ca.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(ca.fromNumber(i)));return s.compare(Nv)===1&&(s=new ca([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=hy(t),[i,s]=fy(n);for(let o=0;o<this.hashCount;o++){const h=this.ye(i,s,o);if(!this.we(h))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),h=new pm(o,s,n);return i.forEach(m=>h.insert(m)),h}insert(t){if(this.ge===0)return;const n=hy(t),[i,s]=fy(n);for(let o=0;o<this.hashCount;o++){const h=this.ye(i,s,o);this.Se(h)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n,i,s,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,Oc.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new ud(Pt.min(),s,new Qe($t),bs(),te())}}class Oc{constructor(t,n,i,s,o){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Oc(i,n,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,n,i,s){this.be=t,this.removedTargetIds=n,this.key=i,this.De=s}}class d_{constructor(t,n){this.targetId=t,this.Ce=n}}class g_{constructor(t,n,i=Gn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class dy{constructor(){this.ve=0,this.Fe=gy(),this.Me=Gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=te(),n=te(),i=te();return this.Fe.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Rt(38017,{changeType:o})}}),new Oc(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=gy()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Rv{constructor(t){this.Ge=t,this.ze=new Map,this.je=bs(),this.Je=fh(),this.He=fh(),this.Ye=new Qe($t)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const o=s.target;if(D1(o))if(i===0){const h=new vt(o.path);this.et(n,h,Qn.newNoDocument(h,Pt.min()))}else xe(i===1,20013,{expectedCount:i});else{const h=this._t(n);if(h!==i){const m=this.ut(t),x=m?this.ct(m,t,h):1;if(x!==0){this.it(n);const y=x===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let h,m;try{h=Ea(i).toUint8Array()}catch(x){if(x instanceof Uw)return bl("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{m=new pm(h,s,o)}catch(x){return bl(x instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return m.ge===0?null:m}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${o.path.canonicalString()}`;t.mightContain(m)||(this.et(n,o,null),s++)}),s}Tt(t){const n=new Map;this.ze.forEach((o,h)=>{const m=this.ot(h);if(m){if(o.current&&D1(m.target)){const x=new vt(m.target.path);this.It(x).has(h)||this.Et(h,x)||this.et(h,x,Qn.newNoDocument(x,t))}o.Be&&(n.set(h,o.ke()),o.qe())}});let i=te();this.He.forEach((o,h)=>{let m=!0;h.forEachWhile(x=>{const y=this.ot(x);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(o))}),this.je.forEach((o,h)=>h.setReadTime(t));const s=new ud(t,n,this.Ye,this.je,i);return this.je=bs(),this.Je=fh(),this.He=fh(),this.Ye=new Qe($t),s}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new dy,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new _n($t),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new _n($t),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||At("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new dy),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function fh(){return new Qe(vt.comparator)}function gy(){return new Qe(vt.comparator)}const Mv={asc:"ASCENDING",desc:"DESCENDING"},Dv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ov={and:"AND",or:"OR"};class Lv{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function B1(e,t){return e.useProto3Json||id(t)?t:{value:t}}function bf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function m_(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Bv(e,t){return bf(e,t.toTimestamp())}function Fr(e){return xe(!!e,49232),Pt.fromTimestamp(function(n){const i=xa(n);return new Ne(i.seconds,i.nanos)}(e))}function ym(e,t){return P1(e,t).canonicalString()}function P1(e,t){const n=function(s){return new Oe(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function p_(e){const t=Oe.fromString(e);return xe(w_(t),10190,{key:t.toString()}),t}function k1(e,t){return ym(e.databaseId,t.path)}function d0(e,t){const n=p_(t);if(n.get(1)!==e.databaseId.projectId)throw new xt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt(x_(n))}function y_(e,t){return ym(e.databaseId,t)}function Pv(e){const t=p_(e);return t.length===4?Oe.emptyPath():x_(t)}function V1(e){return new Oe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function x_(e){return xe(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function my(e,t,n){return{name:k1(e,t),fields:n.value.mapValue.fields}}function kv(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Rt(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(y,w){return y.useProto3Json?(xe(w===void 0||typeof w=="string",58123),Gn.fromBase64String(w||"")):(xe(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Gn.fromUint8Array(w||new Uint8Array))}(e,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(y){const w=y.code===void 0?it.UNKNOWN:f_(y.code);return new xt(w,y.message||"")}(h);n=new g_(i,s,o,m||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=d0(e,i.document.name),o=Fr(i.document.updateTime),h=i.document.createTime?Fr(i.document.createTime):Pt.min(),m=new di({mapValue:{fields:i.document.fields}}),x=Qn.newFoundDocument(s,o,h,m),y=i.targetIds||[],w=i.removedTargetIds||[];n=new Ph(y,w,x.key,x)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=d0(e,i.document),o=i.readTime?Fr(i.readTime):Pt.min(),h=Qn.newNoDocument(s,o),m=i.removedTargetIds||[];n=new Ph([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=d0(e,i.document),o=i.removedTargetIds||[];n=new Ph([],o,s,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,h=new Sv(s,o),m=i.targetId;n=new d_(m,h)}}return n}function Vv(e,t){let n;if(t instanceof Dc)n={update:my(e,t.key,t.value)};else if(t instanceof gm)n={delete:k1(e,t.key)};else if(t instanceof Ia)n={update:my(e,t.key,t.data),updateMask:Xv(t.fieldMask)};else{if(!(t instanceof Tv))return Rt(16599,{Vt:t.type});n={verify:k1(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(o,h){const m=h.transform;if(m instanceof Tf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Cf)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Rt(20930,{transform:h.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Bv(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Rt(27497)}(e,t.precondition)),n}function Uv(e,t){return e&&e.length>0?(xe(t!==void 0,14353),e.map(n=>function(s,o){let h=s.updateTime?Fr(s.updateTime):Fr(o);return h.isEqual(Pt.min())&&(h=Fr(o)),new Av(h,s.transformResults||[])}(n,t))):[]}function Fv(e,t){return{documents:[y_(e,t.path)]}}function jv(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=y_(e,s);const o=function(y){if(y.length!==0)return A_(mr.create(y,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const h=function(y){if(y.length!==0)return y.map(w=>function(v){return{field:zo(v.field),direction:Gv(v.dir)}}(w))}(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=B1(e,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ft:n,parent:s}}function zv(e){let t=Pv(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){xe(i===1,65062);const w=n.from[0];w.allDescendants?s=w.collectionId:t=t.child(w.collectionId)}let o=[];n.where&&(o=function(T){const v=E_(T);return v instanceof mr&&Ww(v)?v.getFilters():[v]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(v=>function(X){return new gc(Ho(X.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(v))}(n.orderBy));let m=null;n.limit&&(m=function(T){let v;return v=typeof T=="object"?T.value:T,id(v)?null:v}(n.limit));let x=null;n.startAt&&(x=function(T){const v=!!T.before,I=T.values||[];return new _f(I,v)}(n.startAt));let y=null;return n.endAt&&(y=function(T){const v=!T.before,I=T.values||[];return new _f(I,v)}(n.endAt)),ov(t,s,h,o,m,"F",x,y)}function Hv(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function E_(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ho(n.unaryFilter.field);return gn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ho(n.unaryFilter.field);return gn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ho(n.unaryFilter.field);return gn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ho(n.unaryFilter.field);return gn.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}}(e):e.fieldFilter!==void 0?function(n){return gn.create(Ho(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(i=>E_(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}}(n.compositeFilter.op))}(e):Rt(30097,{filter:e})}function Gv(e){return Mv[e]}function Yv(e){return Dv[e]}function qv(e){return Ov[e]}function zo(e){return{fieldPath:e.canonicalString()}}function Ho(e){return jn.fromServerFormat(e.fieldPath)}function A_(e){return e instanceof gn?function(n){if(n.op==="=="){if(ny(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NAN"}};if(ey(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ny(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NAN"}};if(ey(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(n.field),op:Yv(n.op),value:n.value}}}(e):e instanceof mr?function(n){const i=n.getFilters().map(s=>A_(s));return i.length===1?i[0]:{compositeFilter:{op:qv(n.op),filters:i}}}(e):Rt(54877,{filter:e})}function Xv(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function w_(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,n,i,s,o=Pt.min(),h=Pt.min(),m=Gn.EMPTY_BYTE_STRING,x=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=x}withSequenceNumber(t){return new Zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(t){this.yt=t}}function Wv(e){const t=zv({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?L1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.Cn=new Zv}addToCollectionParentIndex(t,n){return this.Cn.add(n),lt.resolve()}getCollectionParents(t,n){return lt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return lt.resolve()}deleteFieldIndex(t,n){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,n){return lt.resolve()}getDocumentsMatchingTarget(t,n){return lt.resolve(null)}getIndexType(t,n){return lt.resolve(0)}getFieldIndexes(t,n){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,n){return lt.resolve(ya.min())}getMinOffsetFromCollectionGroup(t,n){return lt.resolve(ya.min())}updateCollectionGroup(t,n,i){return lt.resolve()}updateIndexEntries(t,n){return lt.resolve()}}class Zv{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new _n(Oe.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new _n(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},__=41943040;class fi{static withCacheSize(t){return new fi(t,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi.DEFAULT_COLLECTION_PERCENTILE=10,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fi.DEFAULT=new fi(__,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fi.DISABLED=new fi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Nl(0)}static cr(){return new Nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="LruGarbageCollector",Jv=1048576;function xy([e,t],[n,i]){const s=$t(e,n);return s===0?$t(t,i):s}class $v{constructor(t){this.Ir=t,this.buffer=new _n(xy),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();xy(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tI{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){At(yy,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ql(n)?At(yy,"Ignoring IndexedDB error during garbage collection: ",n):await Yl(n)}await this.Vr(3e5)})}}class eI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return lt.resolve(nd.ce);const i=new $v(n);return this.mr.forEachTarget(t,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(py)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),py):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,s,o,h,m,x,y;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,h=Date.now(),this.nthSequenceNumber(t,s))).next(T=>(i=T,m=Date.now(),this.removeTargets(t,i,n))).next(T=>(o=T,x=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(y=Date.now(),Fo()<=le.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${s} in `+(m-h)+`ms
	Removed ${o} targets in `+(x-m)+`ms
	Removed ${T} documents in `+(y-x)+`ms
Total Duration: ${y-w}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:T})))}}function nI(e,t){return new eI(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.changes=new yo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?lt.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&Yu(i.mutation,s,Li.empty(),Ne.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,te()).next(()=>i))}getLocalViewOfDocuments(t,n,i=te()){const s=Wa();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(o=>{let h=Tu();return o.forEach((m,x)=>{h=h.insert(m,x.overlayedDocument)}),h}))}getOverlayedDocuments(t,n){const i=Wa();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,te()))}populateOverlays(t,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((h,m)=>{n.set(h,m)})})}computeViews(t,n,i,s){let o=bs();const h=Gu(),m=function(){return Gu()}();return n.forEach((x,y)=>{const w=i.get(y.key);s.has(y.key)&&(w===void 0||w.mutation instanceof Ia)?o=o.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),Yu(w.mutation,y,w.mutation.getFieldMask(),Ne.now())):h.set(y.key,Li.empty())}),this.recalculateAndSaveOverlays(t,o).next(x=>(x.forEach((y,w)=>h.set(y,w)),n.forEach((y,w)=>m.set(y,new rI(w,h.get(y)??null))),m))}recalculateAndSaveOverlays(t,n){const i=Gu();let s=new Qe((h,m)=>h-m),o=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(h=>{for(const m of h)m.keys().forEach(x=>{const y=n.get(x);if(y===null)return;let w=i.get(x)||Li.empty();w=m.applyToLocalView(y,w),i.set(x,w);const T=(s.get(m.batchId)||te()).add(x);s=s.insert(m.batchId,T)})}).next(()=>{const h=[],m=s.getReverseIterator();for(;m.hasNext();){const x=m.getNext(),y=x.key,w=x.value,T=r_();w.forEach(v=>{if(!o.has(v)){const I=c_(n.get(v),i.get(v));I!==null&&T.set(v,I),o=o.add(v)}}),h.push(this.documentOverlayCache.saveOverlays(t,y,T))}return lt.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(h){return vt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$w(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(o=>{const h=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-o.size):lt.resolve(Wa());let m=cc,x=o;return h.next(y=>lt.forEach(y,(w,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),o.get(w)?lt.resolve():this.remoteDocumentCache.getEntry(t,w).next(v=>{x=x.insert(w,v)}))).next(()=>this.populateOverlays(t,y,o)).next(()=>this.computeViews(t,x,y,te())).next(w=>({batchId:m,changes:i_(w)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next(i=>{let s=Tu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const o=n.collectionGroup;let h=Tu();return this.indexManager.getCollectionParents(t,o).next(m=>lt.forEach(m,x=>{const y=function(T,v){return new Xl(v,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,x.child(o));return this.getDocumentsMatchingCollectionQuery(t,y,i,s).next(w=>{w.forEach((T,v)=>{h=h.insert(T,v)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(h=>(o=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,o,s))).next(h=>{o.forEach((x,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,Qn.newInvalidDocument(w)))});let m=Tu();return h.forEach((x,y)=>{const w=o.get(x);w!==void 0&&Yu(w.mutation,y,Li.empty(),Ne.now()),ad(n,y)&&(m=m.insert(x,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return lt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Fr(s.createTime)}}(n)),lt.resolve()}getNamedQuery(t,n){return lt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(s){return{name:s.name,query:Wv(s.bundledQuery),readTime:Fr(s.readTime)}}(n)),lt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.overlays=new Qe(vt.comparator),this.qr=new Map}getOverlay(t,n){return lt.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Wa();return lt.forEach(n,s=>this.getOverlay(t,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,o)=>{this.St(t,n,o)}),lt.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(i)),lt.resolve()}getOverlaysForCollection(t,n,i){const s=Wa(),o=n.length+1,h=new vt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const x=m.getNext().value,y=x.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===o&&x.largestBatchId>i&&s.set(x.getKey(),x)}return lt.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let o=new Qe((y,w)=>y-w);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let w=o.get(y.largestBatchId);w===null&&(w=Wa(),o=o.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const m=Wa(),x=o.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((y,w)=>m.set(y,w)),!(m.size()>=s)););return lt.resolve(m)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const h=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new bv(n,i));let o=this.qr.get(n);o===void 0&&(o=te(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,lt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.Qr=new _n(Nn.$r),this.Ur=new _n(Nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new Nn(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new Nn(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new vt(new Oe([])),i=new Nn(n,t),s=new Nn(n,t+1),o=[];return this.Ur.forEachInRange([i,s],h=>{this.Gr(h),o.push(h.key)}),o}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new vt(new Oe([])),i=new Nn(n,t),s=new Nn(n,t+1);let o=te();return this.Ur.forEachInRange([i,s],h=>{o=o.add(h.key)}),o}containsKey(t){const n=new Nn(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Nn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return vt.comparator(t.key,n.key)||$t(t.Yr,n.Yr)}static Kr(t,n){return $t(t.Yr,n.Yr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _n(Nn.$r)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Cv(o,n,i,s);this.mutationQueue.push(h);for(const m of s)this.Zr=this.Zr.add(new Nn(m.key,o)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return lt.resolve(h)}lookupMutationBatch(t,n){return lt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ei(i),o=s<0?0:s;return lt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?om:this.tr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Nn(n,0),s=new Nn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],h=>{const m=this.Xr(h.Yr);o.push(m)}),lt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new _n($t);return n.forEach(s=>{const o=new Nn(s,0),h=new Nn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,h],m=>{i=i.add(m.Yr)})}),lt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let o=i;vt.isDocumentKey(o)||(o=o.child(""));const h=new Nn(new vt(o),0);let m=new _n($t);return this.Zr.forEachWhile(x=>{const y=x.key.path;return!!i.isPrefixOf(y)&&(y.length===s&&(m=m.add(x.Yr)),!0)},h),lt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach(i=>{const s=this.Xr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return lt.forEach(n.mutations,s=>{const o=new Nn(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new Nn(n,0),s=this.Zr.firstAfterOrEqual(i);return lt.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t){this.ri=t,this.docs=function(){return new Qe(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,h=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return lt.resolve(i?i.document.mutableCopy():Qn.newInvalidDocument(n))}getEntries(t,n){let i=bs();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Qn.newInvalidDocument(s))}),lt.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let o=bs();const h=n.path,m=new vt(h.child("__id-9223372036854775808__")),x=this.docs.getIteratorFrom(m);for(;x.hasNext();){const{key:y,value:{document:w}}=x.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||US(VS(w),i)<=0||(s.has(w.key)||ad(n,w))&&(o=o.insert(w.key,w.mutableCopy()))}return lt.resolve(o)}getAllFromCollectionGroup(t,n,i,s){Rt(9500)}ii(t,n){return lt.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new hI(this)}getSize(t){return lt.resolve(this.size)}}class hI extends iI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),lt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t){this.persistence=t,this.si=new yo(n=>cm(n),hm),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new xm,this.targetCount=0,this.ai=Nl.ur()}forEachTarget(t,n){return this.si.forEach((i,s)=>n(s)),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),lt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Nl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,lt.resolve()}updateTargetData(t,n){return this.Pr(n),lt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,n,i){let s=0;const o=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.si.delete(h),o.push(this.removeMatchingKeysForTargetId(t,m.targetId)),s++)}),lt.waitFor(o).next(()=>s)}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return lt.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),lt.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(h=>{o.push(s.markPotentiallyOrphaned(t,h))}),lt.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),lt.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return lt.resolve(i)}containsKey(t,n){return lt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(t,n){this.ui={},this.overlays={},this.ci=new nd(0),this.li=!1,this.li=!0,this.hi=new lI,this.referenceDelegate=t(this),this.Pi=new fI(this),this.indexManager=new Kv,this.remoteDocumentCache=function(s){return new cI(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new Qv(n),this.Ii=new aI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new oI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new uI(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){At("MemoryPersistence","Starting transaction:",t);const s=new dI(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(t,n){return lt.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class dI extends jS{constructor(t){super(),this.currentSequenceNumber=t}}class Em{constructor(t){this.persistence=t,this.Ri=new xm,this.Vi=null}static mi(t){return new Em(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),lt.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),lt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),lt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.fi,i=>{const s=vt.fromPath(i);return this.gi(t,s).next(o=>{o||n.removeEntry(s,Pt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return lt.or([()=>lt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Sf{constructor(t,n){this.persistence=t,this.pi=new yo(i=>GS(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=nI(this,n)}static mi(t,n){return new Sf(t,n)}Ei(){}di(t){return lt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return lt.forEach(this.pi,(i,s)=>this.br(t,i,s).next(o=>o?lt.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(t,h=>this.br(t,h,n).next(m=>{m||(i++,o.removeEntry(h,Pt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),lt.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),lt.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),lt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Oh(t.data.value)),n}br(t,n,i){return lt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return lt.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=s}static As(t,n){let i=te(),s=te();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Am(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return a4()?8:zS(r4())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const o={result:null};return this.ys(t,n).next(h=>{o.result=h}).next(()=>{if(!o.result)return this.ws(t,n,s,i).next(h=>{o.result=h})}).next(()=>{if(o.result)return;const h=new gI;return this.Ss(t,n,h).next(m=>{if(o.result=m,this.Vs)return this.bs(t,n,h,m.size)})}).next(()=>o.result)}bs(t,n,i,s){return i.documentReadCount<this.fs?(Fo()<=le.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),lt.resolve()):(Fo()<=le.DEBUG&&At("QueryEngine","Query:",jo(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Fo()<=le.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ur(n))):lt.resolve())}ys(t,n){if(ay(n))return lt.resolve(null);let i=Ur(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=L1(n,null,"F"),i=Ur(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const h=te(...o);return this.ps.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,i).next(x=>{const y=this.Ds(n,m);return this.Cs(n,y,h,x.readTime)?this.ys(t,L1(n,null,"F")):this.vs(t,y,n,x)}))})))}ws(t,n,i,s){return ay(n)||s.isEqual(Pt.min())?lt.resolve(null):this.ps.getDocuments(t,i).next(o=>{const h=this.Ds(n,o);return this.Cs(n,h,i,s)?lt.resolve(null):(Fo()<=le.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),jo(n)),this.vs(t,h,n,kS(s,cc)).next(m=>m))})}Ds(t,n){let i=new _n(e_(t));return n.forEach((s,o)=>{ad(t,o)&&(i=i.add(o))}),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(t,n,i){return Fo()<=le.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",jo(n)),this.ps.getDocumentsMatchingQuery(t,n,ya.min(),i)}vs(t,n,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(o=>(n.forEach(h=>{o=o.insert(h.key,h)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="LocalStore",pI=3e8;class yI{constructor(t,n,i,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new Qe($t),this.xs=new yo(o=>cm(o),hm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function xI(e,t,n,i){return new yI(e,t,n,i)}async function C_(e,t){const n=Vt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const h=[],m=[];let x=te();for(const y of s){h.push(y.batchId);for(const w of y.mutations)x=x.add(w.key)}for(const y of o){m.push(y.batchId);for(const w of y.mutations)x=x.add(w.key)}return n.localDocuments.getDocuments(i,x).next(y=>({Ls:y,removedBatchIds:h,addedBatchIds:m}))})})}function EI(e,t){const n=Vt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,x,y,w){const T=y.batch,v=T.keys();let I=lt.resolve();return v.forEach(X=>{I=I.next(()=>w.getEntry(x,X)).next(q=>{const J=y.docVersions.get(X);xe(J!==null,48541),q.version.compareTo(J)<0&&(T.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),w.addEntry(q)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(x,T))}(n,i,t,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let x=te();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(x=x.add(m.batch.mutations[y].key));return x}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function b_(e){const t=Vt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function AI(e,t){const n=Vt(e),i=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const m=[];t.targetChanges.forEach((w,T)=>{const v=s.get(T);if(!v)return;m.push(n.Pi.removeMatchingKeys(o,w.removedDocuments,T).next(()=>n.Pi.addMatchingKeys(o,w.addedDocuments,T)));let I=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(T)!==null?I=I.withResumeToken(Gn.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):w.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(w.resumeToken,i)),s=s.insert(T,I),function(q,J,V){return q.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=pI?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(v,I,w)&&m.push(n.Pi.updateTargetData(o,I))});let x=bs(),y=te();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(o,w))}),m.push(wI(o,h,t.documentUpdates).next(w=>{x=w.ks,y=w.qs})),!i.isEqual(Pt.min())){const w=n.Pi.getLastRemoteSnapshotVersion(o).next(T=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i));m.push(w)}return lt.waitFor(m).next(()=>h.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,x,y)).next(()=>x)}).then(o=>(n.Ms=s,o))}function wI(e,t,n){let i=te(),s=te();return n.forEach(o=>i=i.add(o)),t.getEntries(e,i).next(o=>{let h=bs();return n.forEach((m,x)=>{const y=o.get(m);x.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(m)),x.isNoDocument()&&x.version.isEqual(Pt.min())?(t.removeEntry(m,x.readTime),h=h.insert(m,x)):!y.isValidDocument()||x.version.compareTo(y.version)>0||x.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(x),h=h.insert(m,x)):At(wm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",x.version)}),{ks:h,qs:s}})}function _I(e,t){const n=Vt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=om),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function TI(e,t){const n=Vt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Pi.getTargetData(i,t).next(o=>o?(s=o,lt.resolve(s)):n.Pi.allocateTargetId(i).next(h=>(s=new Zs(t,h,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function U1(e,t,n){const i=Vt(e),s=i.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,h=>i.persistence.referenceDelegate.removeTarget(h,s))}catch(h){if(!ql(h))throw h;At(wm,`Failed to update sequence numbers for target ${t}: ${h}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function Ey(e,t,n){const i=Vt(e);let s=Pt.min(),o=te();return i.persistence.runTransaction("Execute query","readwrite",h=>function(x,y,w){const T=Vt(x),v=T.xs.get(w);return v!==void 0?lt.resolve(T.Ms.get(v)):T.Pi.getTargetData(y,w)}(i,h,Ur(t)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,m.targetId).next(x=>{o=x})}).next(()=>i.Fs.getDocumentsMatchingQuery(h,t,n?s:Pt.min(),n?o:te())).next(m=>(CI(i,uv(t),m),{documents:m,Qs:o})))}function CI(e,t,n){let i=e.Os.get(t)||Pt.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),e.Os.set(t,i)}class Ay{constructor(){this.activeTargetIds=mv()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bI{constructor(){this.Mo=new Ay,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Ay,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="ConnectivityMonitor";class _y{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){At(wy,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){At(wy,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function F1(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="RestConnection",vI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class II{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Af?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,n,i,s,o){const h=F1(),m=this.zo(t,n.toUriEncodedString());At(g0,`Sending RPC '${t}' ${h}:`,m,i);const x={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(x,s,o);const{host:y}=new URL(m),w=im(y);return this.Jo(t,m,x,i,w).then(T=>(At(g0,`Received RPC '${t}' ${h}: `,T),T),T=>{throw bl(g0,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",i),T})}Ho(t,n,i,s,o,h){return this.Go(t,n,i,s,o)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}zo(t,n){const i=vI[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class RI extends II{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,o){const h=F1();return new Promise((m,x)=>{const y=new Iw;y.setWithCredentials(!0),y.listenOnce(Nw.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Dh.NO_ERROR:const T=y.getResponseJson();At(qn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case Dh.TIMEOUT:At(qn,`RPC '${t}' ${h} timed out`),x(new xt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const v=y.getStatus();if(At(qn,`RPC '${t}' ${h} failed with status:`,v,"response text:",y.getResponseText()),v>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const X=I==null?void 0:I.error;if(X&&X.status&&X.message){const q=function(V){const O=V.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(O)>=0?O:it.UNKNOWN}(X.status);x(new xt(q,X.message))}else x(new xt(it.UNKNOWN,"Server responded with status "+y.getStatus()))}else x(new xt(it.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{At(qn,`RPC '${t}' ${h} completed.`)}});const w=JSON.stringify(s);At(qn,`RPC '${t}' ${h} sending request:`,s),y.send(n,"POST",w,i,15)})}T_(t,n,i){const s=F1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=Dw(),m=Mw(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(x.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(x.useFetchStreams=!0),this.jo(x.initMessageHeaders,n,i),x.encodeInitMessageHeaders=!0;const w=o.join("");At(qn,`Creating RPC '${t}' stream ${s}: ${w}`,x);const T=h.createWebChannel(w,x);this.I_(T);let v=!1,I=!1;const X=new NI({Yo:J=>{I?At(qn,`Not sending because RPC '${t}' stream ${s} is closed:`,J):(v||(At(qn,`Opening RPC '${t}' stream ${s} transport.`),T.open(),v=!0),At(qn,`RPC '${t}' stream ${s} sending:`,J),T.send(J))},Zo:()=>T.close()}),q=(J,V,O)=>{J.listen(V,P=>{try{O(P)}catch(j){setTimeout(()=>{throw j},0)}})};return q(T,_u.EventType.OPEN,()=>{I||(At(qn,`RPC '${t}' stream ${s} transport opened.`),X.o_())}),q(T,_u.EventType.CLOSE,()=>{I||(I=!0,At(qn,`RPC '${t}' stream ${s} transport closed`),X.a_(),this.E_(T))}),q(T,_u.EventType.ERROR,J=>{I||(I=!0,bl(qn,`RPC '${t}' stream ${s} transport errored. Name:`,J.name,"Message:",J.message),X.a_(new xt(it.UNAVAILABLE,"The operation could not be completed")))}),q(T,_u.EventType.MESSAGE,J=>{var V;if(!I){const O=J.data[0];xe(!!O,16349);const P=O,j=(P==null?void 0:P.error)||((V=P[0])==null?void 0:V.error);if(j){At(qn,`RPC '${t}' stream ${s} received error:`,j);const st=j.status;let at=function(R){const z=cn[R];if(z!==void 0)return f_(z)}(st),M=j.message;at===void 0&&(at=it.INTERNAL,M="Unknown error status: "+st+" with message "+j.message),I=!0,X.a_(new xt(at,M)),T.close()}else At(qn,`RPC '${t}' stream ${s} received:`,O),X.u_(O)}}),q(m,Rw.STAT_EVENT,J=>{J.stat===v1.PROXY?At(qn,`RPC '${t}' stream ${s} detected buffering proxy`):J.stat===v1.NOPROXY&&At(qn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{X.__()},0),X}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function m0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(e){return new Lv(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(t,n,i=1e3,s=1.5,o=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&At("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="PersistentStream";class v_{constructor(t,n,i,s,o,h,m,x){this.Mi=t,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=x,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new S_(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{t(()=>{const s=new xt(it.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return At(Ty,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(At(Ty,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MI extends v_{constructor(t,n,i,s,o,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,h),this.serializer=o}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=kv(this.serializer,t),i=function(o){if(!("targetChange"in o))return Pt.min();const h=o.targetChange;return h.targetIds&&h.targetIds.length?Pt.min():h.readTime?Fr(h.readTime):Pt.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=V1(this.serializer),n.addTarget=function(o,h){let m;const x=h.target;if(m=D1(x)?{documents:Fv(o,x)}:{query:jv(o,x).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=m_(o,h.resumeToken);const y=B1(o,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(Pt.min())>0){m.readTime=bf(o,h.snapshotVersion.toTimestamp());const y=B1(o,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const i=Hv(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=V1(this.serializer),n.removeTarget=t,this.q_(n)}}class DI extends v_{constructor(t,n,i,s,o,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,h),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return xe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,xe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){xe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Uv(t.writeResults,t.commitTime),i=Fr(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=V1(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>Vv(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{}class LI extends OI{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new xt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,h])=>this.connection.Go(t,P1(n,i),s,o,h)).catch(o=>{throw o.name==="FirebaseError"?(o.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xt(it.UNKNOWN,o.toString())})}Ho(t,n,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(t,P1(n,i),s,h,m,o)).catch(h=>{throw h.name==="FirebaseError"?(h.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new xt(it.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class BI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cs(n),this.aa=!1):At("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="RemoteStore";class PI{constructor(t,n,i,s,o){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(h=>{i.enqueueAndForget(async()=>{xo(this)&&(At(uo,"Restarting streams for network reachability change."),await async function(x){const y=Vt(x);y.Ea.add(4),await Lc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await hd(y)}(this))})}),this.Ra=new BI(i,s)}}async function hd(e){if(xo(e))for(const t of e.da)await t(!0)}async function Lc(e){for(const t of e.da)await t(!1)}function I_(e,t){const n=Vt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),bm(n)?Cm(n):Ql(n).O_()&&Tm(n,t))}function _m(e,t){const n=Vt(e),i=Ql(n);n.Ia.delete(t),i.O_()&&N_(n,t),n.Ia.size===0&&(i.O_()?i.L_():xo(n)&&n.Ra.set("Unknown"))}function Tm(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ql(e).Y_(t)}function N_(e,t){e.Va.Ue(t),Ql(e).Z_(t)}function Cm(e){e.Va=new Rv({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ql(e).start(),e.Ra.ua()}function bm(e){return xo(e)&&!Ql(e).x_()&&e.Ia.size>0}function xo(e){return Vt(e).Ea.size===0}function R_(e){e.Va=void 0}async function kI(e){e.Ra.set("Online")}async function VI(e){e.Ia.forEach((t,n)=>{Tm(e,t)})}async function UI(e,t){R_(e),bm(e)?(e.Ra.ha(t),Cm(e)):e.Ra.set("Unknown")}async function FI(e,t,n){if(e.Ra.set("Online"),t instanceof g_&&t.state===2&&t.cause)try{await async function(s,o){const h=o.cause;for(const m of o.targetIds)s.Ia.has(m)&&(await s.remoteSyncer.rejectListen(m,h),s.Ia.delete(m),s.Va.removeTarget(m))}(e,t)}catch(i){At(uo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await vf(e,i)}else if(t instanceof Ph?e.Va.Ze(t):t instanceof d_?e.Va.st(t):e.Va.tt(t),!n.isEqual(Pt.min()))try{const i=await b_(e.localStore);n.compareTo(i)>=0&&await function(o,h){const m=o.Va.Tt(h);return m.targetChanges.forEach((x,y)=>{if(x.resumeToken.approximateByteSize()>0){const w=o.Ia.get(y);w&&o.Ia.set(y,w.withResumeToken(x.resumeToken,h))}}),m.targetMismatches.forEach((x,y)=>{const w=o.Ia.get(x);if(!w)return;o.Ia.set(x,w.withResumeToken(Gn.EMPTY_BYTE_STRING,w.snapshotVersion)),N_(o,x);const T=new Zs(w.target,x,y,w.sequenceNumber);Tm(o,T)}),o.remoteSyncer.applyRemoteEvent(m)}(e,n)}catch(i){At(uo,"Failed to raise snapshot:",i),await vf(e,i)}}async function vf(e,t,n){if(!ql(t))throw t;e.Ea.add(1),await Lc(e),e.Ra.set("Offline"),n||(n=()=>b_(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{At(uo,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await hd(e)})}function M_(e,t){return t().catch(n=>vf(e,n,t))}async function fd(e){const t=Vt(e),n=wa(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:om;for(;jI(t);)try{const s=await _I(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,zI(t,s)}catch(s){await vf(t,s)}D_(t)&&O_(t)}function jI(e){return xo(e)&&e.Ta.length<10}function zI(e,t){e.Ta.push(t);const n=wa(e);n.O_()&&n.X_&&n.ea(t.mutations)}function D_(e){return xo(e)&&!wa(e).x_()&&e.Ta.length>0}function O_(e){wa(e).start()}async function HI(e){wa(e).ra()}async function GI(e){const t=wa(e);for(const n of e.Ta)t.ea(n.mutations)}async function YI(e,t,n){const i=e.Ta.shift(),s=mm.from(i,t,n);await M_(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await fd(e)}async function qI(e,t){t&&wa(e).X_&&await async function(i,s){if(function(h){return vv(h)&&h!==it.ABORTED}(s.code)){const o=i.Ta.shift();wa(i).B_(),await M_(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await fd(i)}}(e,t),D_(e)&&O_(e)}async function Cy(e,t){const n=Vt(e);n.asyncQueue.verifyOperationInProgress(),At(uo,"RemoteStore received new credentials");const i=xo(n);n.Ea.add(3),await Lc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await hd(n)}async function XI(e,t){const n=Vt(e);t?(n.Ea.delete(2),await hd(n)):t||(n.Ea.add(2),await Lc(n),n.Ra.set("Unknown"))}function Ql(e){return e.ma||(e.ma=function(n,i,s){const o=Vt(n);return o.sa(),new MI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(e.datastore,e.asyncQueue,{Xo:kI.bind(null,e),t_:VI.bind(null,e),r_:UI.bind(null,e),H_:FI.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),bm(e)?Cm(e):e.Ra.set("Unknown")):(await e.ma.stop(),R_(e))})),e.ma}function wa(e){return e.fa||(e.fa=function(n,i,s){const o=Vt(n);return o.sa(),new DI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:HI.bind(null,e),r_:qI.bind(null,e),ta:GI.bind(null,e),na:YI.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await fd(e)):(await e.fa.stop(),e.Ta.length>0&&(At(uo,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,n,i,s,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,o){const h=Date.now()+i,m=new Sm(t,n,h,s,o);return m.start(i),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(e,t){if(Cs("AsyncQueue",`${t}: ${e}`),ql(e))return new xt(it.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(t){return new fl(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||vt.comparator(n.key,i.key):(n,i)=>vt.comparator(n.key,i.key),this.keyedMap=Tu(),this.sortedSet=new Qe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof fl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new fl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.ga=new Qe(vt.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class Rl{constructor(t,n,i,s,o,h,m,x,y){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=x,this.hasCachedResults=y}static fromInitialDocuments(t,n,i,s,o){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Rl(t,n,fl.emptySet(n),h,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class WI{constructor(){this.queries=Sy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Vt(n),o=s.queries;s.queries=Sy(),o.forEach((h,m)=>{for(const x of m.Sa)x.onError(i)})})(this,new xt(it.ABORTED,"Firestore shutting down"))}}function Sy(){return new yo(e=>t_(e),sd)}async function L_(e,t){const n=Vt(e);let i=3;const s=t.query;let o=n.queries.get(s);o?!o.ba()&&t.Da()&&(i=2):(o=new QI,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(h){const m=vm(h,`Initialization of query '${jo(t.query)}' failed`);return void t.onError(m)}n.queries.set(s,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&Im(n)}async function B_(e,t){const n=Vt(e),i=t.query;let s=3;const o=n.queries.get(i);if(o){const h=o.Sa.indexOf(t);h>=0&&(o.Sa.splice(h,1),o.Sa.length===0?s=t.Da()?0:1:!o.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function KI(e,t){const n=Vt(e);let i=!1;for(const s of t){const o=s.query,h=n.queries.get(o);if(h){for(const m of h.Sa)m.Fa(s)&&(i=!0);h.wa=s}}i&&Im(n)}function ZI(e,t,n){const i=Vt(e),s=i.queries.get(t);if(s)for(const o of s.Sa)o.onError(n);i.queries.delete(t)}function Im(e){e.Ca.forEach(t=>{t.next()})}var j1,vy;(vy=j1||(j1={})).Ma="default",vy.Cache="cache";class P_{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Rl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Rl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==j1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(t){this.key=t}}class V_{constructor(t){this.key=t}}class JI{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=te(),this.mutatedKeys=te(),this.eu=e_(t),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new by,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,h=s,m=!1;const x=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((w,T)=>{const v=s.get(w),I=ad(this.query,T)?T:null,X=!!v&&this.mutatedKeys.has(v.key),q=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let J=!1;v&&I?v.data.isEqual(I.data)?X!==q&&(i.track({type:3,doc:I}),J=!0):this.su(v,I)||(i.track({type:2,doc:I}),J=!0,(x&&this.eu(I,x)>0||y&&this.eu(I,y)<0)&&(m=!0)):!v&&I?(i.track({type:0,doc:I}),J=!0):v&&!I&&(i.track({type:1,doc:v}),J=!0,(x||y)&&(m=!0)),J&&(I?(h=h.add(I),o=q?o.add(w):o.delete(w)):(h=h.delete(w),o=o.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),o=o.delete(w.key),i.track({type:1,doc:w})}return{tu:h,iu:i,Cs:m,mutatedKeys:o}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort((w,T)=>function(I,X){const q=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:J})}};return q(I)-q(X)}(w.type,T.type)||this.eu(w.doc,T.doc)),this.ou(i),s=s??!1;const m=n&&!s?this._u():[],x=this.Xa.size===0&&this.current&&!s?1:0,y=x!==this.Za;return this.Za=x,h.length!==0||y?{snapshot:new Rl(this.query,t.tu,o,h,t.mutatedKeys,x===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new by,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=te(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new V_(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new k_(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=te();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Nm="SyncEngine";class $I{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class t6{constructor(t){this.key=t,this.hu=!1}}class e6{constructor(t,n,i,s,o,h){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new yo(m=>t_(m),sd),this.Iu=new Map,this.Eu=new Set,this.du=new Qe(vt.comparator),this.Au=new Map,this.Ru=new xm,this.Vu={},this.mu=new Map,this.fu=Nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n6(e,t,n=!0){const i=G_(e);let s;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await U_(i,t,n,!0),s}async function i6(e,t){const n=G_(e);await U_(n,t,!0,!1)}async function U_(e,t,n,i){const s=await TI(e.localStore,Ur(t)),o=s.targetId,h=e.sharedClientState.addLocalQueryTarget(o,n);let m;return i&&(m=await r6(e,t,o,h==="current",s.resumeToken)),e.isPrimaryClient&&n&&I_(e.remoteStore,s),m}async function r6(e,t,n,i,s){e.pu=(T,v,I)=>async function(q,J,V,O){let P=J.view.ru(V);P.Cs&&(P=await Ey(q.localStore,J.query,!1).then(({documents:M})=>J.view.ru(M,P)));const j=O&&O.targetChanges.get(J.targetId),st=O&&O.targetMismatches.get(J.targetId)!=null,at=J.view.applyChanges(P,q.isPrimaryClient,j,st);return Ny(q,J.targetId,at.au),at.snapshot}(e,T,v,I);const o=await Ey(e.localStore,t,!0),h=new JI(t,o.Qs),m=h.ru(o.documents),x=Oc.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),y=h.applyChanges(m,e.isPrimaryClient,x);Ny(e,n,y.au);const w=new $I(t,n,h);return e.Tu.set(t,w),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),y.snapshot}async function s6(e,t,n){const i=Vt(e),s=i.Tu.get(t),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter(h=>!sd(h,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await U1(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&_m(i.remoteStore,s.targetId),z1(i,s.targetId)}).catch(Yl)):(z1(i,s.targetId),await U1(i.localStore,s.targetId,!0))}async function a6(e,t){const n=Vt(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),_m(n.remoteStore,i.targetId))}async function o6(e,t,n){const i=g6(e);try{const s=await function(h,m){const x=Vt(h),y=Ne.now(),w=m.reduce((I,X)=>I.add(X.key),te());let T,v;return x.persistence.runTransaction("Locally write mutations","readwrite",I=>{let X=bs(),q=te();return x.Ns.getEntries(I,w).next(J=>{X=J,X.forEach((V,O)=>{O.isValidDocument()||(q=q.add(V))})}).next(()=>x.localDocuments.getOverlayedDocuments(I,X)).next(J=>{T=J;const V=[];for(const O of m){const P=_v(O,T.get(O.key).overlayedDocument);P!=null&&V.push(new Ia(O.key,P,qw(P.value.mapValue),gr.exists(!0)))}return x.mutationQueue.addMutationBatch(I,y,V,m)}).next(J=>{v=J;const V=J.applyToLocalDocumentSet(T,q);return x.documentOverlayCache.saveOverlays(I,J.batchId,V)})}).then(()=>({batchId:v.batchId,changes:i_(T)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(h,m,x){let y=h.Vu[h.currentUser.toKey()];y||(y=new Qe($t)),y=y.insert(m,x),h.Vu[h.currentUser.toKey()]=y}(i,s.batchId,n),await Bc(i,s.changes),await fd(i.remoteStore)}catch(s){const o=vm(s,"Failed to persist write");n.reject(o)}}async function F_(e,t){const n=Vt(e);try{const i=await AI(n.localStore,t);t.targetChanges.forEach((s,o)=>{const h=n.Au.get(o);h&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?h.hu=!0:s.modifiedDocuments.size>0?xe(h.hu,14607):s.removedDocuments.size>0&&(xe(h.hu,42227),h.hu=!1))}),await Bc(n,i,t)}catch(i){await Yl(i)}}function Iy(e,t,n){const i=Vt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((o,h)=>{const m=h.view.va(t);m.snapshot&&s.push(m.snapshot)}),function(h,m){const x=Vt(h);x.onlineState=m;let y=!1;x.queries.forEach((w,T)=>{for(const v of T.Sa)v.va(m)&&(y=!0)}),y&&Im(x)}(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function l6(e,t,n){const i=Vt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),o=s&&s.key;if(o){let h=new Qe(vt.comparator);h=h.insert(o,Qn.newNoDocument(o,Pt.min()));const m=te().add(o),x=new ud(Pt.min(),new Map,new Qe($t),h,m);await F_(i,x),i.du=i.du.remove(o),i.Au.delete(t),Rm(i)}else await U1(i.localStore,t,!1).then(()=>z1(i,t,n)).catch(Yl)}async function u6(e,t){const n=Vt(e),i=t.batch.batchId;try{const s=await EI(n.localStore,t);z_(n,i,null),j_(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Bc(n,s)}catch(s){await Yl(s)}}async function c6(e,t,n){const i=Vt(e);try{const s=await function(h,m){const x=Vt(h);return x.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return x.mutationQueue.lookupMutationBatch(y,m).next(T=>(xe(T!==null,37113),w=T.keys(),x.mutationQueue.removeMutationBatch(y,T))).next(()=>x.mutationQueue.performConsistencyCheck(y)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(y,w,m)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>x.localDocuments.getDocuments(y,w))})}(i.localStore,t);z_(i,t,n),j_(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Bc(i,s)}catch(s){await Yl(s)}}function j_(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function z_(e,t,n){const i=Vt(e);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(n?o.reject(n):o.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function z1(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||H_(e,i)})}function H_(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(_m(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Rm(e))}function Ny(e,t,n){for(const i of n)i instanceof k_?(e.Ru.addReference(i.key,t),h6(e,i)):i instanceof V_?(At(Nm,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||H_(e,i.key)):Rt(19791,{wu:i})}function h6(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(At(Nm,"New document in limbo: "+n),e.Eu.add(i),Rm(e))}function Rm(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new vt(Oe.fromString(t)),i=e.fu.next();e.Au.set(i,new t6(n)),e.du=e.du.insert(n,i),I_(e.remoteStore,new Zs(Ur(fm(n.path)),i,"TargetPurposeLimboResolution",nd.ce))}}async function Bc(e,t,n){const i=Vt(e),s=[],o=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach((m,x)=>{h.push(i.pu(x,t,n).then(y=>{var w;if((y||n)&&i.isPrimaryClient){const T=y?!y.fromCache:(w=n==null?void 0:n.targetChanges.get(x.targetId))==null?void 0:w.current;i.sharedClientState.updateQueryState(x.targetId,T?"current":"not-current")}if(y){s.push(y);const T=Am.As(x.targetId,y);o.push(T)}}))}),await Promise.all(h),i.Pu.H_(s),await async function(x,y){const w=Vt(x);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>lt.forEach(y,v=>lt.forEach(v.Es,I=>w.persistence.referenceDelegate.addReference(T,v.targetId,I)).next(()=>lt.forEach(v.ds,I=>w.persistence.referenceDelegate.removeReference(T,v.targetId,I)))))}catch(T){if(!ql(T))throw T;At(wm,"Failed to update sequence numbers: "+T)}for(const T of y){const v=T.targetId;if(!T.fromCache){const I=w.Ms.get(v),X=I.snapshotVersion,q=I.withLastLimboFreeSnapshotVersion(X);w.Ms=w.Ms.insert(v,q)}}}(i.localStore,o))}async function f6(e,t){const n=Vt(e);if(!n.currentUser.isEqual(t)){At(Nm,"User change. New user:",t.toKey());const i=await C_(n.localStore,t);n.currentUser=t,function(o,h){o.mu.forEach(m=>{m.forEach(x=>{x.reject(new xt(it.CANCELLED,h))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Bc(n,i.Ls)}}function d6(e,t){const n=Vt(e),i=n.Au.get(t);if(i&&i.hu)return te().add(i.key);{let s=te();const o=n.Iu.get(t);if(!o)return s;for(const h of o){const m=n.Tu.get(h);s=s.unionWith(m.view.nu)}return s}}function G_(e){const t=Vt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=F_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=d6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=l6.bind(null,t),t.Pu.H_=KI.bind(null,t.eventManager),t.Pu.yu=ZI.bind(null,t.eventManager),t}function g6(e){const t=Vt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=u6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=c6.bind(null,t),t}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=cd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return xI(this.persistence,new mI,t.initialUser,this.serializer)}Cu(t){return new T_(Em.mi,this.serializer)}Du(t){return new bI}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class m6 extends If{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){xe(this.persistence.referenceDelegate instanceof Sf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new tI(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?fi.withCacheSize(this.cacheSizeBytes):fi.DEFAULT;return new T_(i=>Sf.mi(i,n),this.serializer)}}class H1{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Iy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=f6.bind(null,this.syncEngine),await XI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new WI}()}createDatastore(t){const n=cd(t.databaseInfo.databaseId),i=function(o){return new RI(o)}(t.databaseInfo);return function(o,h,m,x){return new LI(o,h,m,x)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,o,h,m){return new PI(i,s,o,h,m)}(this.localStore,this.datastore,t.asyncQueue,n=>Iy(this.syncEngine,n,0),function(){return _y.v()?new _y:new SI}())}createSyncEngine(t,n){return function(s,o,h,m,x,y,w){const T=new e6(s,o,h,m,x,y);return w&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const o=Vt(s);At(uo,"RemoteStore shutting down."),o.Ea.add(5),await Lc(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}H1.provider={build:()=>new H1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Cs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="FirestoreClient";class p6{constructor(t,n,i,s,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Xn.UNAUTHENTICATED,this.clientId=am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async h=>{At(_a,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(At(_a,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=vm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function p0(e,t){e.asyncQueue.verifyOperationInProgress(),At(_a,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await C_(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ry(e,t){e.asyncQueue.verifyOperationInProgress();const n=await y6(e);At(_a,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>Cy(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Cy(t.remoteStore,s)),e._onlineComponents=t}async function y6(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){At(_a,"Using user provided OfflineComponentProvider");try{await p0(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===it.FAILED_PRECONDITION||s.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;bl("Error using user provided cache. Falling back to memory cache: "+n),await p0(e,new If)}}else At(_a,"Using default OfflineComponentProvider"),await p0(e,new m6(void 0));return e._offlineComponents}async function q_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(At(_a,"Using user provided OnlineComponentProvider"),await Ry(e,e._uninitializedComponentsProvider._online)):(At(_a,"Using default OnlineComponentProvider"),await Ry(e,new H1))),e._onlineComponents}function x6(e){return q_(e).then(t=>t.syncEngine)}async function G1(e){const t=await q_(e),n=t.eventManager;return n.onListen=n6.bind(null,t.syncEngine),n.onUnlisten=s6.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=i6.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=a6.bind(null,t.syncEngine),n}function E6(e,t,n={}){const i=new ha;return e.asyncQueue.enqueueAndForget(async()=>function(o,h,m,x,y){const w=new Y_({next:v=>{w.Nu(),h.enqueueAndForget(()=>B_(o,T)),v.fromCache&&x.source==="server"?y.reject(new xt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(v)},error:v=>y.reject(v)}),T=new P_(m,w,{includeMetadataChanges:!0,qa:!0});return L_(o,T)}(await G1(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="firestore.googleapis.com",Dy=!0;class Oy{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new xt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Q_,this.ssl=Dy}else this.host=t.host,this.ssl=t.ssl??Dy;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=__;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Jv)throw new xt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X_(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new xt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new xt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new xt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dd{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new xt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oy(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new SS;switch(i.type){case"firstParty":return new RS(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new xt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=My.get(n);i&&(At("ComponentProvider","Removing Datastore"),My.delete(n),i.terminate())}(this),Promise.resolve()}}function A6(e,t,n,i={}){var y;e=Vr(e,dd);const s=im(t),o=e._getSettings(),h={...o,emulatorOptions:e._getEmulatorOptions()},m=`${t}:${n}`;s&&($b(`https://${m}`),i4("Firestore",!0)),o.host!==Q_&&o.host!==m&&bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const x={...o,host:m,ssl:s,emulatorOptions:i};if(!pf(x,h)&&(e._setSettings(x),i.mockUserToken)){let w,T;if(typeof i.mockUserToken=="string")w=i.mockUserToken,T=Xn.MOCK_USER;else{w=t4(i.mockUserToken,(y=e._app)==null?void 0:y.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new xt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Xn(v)}e._authCredentials=new vS(new Lw(w,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Na(this.firestore,t,this._query)}}class yn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yn(this.firestore,t,this._key)}toJSON(){return{type:yn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Mc(n,yn._jsonSchema))return new yn(t,i||null,new vt(Oe.fromString(n.referencePath)))}}yn._jsonSchemaVersion="firestore/documentReference/1.0",yn._jsonSchema={type:pn("string",yn._jsonSchemaVersion),referencePath:pn("string")};class fa extends Na{constructor(t,n,i){super(t,n,fm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yn(this.firestore,null,new vt(t))}withConverter(t){return new fa(this.firestore,t,this._path)}}function gh(e,t,...n){if(e=Hr(e),Bw("collection","path",t),e instanceof dd){const i=Oe.fromString(t,...n);return qp(i),new fa(e,null,i)}{if(!(e instanceof yn||e instanceof fa))throw new xt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Oe.fromString(t,...n));return qp(i),new fa(e.firestore,null,i)}}function Xa(e,t,...n){if(e=Hr(e),arguments.length===1&&(t=am.newId()),Bw("doc","path",t),e instanceof dd){const i=Oe.fromString(t,...n);return Yp(i),new yn(e,null,new vt(i))}{if(!(e instanceof yn||e instanceof fa))throw new xt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Oe.fromString(t,...n));return Yp(i),new yn(e.firestore,e instanceof fa?e.converter:null,new vt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="AsyncQueue";class By{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new S_(this,"async_queue_retry"),this._c=()=>{const i=m0();i&&At(Ly,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=m0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=m0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ha;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ql(t))throw t;At(Ly,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Cs("INTERNAL UNHANDLED ERROR: ",Py(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=Sm.createAndSchedule(this,t,n,i,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&Rt(47125,{Pc:Py(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Py(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(e,["next","error","complete"])}class co extends dd{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new By,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new By(t),this._firestoreClient=void 0,await t}}}function w6(e,t){const n=typeof e=="object"?e:dS(),i=typeof e=="string"?e:Af,s=lS(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=Zb("firestore");o&&A6(s,...o)}return s}function Mm(e){if(e._terminated)throw new xt(it.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||_6(e),e._firestoreClient}function _6(e){var i,s,o;const t=e._freezeSettings(),n=function(m,x,y,w){return new XS(m,x,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,X_(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((o=t.localCache)!=null&&o._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new p6(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(m){const x=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(x),_online:x}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new nr(Gn.fromBase64String(t))}catch(n){throw new xt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new nr(Gn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Mc(t,nr._jsonSchema))return nr.fromBase64String(t.bytes)}}nr._jsonSchemaVersion="firestore/bytes/1.0",nr._jsonSchema={type:pn("string",nr._jsonSchemaVersion),bytes:pn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new xt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new xt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new xt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:jr._jsonSchemaVersion}}static fromJSON(t){if(Mc(t,jr._jsonSchema))return new jr(t.latitude,t.longitude)}}jr._jsonSchemaVersion="firestore/geoPoint/1.0",jr._jsonSchema={type:pn("string",jr._jsonSchemaVersion),latitude:pn("number"),longitude:pn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Mc(t,zr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new zr(t.vectorValues);throw new xt(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zr._jsonSchemaVersion="firestore/vectorValue/1.0",zr._jsonSchema={type:pn("string",zr._jsonSchemaVersion),vectorValues:pn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=/^__.*__$/;class C6{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Ia(t,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(t,this.data,n,this.fieldTransforms)}}class W_{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Ia(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function K_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:e})}}class Om{constructor(t,n,i,s,o,h){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Om({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Nf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(K_(this.Ac)&&T6.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class b6{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||cd(t)}Cc(t,n,i,s=!1){return new Om({Ac:t,methodName:n,Dc:i,path:jn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(e){const t=e._freezeSettings(),n=cd(e._databaseId);return new b6(e._databaseId,!!t.ignoreUndefinedProperties,n)}function S6(e,t,n,i,s,o={}){const h=e.Cc(o.merge||o.mergeFields?2:0,t,n,s);Bm("Data must be an object, but it was:",h,i);const m=Z_(i,h);let x,y;if(o.merge)x=new Li(h.fieldMask),y=h.fieldTransforms;else if(o.mergeFields){const w=[];for(const T of o.mergeFields){const v=Y1(t,T,n);if(!h.contains(v))throw new xt(it.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);$_(w,v)||w.push(v)}x=new Li(w),y=h.fieldTransforms.filter(T=>x.covers(T.field))}else x=null,y=h.fieldTransforms;return new C6(new di(m),x,y)}class md extends Dm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof md}}function v6(e,t,n,i){const s=e.Cc(1,t,n);Bm("Data must be an object, but it was:",s,i);const o=[],h=di.empty();va(i,(x,y)=>{const w=Pm(t,x,n);y=Hr(y);const T=s.yc(w);if(y instanceof md)o.push(w);else{const v=Pc(y,T);v!=null&&(o.push(w),h.set(w,v))}});const m=new Li(o);return new W_(h,m,s.fieldTransforms)}function I6(e,t,n,i,s,o){const h=e.Cc(1,t,n),m=[Y1(t,i,n)],x=[s];if(o.length%2!=0)throw new xt(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)m.push(Y1(t,o[v])),x.push(o[v+1]);const y=[],w=di.empty();for(let v=m.length-1;v>=0;--v)if(!$_(y,m[v])){const I=m[v];let X=x[v];X=Hr(X);const q=h.yc(I);if(X instanceof md)y.push(I);else{const J=Pc(X,q);J!=null&&(y.push(I),w.set(I,J))}}const T=new Li(y);return new W_(w,T,h.fieldTransforms)}function N6(e,t,n,i=!1){return Pc(n,e.Cc(i?4:3,t))}function Pc(e,t){if(J_(e=Hr(e)))return Bm("Unsupported field value:",t,e),Z_(e,t);if(e instanceof Dm)return function(i,s){if(!K_(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,s){const o=[];let h=0;for(const m of i){let x=Pc(m,s.wc(h));x==null&&(x={nullValue:"NULL_VALUE"}),o.push(x),h++}return{arrayValue:{values:o}}}(e,t)}return function(i,s){if((i=Hr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pv(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Ne.fromDate(i);return{timestampValue:bf(s.serializer,o)}}if(i instanceof Ne){const o=new Ne(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bf(s.serializer,o)}}if(i instanceof jr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof nr)return{bytesValue:m_(s.serializer,i._byteString)};if(i instanceof yn){const o=s.databaseId,h=i.firestore._databaseId;if(!h.isEqual(o))throw s.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ym(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof zr)return function(h,m){return{mapValue:{fields:{[Gw]:{stringValue:Yw},[wf]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return dm(m.serializer,y)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${ed(i)}`)}(e,t)}function Z_(e,t){const n={};return Vw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):va(e,(i,s)=>{const o=Pc(s,t.mc(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function J_(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ne||e instanceof jr||e instanceof nr||e instanceof yn||e instanceof Dm||e instanceof zr)}function Bm(e,t,n){if(!J_(n)||!Pw(n)){const i=ed(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function Y1(e,t,n){if((t=Hr(t))instanceof gd)return t._internalPath;if(typeof t=="string")return Pm(e,t);throw Nf("Field path arguments must be of type string or ",e,!1,void 0,n)}const R6=new RegExp("[~\\*/\\[\\]]");function Pm(e,t,n){if(t.search(R6)>=0)throw Nf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new gd(...t.split("."))._internalPath}catch{throw Nf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Nf(e,t,n,i,s){const o=i&&!i.isEmpty(),h=s!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let x="";return(o||h)&&(x+=" (found",o&&(x+=` in field ${i}`),h&&(x+=` in document ${s}`),x+=")"),new xt(it.INVALID_ARGUMENT,m+e+x)}function $_(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(t,n,i,s,o){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new M6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(km("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M6 extends t3{data(){return super.data()}}function km(e,t){return typeof t=="string"?Pm(e,t):t instanceof gd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new xt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vm{}class n3 extends Vm{}function y0(e,t,...n){let i=[];t instanceof Vm&&i.push(t),i=i.concat(n),function(o){const h=o.filter(x=>x instanceof Fm).length,m=o.filter(x=>x instanceof Um).length;if(h>1||h>0&&m>0)throw new xt(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class Um extends n3{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Um(t,n,i)}_apply(t){const n=this._parse(t);return i3(t._query,n),new Na(t.firestore,t.converter,O1(t._query,n))}_parse(t){const n=Lm(t.firestore);return function(o,h,m,x,y,w,T){let v;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new xt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Uy(T,w);const X=[];for(const q of T)X.push(Vy(x,o,q));v={arrayValue:{values:X}}}else v=Vy(x,o,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Uy(T,w),v=N6(m,h,T,w==="in"||w==="not-in");return gn.create(y,w,v)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Fm extends Vm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Fm(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,o){let h=s;const m=o.getFlattenedFilters();for(const x of m)i3(h,x),h=O1(h,x)}(t._query,n),new Na(t.firestore,t.converter,O1(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jm extends n3{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new jm(t,n)}_apply(t){const n=function(s,o,h){if(s.startAt!==null)throw new xt(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new xt(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gc(o,h)}(t._query,this._field,this._direction);return new Na(t.firestore,t.converter,function(s,o){const h=s.explicitOrderBy.concat([o]);return new Xl(s.path,s.collectionGroup,h,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function x0(e,t="asc"){const n=t,i=km("orderBy",e);return jm._create(i,n)}function Vy(e,t,n){if(typeof(n=Hr(n))=="string"){if(n==="")throw new xt(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$w(t)&&n.indexOf("/")!==-1)throw new xt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Oe.fromString(n));if(!vt.isDocumentKey(i))throw new xt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ty(e,new vt(i))}if(n instanceof yn)return ty(e,n._key);throw new xt(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ed(n)}.`)}function Uy(e,t){if(!Array.isArray(e)||e.length===0)throw new xt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function i3(e,t){const n=function(s,o){for(const h of s)for(const m of h.getFlattenedFilters())if(o.indexOf(m.op)>=0)return m.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new xt(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new xt(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class D6{convertValue(t,n="none"){switch(Aa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ea(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return va(t,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertVectorValue(t){var i,s,o;const n=(o=(s=(i=t.fields)==null?void 0:i[wf].arrayValue)==null?void 0:s.values)==null?void 0:o.map(h=>nn(h.doubleValue));return new zr(n)}convertGeoPoint(t){return new jr(nn(t.latitude),nn(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=rd(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(hc(t));default:return null}}convertTimestamp(t){const n=xa(t);return new Ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Oe.fromString(t);xe(w_(i),9688,{name:t});const s=new fc(i.get(1),i.get(3)),o=new vt(i.popFirst(5));return s.isEqual(n)||Cs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class bu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class eo extends t3{constructor(t,n,i,s,o,h){super(t,n,i,s,h),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(km("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:pn("string",eo._jsonSchemaVersion),bundleSource:pn("string","DocumentSnapshot"),bundleName:pn("string"),bundle:pn("string")};class kh extends eo{data(t={}){return super.data(t)}}class no{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new bu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new kh(this._firestore,this._userDataWriter,i.key,i,new bu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(m=>{const x=new kh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new bu(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:x,oldIndex:-1,newIndex:h++}})}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>o||m.type!==3).map(m=>{const x=new kh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new bu(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,w=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:L6(m.type),doc:x,oldIndex:y,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function L6(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:e})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:pn("string",no._jsonSchemaVersion),bundleSource:pn("string","QuerySnapshot"),bundleName:pn("string"),bundle:pn("string")};class zm extends D6{constructor(t){super(),this.firestore=t}convertBytes(t){return new nr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function B6(e){e=Vr(e,Na);const t=Vr(e.firestore,co),n=Mm(t),i=new zm(t);return e3(e._query),E6(n,e._query).then(s=>new no(t,i,e,s))}function E0(e,t,n,...i){e=Vr(e,yn);const s=Vr(e.firestore,co),o=Lm(s);let h;return h=typeof(t=Hr(t))=="string"||t instanceof gd?I6(o,"updateDoc",e._key,t,n,i):v6(o,"updateDoc",e._key,t),Hm(s,[h.toMutation(e._key,gr.exists(!0))])}function A0(e){return Hm(Vr(e.firestore,co),[new gm(e._key,gr.none())])}function P6(e,t){const n=Vr(e.firestore,co),i=Xa(e),s=O6(e.converter,t);return Hm(n,[S6(Lm(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,gr.exists(!1))]).then(()=>i)}function Fy(e,...t){var x,y,w;e=Hr(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||ky(t[i])||(n=t[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ky(t[i])){const T=t[i];t[i]=(x=T.next)==null?void 0:x.bind(T),t[i+1]=(y=T.error)==null?void 0:y.bind(T),t[i+2]=(w=T.complete)==null?void 0:w.bind(T)}let o,h,m;if(e instanceof yn)h=Vr(e.firestore,co),m=fm(e._key.path),o={next:T=>{t[i]&&t[i](k6(h,e,T))},error:t[i+1],complete:t[i+2]};else{const T=Vr(e,Na);h=Vr(T.firestore,co),m=T._query;const v=new zm(h);o={next:I=>{t[i]&&t[i](new no(h,v,T,I))},error:t[i+1],complete:t[i+2]},e3(e._query)}return function(v,I,X,q){const J=new Y_(q),V=new P_(I,J,X);return v.asyncQueue.enqueueAndForget(async()=>L_(await G1(v),V)),()=>{J.Nu(),v.asyncQueue.enqueueAndForget(async()=>B_(await G1(v),V))}}(Mm(h),m,s,o)}function Hm(e,t){return function(i,s){const o=new ha;return i.asyncQueue.enqueueAndForget(async()=>o6(await x6(i),s,o)),o.promise}(Mm(e),t)}function k6(e,t,n){const i=n.docs.get(t._key),s=new zm(e);return new eo(e,s,t._key,i,new bu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){Gl=s})(fS),xf(new lc("firestore",(i,{instanceIdentifier:s,options:o})=>{const h=i.getProvider("app").getImmediate(),m=new co(new IS(i.getProvider("auth-internal")),new MS(h,i.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new xt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(y.options.projectId,w)}(h,s),h);return o={useFetchStreams:n,...o},m._setSettings(o),m},"PUBLIC").setMultipleInstances(!0)),hl(jp,zp,t),hl(jp,zp,"esm2020")})();var kc={},V6=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},r3={},ji={};let Gm;const U6=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ji.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};ji.getSymbolTotalCodewords=function(t){return U6[t]};ji.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};ji.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Gm=t};ji.isKanjiModeEnabled=function(){return typeof Gm<"u"};ji.toSJIS=function(t){return Gm(t)};var pd={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},e.from=function(i,s){if(e.isValid(i))return i;try{return t(i)}catch{return s}}})(pd);function s3(){this.buffer=[],this.length=0}s3.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var F6=s3;function Vc(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Vc.prototype.set=function(e,t,n,i){const s=e*this.size+t;this.data[s]=n,i&&(this.reservedBit[s]=!0)};Vc.prototype.get=function(e,t){return this.data[e*this.size+t]};Vc.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Vc.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var j6=Vc,a3={};(function(e){const t=ji.getSymbolSize;e.getRowColCoords=function(i){if(i===1)return[];const s=Math.floor(i/7)+2,o=t(i),h=o===145?26:Math.ceil((o-13)/(2*s-2))*2,m=[o-7];for(let x=1;x<s-1;x++)m[x]=m[x-1]-h;return m.push(6),m.reverse()},e.getPositions=function(i){const s=[],o=e.getRowColCoords(i),h=o.length;for(let m=0;m<h;m++)for(let x=0;x<h;x++)m===0&&x===0||m===0&&x===h-1||m===h-1&&x===0||s.push([o[m],o[x]]);return s}})(a3);var o3={};const z6=ji.getSymbolSize,jy=7;o3.getPositions=function(t){const n=z6(t);return[[0,0],[n-jy,0],[0,n-jy]]};var l3={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const o=s.size;let h=0,m=0,x=0,y=null,w=null;for(let T=0;T<o;T++){m=x=0,y=w=null;for(let v=0;v<o;v++){let I=s.get(T,v);I===y?m++:(m>=5&&(h+=t.N1+(m-5)),y=I,m=1),I=s.get(v,T),I===w?x++:(x>=5&&(h+=t.N1+(x-5)),w=I,x=1)}m>=5&&(h+=t.N1+(m-5)),x>=5&&(h+=t.N1+(x-5))}return h},e.getPenaltyN2=function(s){const o=s.size;let h=0;for(let m=0;m<o-1;m++)for(let x=0;x<o-1;x++){const y=s.get(m,x)+s.get(m,x+1)+s.get(m+1,x)+s.get(m+1,x+1);(y===4||y===0)&&h++}return h*t.N2},e.getPenaltyN3=function(s){const o=s.size;let h=0,m=0,x=0;for(let y=0;y<o;y++){m=x=0;for(let w=0;w<o;w++)m=m<<1&2047|s.get(y,w),w>=10&&(m===1488||m===93)&&h++,x=x<<1&2047|s.get(w,y),w>=10&&(x===1488||x===93)&&h++}return h*t.N3},e.getPenaltyN4=function(s){let o=0;const h=s.data.length;for(let x=0;x<h;x++)o+=s.data[x];return Math.abs(Math.ceil(o*100/h/5)-10)*t.N4};function n(i,s,o){switch(i){case e.Patterns.PATTERN000:return(s+o)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return o%3===0;case e.Patterns.PATTERN011:return(s+o)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(o/3))%2===0;case e.Patterns.PATTERN101:return s*o%2+s*o%3===0;case e.Patterns.PATTERN110:return(s*o%2+s*o%3)%2===0;case e.Patterns.PATTERN111:return(s*o%3+(s+o)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}e.applyMask=function(s,o){const h=o.size;for(let m=0;m<h;m++)for(let x=0;x<h;x++)o.isReserved(x,m)||o.xor(x,m,n(s,x,m))},e.getBestMask=function(s,o){const h=Object.keys(e.Patterns).length;let m=0,x=1/0;for(let y=0;y<h;y++){o(y),e.applyMask(y,s);const w=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(y,s),w<x&&(x=w,m=y)}return m}})(l3);var yd={};const Js=pd,mh=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ph=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];yd.getBlocksCount=function(t,n){switch(n){case Js.L:return mh[(t-1)*4+0];case Js.M:return mh[(t-1)*4+1];case Js.Q:return mh[(t-1)*4+2];case Js.H:return mh[(t-1)*4+3];default:return}};yd.getTotalCodewordsCount=function(t,n){switch(n){case Js.L:return ph[(t-1)*4+0];case Js.M:return ph[(t-1)*4+1];case Js.Q:return ph[(t-1)*4+2];case Js.H:return ph[(t-1)*4+3];default:return}};var u3={},xd={};const qu=new Uint8Array(512),Rf=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)qu[n]=t,Rf[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)qu[n]=qu[n-255]})();xd.log=function(t){if(t<1)throw new Error("log("+t+")");return Rf[t]};xd.exp=function(t){return qu[t]};xd.mul=function(t,n){return t===0||n===0?0:qu[Rf[t]+Rf[n]]};(function(e){const t=xd;e.mul=function(i,s){const o=new Uint8Array(i.length+s.length-1);for(let h=0;h<i.length;h++)for(let m=0;m<s.length;m++)o[h+m]^=t.mul(i[h],s[m]);return o},e.mod=function(i,s){let o=new Uint8Array(i);for(;o.length-s.length>=0;){const h=o[0];for(let x=0;x<s.length;x++)o[x]^=t.mul(s[x],h);let m=0;for(;m<o.length&&o[m]===0;)m++;o=o.slice(m)}return o},e.generateECPolynomial=function(i){let s=new Uint8Array([1]);for(let o=0;o<i;o++)s=e.mul(s,new Uint8Array([1,t.exp(o)]));return s}})(u3);const c3=u3;function Ym(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Ym.prototype.initialize=function(t){this.degree=t,this.genPoly=c3.generateECPolynomial(this.degree)};Ym.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const i=c3.mod(n,this.genPoly),s=this.degree-i.length;if(s>0){const o=new Uint8Array(this.degree);return o.set(i,s),o}return i};var H6=Ym,h3={},Ra={},qm={};qm.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Xr={};const f3="[0-9]+",G6="[A-Z $%*+\\-./:]+";let yc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";yc=yc.replace(/u/g,"\\u");const Y6="(?:(?![A-Z0-9 $%*+\\-./:]|"+yc+`)(?:.|[\r
]))+`;Xr.KANJI=new RegExp(yc,"g");Xr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Xr.BYTE=new RegExp(Y6,"g");Xr.NUMERIC=new RegExp(f3,"g");Xr.ALPHANUMERIC=new RegExp(G6,"g");const q6=new RegExp("^"+yc+"$"),X6=new RegExp("^"+f3+"$"),Q6=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Xr.testKanji=function(t){return q6.test(t)};Xr.testNumeric=function(t){return X6.test(t)};Xr.testAlphanumeric=function(t){return Q6.test(t)};(function(e){const t=qm,n=Xr;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(o,h){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(h))throw new Error("Invalid version: "+h);return h>=1&&h<10?o.ccBits[0]:h<27?o.ccBits[1]:o.ccBits[2]},e.getBestModeForData=function(o){return n.testNumeric(o)?e.NUMERIC:n.testAlphanumeric(o)?e.ALPHANUMERIC:n.testKanji(o)?e.KANJI:e.BYTE},e.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},e.isValid=function(o){return o&&o.bit&&o.ccBits};function i(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(o,h){if(e.isValid(o))return o;try{return i(o)}catch{return h}}})(Ra);(function(e){const t=ji,n=yd,i=pd,s=Ra,o=qm,h=7973,m=t.getBCHDigit(h);function x(v,I,X){for(let q=1;q<=40;q++)if(I<=e.getCapacity(q,X,v))return q}function y(v,I){return s.getCharCountIndicator(v,I)+4}function w(v,I){let X=0;return v.forEach(function(q){const J=y(q.mode,I);X+=J+q.getBitsLength()}),X}function T(v,I){for(let X=1;X<=40;X++)if(w(v,X)<=e.getCapacity(X,I,s.MIXED))return X}e.from=function(I,X){return o.isValid(I)?parseInt(I,10):X},e.getCapacity=function(I,X,q){if(!o.isValid(I))throw new Error("Invalid QR Code version");typeof q>"u"&&(q=s.BYTE);const J=t.getSymbolTotalCodewords(I),V=n.getTotalCodewordsCount(I,X),O=(J-V)*8;if(q===s.MIXED)return O;const P=O-y(q,I);switch(q){case s.NUMERIC:return Math.floor(P/10*3);case s.ALPHANUMERIC:return Math.floor(P/11*2);case s.KANJI:return Math.floor(P/13);case s.BYTE:default:return Math.floor(P/8)}},e.getBestVersionForData=function(I,X){let q;const J=i.from(X,i.M);if(Array.isArray(I)){if(I.length>1)return T(I,J);if(I.length===0)return 1;q=I[0]}else q=I;return x(q.mode,q.getLength(),J)},e.getEncodedBits=function(I){if(!o.isValid(I)||I<7)throw new Error("Invalid QR Code version");let X=I<<12;for(;t.getBCHDigit(X)-m>=0;)X^=h<<t.getBCHDigit(X)-m;return I<<12|X}})(h3);var d3={};const q1=ji,g3=1335,W6=21522,zy=q1.getBCHDigit(g3);d3.getEncodedBits=function(t,n){const i=t.bit<<3|n;let s=i<<10;for(;q1.getBCHDigit(s)-zy>=0;)s^=g3<<q1.getBCHDigit(s)-zy;return(i<<10|s)^W6};var m3={};const K6=Ra;function Ml(e){this.mode=K6.NUMERIC,this.data=e.toString()}Ml.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Ml.prototype.getLength=function(){return this.data.length};Ml.prototype.getBitsLength=function(){return Ml.getBitsLength(this.data.length)};Ml.prototype.write=function(t){let n,i,s;for(n=0;n+3<=this.data.length;n+=3)i=this.data.substr(n,3),s=parseInt(i,10),t.put(s,10);const o=this.data.length-n;o>0&&(i=this.data.substr(n),s=parseInt(i,10),t.put(s,o*3+1))};var Z6=Ml;const J6=Ra,w0=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Dl(e){this.mode=J6.ALPHANUMERIC,this.data=e}Dl.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Dl.prototype.getLength=function(){return this.data.length};Dl.prototype.getBitsLength=function(){return Dl.getBitsLength(this.data.length)};Dl.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let i=w0.indexOf(this.data[n])*45;i+=w0.indexOf(this.data[n+1]),t.put(i,11)}this.data.length%2&&t.put(w0.indexOf(this.data[n]),6)};var $6=Dl;const t8=Ra;function Ol(e){this.mode=t8.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Ol.getBitsLength=function(t){return t*8};Ol.prototype.getLength=function(){return this.data.length};Ol.prototype.getBitsLength=function(){return Ol.getBitsLength(this.data.length)};Ol.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var e8=Ol;const n8=Ra,i8=ji;function Ll(e){this.mode=n8.KANJI,this.data=e}Ll.getBitsLength=function(t){return t*13};Ll.prototype.getLength=function(){return this.data.length};Ll.prototype.getBitsLength=function(){return Ll.getBitsLength(this.data.length)};Ll.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=i8.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var r8=Ll,p3={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,i,s){var o={},h={};h[i]=0;var m=t.PriorityQueue.make();m.push(i,0);for(var x,y,w,T,v,I,X,q,J;!m.empty();){x=m.pop(),y=x.value,T=x.cost,v=n[y]||{};for(w in v)v.hasOwnProperty(w)&&(I=v[w],X=T+I,q=h[w],J=typeof h[w]>"u",(J||q>X)&&(h[w]=X,m.push(w,X),o[w]=y))}if(typeof s<"u"&&typeof h[s]>"u"){var V=["Could not find a path from ",i," to ",s,"."].join("");throw new Error(V)}return o},extract_shortest_path_from_predecessor_list:function(n,i){for(var s=[],o=i;o;)s.push(o),n[o],o=n[o];return s.reverse(),s},find_path:function(n,i,s){var o=t.single_source_shortest_paths(n,i,s);return t.extract_shortest_path_from_predecessor_list(o,s)},PriorityQueue:{make:function(n){var i=t.PriorityQueue,s={},o;n=n||{};for(o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);return s.queue=[],s.sorter=n.sorter||i.default_sorter,s},default_sorter:function(n,i){return n.cost-i.cost},push:function(n,i){var s={value:n,cost:i};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(p3);var s8=p3.exports;(function(e){const t=Ra,n=Z6,i=$6,s=e8,o=r8,h=Xr,m=ji,x=s8;function y(V){return unescape(encodeURIComponent(V)).length}function w(V,O,P){const j=[];let st;for(;(st=V.exec(P))!==null;)j.push({data:st[0],index:st.index,mode:O,length:st[0].length});return j}function T(V){const O=w(h.NUMERIC,t.NUMERIC,V),P=w(h.ALPHANUMERIC,t.ALPHANUMERIC,V);let j,st;return m.isKanjiModeEnabled()?(j=w(h.BYTE,t.BYTE,V),st=w(h.KANJI,t.KANJI,V)):(j=w(h.BYTE_KANJI,t.BYTE,V),st=[]),O.concat(P,j,st).sort(function(M,D){return M.index-D.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function v(V,O){switch(O){case t.NUMERIC:return n.getBitsLength(V);case t.ALPHANUMERIC:return i.getBitsLength(V);case t.KANJI:return o.getBitsLength(V);case t.BYTE:return s.getBitsLength(V)}}function I(V){return V.reduce(function(O,P){const j=O.length-1>=0?O[O.length-1]:null;return j&&j.mode===P.mode?(O[O.length-1].data+=P.data,O):(O.push(P),O)},[])}function X(V){const O=[];for(let P=0;P<V.length;P++){const j=V[P];switch(j.mode){case t.NUMERIC:O.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:O.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:O.push([j,{data:j.data,mode:t.BYTE,length:y(j.data)}]);break;case t.BYTE:O.push([{data:j.data,mode:t.BYTE,length:y(j.data)}])}}return O}function q(V,O){const P={},j={start:{}};let st=["start"];for(let at=0;at<V.length;at++){const M=V[at],D=[];for(let R=0;R<M.length;R++){const z=M[R],H=""+at+R;D.push(H),P[H]={node:z,lastCount:0},j[H]={};for(let G=0;G<st.length;G++){const F=st[G];P[F]&&P[F].node.mode===z.mode?(j[F][H]=v(P[F].lastCount+z.length,z.mode)-v(P[F].lastCount,z.mode),P[F].lastCount+=z.length):(P[F]&&(P[F].lastCount=z.length),j[F][H]=v(z.length,z.mode)+4+t.getCharCountIndicator(z.mode,O))}}st=D}for(let at=0;at<st.length;at++)j[st[at]].end=0;return{map:j,table:P}}function J(V,O){let P;const j=t.getBestModeForData(V);if(P=t.from(O,j),P!==t.BYTE&&P.bit<j.bit)throw new Error('"'+V+'" cannot be encoded with mode '+t.toString(P)+`.
 Suggested mode is: `+t.toString(j));switch(P===t.KANJI&&!m.isKanjiModeEnabled()&&(P=t.BYTE),P){case t.NUMERIC:return new n(V);case t.ALPHANUMERIC:return new i(V);case t.KANJI:return new o(V);case t.BYTE:return new s(V)}}e.fromArray=function(O){return O.reduce(function(P,j){return typeof j=="string"?P.push(J(j,null)):j.data&&P.push(J(j.data,j.mode)),P},[])},e.fromString=function(O,P){const j=T(O,m.isKanjiModeEnabled()),st=X(j),at=q(st,P),M=x.find_path(at.map,"start","end"),D=[];for(let R=1;R<M.length-1;R++)D.push(at.table[M[R]].node);return e.fromArray(I(D))},e.rawSplit=function(O){return e.fromArray(T(O,m.isKanjiModeEnabled()))}})(m3);const Ed=ji,_0=pd,a8=F6,o8=j6,l8=a3,u8=o3,X1=l3,Q1=yd,c8=H6,Mf=h3,h8=d3,f8=Ra,T0=m3;function d8(e,t){const n=e.size,i=u8.getPositions(t);for(let s=0;s<i.length;s++){const o=i[s][0],h=i[s][1];for(let m=-1;m<=7;m++)if(!(o+m<=-1||n<=o+m))for(let x=-1;x<=7;x++)h+x<=-1||n<=h+x||(m>=0&&m<=6&&(x===0||x===6)||x>=0&&x<=6&&(m===0||m===6)||m>=2&&m<=4&&x>=2&&x<=4?e.set(o+m,h+x,!0,!0):e.set(o+m,h+x,!1,!0))}}function g8(e){const t=e.size;for(let n=8;n<t-8;n++){const i=n%2===0;e.set(n,6,i,!0),e.set(6,n,i,!0)}}function m8(e,t){const n=l8.getPositions(t);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let h=-2;h<=2;h++)for(let m=-2;m<=2;m++)h===-2||h===2||m===-2||m===2||h===0&&m===0?e.set(s+h,o+m,!0,!0):e.set(s+h,o+m,!1,!0)}}function p8(e,t){const n=e.size,i=Mf.getEncodedBits(t);let s,o,h;for(let m=0;m<18;m++)s=Math.floor(m/3),o=m%3+n-8-3,h=(i>>m&1)===1,e.set(s,o,h,!0),e.set(o,s,h,!0)}function C0(e,t,n){const i=e.size,s=h8.getEncodedBits(t,n);let o,h;for(o=0;o<15;o++)h=(s>>o&1)===1,o<6?e.set(o,8,h,!0):o<8?e.set(o+1,8,h,!0):e.set(i-15+o,8,h,!0),o<8?e.set(8,i-o-1,h,!0):o<9?e.set(8,15-o-1+1,h,!0):e.set(8,15-o-1,h,!0);e.set(i-8,8,1,!0)}function y8(e,t){const n=e.size;let i=-1,s=n-1,o=7,h=0;for(let m=n-1;m>0;m-=2)for(m===6&&m--;;){for(let x=0;x<2;x++)if(!e.isReserved(s,m-x)){let y=!1;h<t.length&&(y=(t[h]>>>o&1)===1),e.set(s,m-x,y),o--,o===-1&&(h++,o=7)}if(s+=i,s<0||n<=s){s-=i,i=-i;break}}}function x8(e,t,n){const i=new a8;n.forEach(function(x){i.put(x.mode.bit,4),i.put(x.getLength(),f8.getCharCountIndicator(x.mode,e)),x.write(i)});const s=Ed.getSymbolTotalCodewords(e),o=Q1.getTotalCodewordsCount(e,t),h=(s-o)*8;for(i.getLengthInBits()+4<=h&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);const m=(h-i.getLengthInBits())/8;for(let x=0;x<m;x++)i.put(x%2?17:236,8);return E8(i,e,t)}function E8(e,t,n){const i=Ed.getSymbolTotalCodewords(t),s=Q1.getTotalCodewordsCount(t,n),o=i-s,h=Q1.getBlocksCount(t,n),m=i%h,x=h-m,y=Math.floor(i/h),w=Math.floor(o/h),T=w+1,v=y-w,I=new c8(v);let X=0;const q=new Array(h),J=new Array(h);let V=0;const O=new Uint8Array(e.buffer);for(let M=0;M<h;M++){const D=M<x?w:T;q[M]=O.slice(X,X+D),J[M]=I.encode(q[M]),X+=D,V=Math.max(V,D)}const P=new Uint8Array(i);let j=0,st,at;for(st=0;st<V;st++)for(at=0;at<h;at++)st<q[at].length&&(P[j++]=q[at][st]);for(st=0;st<v;st++)for(at=0;at<h;at++)P[j++]=J[at][st];return P}function A8(e,t,n,i){let s;if(Array.isArray(e))s=T0.fromArray(e);else if(typeof e=="string"){let y=t;if(!y){const w=T0.rawSplit(e);y=Mf.getBestVersionForData(w,n)}s=T0.fromString(e,y||40)}else throw new Error("Invalid data");const o=Mf.getBestVersionForData(s,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=o;else if(t<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const h=x8(t,n,s),m=Ed.getSymbolSize(t),x=new o8(m);return d8(x,t),g8(x),m8(x,t),C0(x,n,0),t>=7&&p8(x,t),y8(x,h),isNaN(i)&&(i=X1.getBestMask(x,C0.bind(null,x,n))),X1.applyMask(i,x),C0(x,n,i),{modules:x,version:t,errorCorrectionLevel:n,maskPattern:i,segments:s}}r3.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let i=_0.M,s,o;return typeof n<"u"&&(i=_0.from(n.errorCorrectionLevel,_0.M),s=Mf.from(n.version),o=X1.from(n.maskPattern),n.toSJISFunc&&Ed.setToSJISFunction(n.toSJISFunc)),A8(t,s,i,o)};var y3={},Xm={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let i=n.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+n);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(o){return[o,o]}))),i.length===6&&i.push("F","F");const s=parseInt(i.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+i.slice(0,6).join("")}}e.getOptions=function(i){i||(i={}),i.color||(i.color={});const s=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,o=i.width&&i.width>=21?i.width:void 0,h=i.scale||4;return{width:o,scale:o?4:h,margin:s,color:{dark:t(i.color.dark||"#000000ff"),light:t(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},e.getScale=function(i,s){return s.width&&s.width>=i+s.margin*2?s.width/(i+s.margin*2):s.scale},e.getImageWidth=function(i,s){const o=e.getScale(i,s);return Math.floor((i+s.margin*2)*o)},e.qrToImageData=function(i,s,o){const h=s.modules.size,m=s.modules.data,x=e.getScale(h,o),y=Math.floor((h+o.margin*2)*x),w=o.margin*x,T=[o.color.light,o.color.dark];for(let v=0;v<y;v++)for(let I=0;I<y;I++){let X=(v*y+I)*4,q=o.color.light;if(v>=w&&I>=w&&v<y-w&&I<y-w){const J=Math.floor((v-w)/x),V=Math.floor((I-w)/x);q=T[m[J*h+V]?1:0]}i[X++]=q.r,i[X++]=q.g,i[X++]=q.b,i[X]=q.a}}})(Xm);(function(e){const t=Xm;function n(s,o,h){s.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=h,o.width=h,o.style.height=h+"px",o.style.width=h+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(o,h,m){let x=m,y=h;typeof x>"u"&&(!h||!h.getContext)&&(x=h,h=void 0),h||(y=i()),x=t.getOptions(x);const w=t.getImageWidth(o.modules.size,x),T=y.getContext("2d"),v=T.createImageData(w,w);return t.qrToImageData(v.data,o,x),n(T,y,w),T.putImageData(v,0,0),y},e.renderToDataURL=function(o,h,m){let x=m;typeof x>"u"&&(!h||!h.getContext)&&(x=h,h=void 0),x||(x={});const y=e.render(o,h,x),w=x.type||"image/png",T=x.rendererOpts||{};return y.toDataURL(w,T.quality)}})(y3);var x3={};const w8=Xm;function Hy(e,t){const n=e.a/255,i=t+'="'+e.hex+'"';return n<1?i+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function b0(e,t,n){let i=e+t;return typeof n<"u"&&(i+=" "+n),i}function _8(e,t,n){let i="",s=0,o=!1,h=0;for(let m=0;m<e.length;m++){const x=Math.floor(m%t),y=Math.floor(m/t);!x&&!o&&(o=!0),e[m]?(h++,m>0&&x>0&&e[m-1]||(i+=o?b0("M",x+n,.5+y+n):b0("m",s,0),s=0,o=!1),x+1<t&&e[m+1]||(i+=b0("h",h),h=0)):s++}return i}x3.render=function(t,n,i){const s=w8.getOptions(n),o=t.modules.size,h=t.modules.data,m=o+s.margin*2,x=s.color.light.a?"<path "+Hy(s.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",y="<path "+Hy(s.color.dark,"stroke")+' d="'+_8(h,o,s.margin)+'"/>',w='viewBox="0 0 '+m+" "+m+'"',v='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+w+' shape-rendering="crispEdges">'+x+y+`</svg>
`;return typeof i=="function"&&i(null,v),v};const T8=V6,W1=r3,E3=y3,C8=x3;function Qm(e,t,n,i,s){const o=[].slice.call(arguments,1),h=o.length,m=typeof o[h-1]=="function";if(!m&&!T8())throw new Error("Callback required as last argument");if(m){if(h<2)throw new Error("Too few arguments provided");h===2?(s=n,n=t,t=i=void 0):h===3&&(t.getContext&&typeof s>"u"?(s=i,i=void 0):(s=i,i=n,n=t,t=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(n=t,t=i=void 0):h===2&&!t.getContext&&(i=n,n=t,t=void 0),new Promise(function(x,y){try{const w=W1.create(n,i);x(e(w,t,i))}catch(w){y(w)}})}try{const x=W1.create(n,i);s(null,e(x,t,i))}catch(x){s(x)}}kc.create=W1.create;kc.toCanvas=Qm.bind(null,E3.render);kc.toDataURL=Qm.bind(null,E3.renderToDataURL);kc.toString=Qm.bind(null,function(e,t,n){return C8.render(e,n)});var wt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(wt||(wt={}));var Gy=new Map([[wt.QR_CODE,"QR_CODE"],[wt.AZTEC,"AZTEC"],[wt.CODABAR,"CODABAR"],[wt.CODE_39,"CODE_39"],[wt.CODE_93,"CODE_93"],[wt.CODE_128,"CODE_128"],[wt.DATA_MATRIX,"DATA_MATRIX"],[wt.MAXICODE,"MAXICODE"],[wt.ITF,"ITF"],[wt.EAN_13,"EAN_13"],[wt.EAN_8,"EAN_8"],[wt.PDF_417,"PDF_417"],[wt.RSS_14,"RSS_14"],[wt.RSS_EXPANDED,"RSS_EXPANDED"],[wt.UPC_A,"UPC_A"],[wt.UPC_E,"UPC_E"],[wt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Yy;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Yy||(Yy={}));function b8(e){return Object.values(wt).includes(e)}var Ta;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ta||(Ta={}));var dr=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ta.SCAN_TYPE_CAMERA,Ta.SCAN_TYPE_FILE],e}(),A3=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Gy.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Gy.get(t))},e}(),qy=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),K1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(K1||(K1={}));var w3=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:K1.UNKWOWN_ERROR}},e}(),_3=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Rr(e){return typeof e>"u"||e===null}function S8(e,t,n){return e>n?n:e<t?t:e}var il=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),_e=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Xy=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),T3=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(s),h=Object.keys(t),m=0,x=h;m<x.length;m++){var y=x[m];if(o.has(y))return n.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},e}(),Z1={exports:{}};(function(e,t){(function(n,i){i(t)})(uu,function(n){function i(b){return b==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,r){b.__proto__=r}||function(b,r){for(var a in r)r.hasOwnProperty(a)&&(b[a]=r[a])};function o(b,r){s(b,r);function a(){this.constructor=b}b.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}function h(b,r){var a=Object.setPrototypeOf;a?a(b,r):b.__proto__=r}function m(b,r){r===void 0&&(r=b.constructor);var a=Error.captureStackTrace;a&&a(b,r)}var x=function(b){o(r,b);function r(a){var l=this.constructor,u=b.call(this,a)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),h(u,l.prototype),m(u),u}return r}(Error);class y extends x{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}y.kind="Exception";class w extends y{}w.kind="ArgumentException";class T extends y{}T.kind="IllegalArgumentException";class v{constructor(r){if(this.binarizer=r,r===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,a){return this.binarizer.getBlackRow(r,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,a,l,u){const c=this.binarizer.getLuminanceSource().crop(r,a,l,u);return new v(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class I extends y{static getChecksumInstance(){return new I}}I.kind="ChecksumException";class X{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class q{static arraycopy(r,a,l,u,c){for(;c--;)l[u++]=r[a++]}static currentTimeMillis(){return Date.now()}}class J extends y{}J.kind="IndexOutOfBoundsException";class V extends J{constructor(r=void 0,a=void 0){super(a),this.index=r,this.message=a}}V.kind="ArrayIndexOutOfBoundsException";class O{static fill(r,a){for(let l=0,u=r.length;l<u;l++)r[l]=a}static fillWithin(r,a,l,u){O.rangeCheck(r.length,a,l);for(let c=a;c<l;c++)r[c]=u}static rangeCheck(r,a,l){if(a>l)throw new T("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new V(a);if(l>r)throw new V(l)}static asList(...r){return r}static create(r,a,l){return Array.from({length:r}).map(c=>Array.from({length:a}).fill(l))}static createInt32Array(r,a,l){return Array.from({length:r}).map(c=>Int32Array.from({length:a}).fill(l))}static equals(r,a){if(!r||!a||!r.length||!a.length||r.length!==a.length)return!1;for(let l=0,u=r.length;l<u;l++)if(r[l]!==a[l])return!1;return!0}static hashCode(r){if(r===null)return 0;let a=1;for(const l of r)a=31*a+l;return a}static fillUint8Array(r,a){for(let l=0;l!==r.length;l++)r[l]=a}static copyOf(r,a){return r.slice(0,a)}static copyOfUint8Array(r,a){if(r.length<=a){const l=new Uint8Array(a);return l.set(r),l}return r.slice(0,a)}static copyOfRange(r,a,l){const u=l-a,c=new Int32Array(u);return q.arraycopy(r,a,c,0,u),c}static binarySearch(r,a,l){l===void 0&&(l=O.numberComparator);let u=0,c=r.length-1;for(;u<=c;){const f=c+u>>1,g=l(a,r[f]);if(g>0)u=f+1;else if(g<0)c=f-1;else return f}return-u-1}static numberComparator(r,a){return r-a}}class P{static numberOfTrailingZeros(r){let a;if(r===0)return 32;let l=31;return a=r<<16,a!==0&&(l-=16,r=a),a=r<<8,a!==0&&(l-=8,r=a),a=r<<4,a!==0&&(l-=4,r=a),a=r<<2,a!==0&&(l-=2,r=a),l-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let a=1;return r>>>16||(a+=16,r<<=16),r>>>24||(a+=8,r<<=8),r>>>28||(a+=4,r<<=4),r>>>30||(a+=2,r<<=2),a-=r>>>31,a}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,a){return Math.trunc(r/a)}static parseInt(r,a=void 0){return parseInt(r,a)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(r,a){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,a==null?this.bits=j.makeArray(r):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const a=j.makeArray(r);q.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const a=this.size;if(r>=a)return a;const l=this.bits;let u=Math.floor(r/32),c=l[u];c&=~((1<<(r&31))-1);const f=l.length;for(;c===0;){if(++u===f)return a;c=l[u]}const g=u*32+P.numberOfTrailingZeros(c);return g>a?a:g}getNextUnset(r){const a=this.size;if(r>=a)return a;const l=this.bits;let u=Math.floor(r/32),c=~l[u];c&=~((1<<(r&31))-1);const f=l.length;for(;c===0;){if(++u===f)return a;c=~l[u]}const g=u*32+P.numberOfTrailingZeros(c);return g>a?a:g}setBulk(r,a){this.bits[Math.floor(r/32)]=a}setRange(r,a){if(a<r||r<0||a>this.size)throw new T;if(a===r)return;a--;const l=Math.floor(r/32),u=Math.floor(a/32),c=this.bits;for(let f=l;f<=u;f++){const g=f>l?0:r&31,E=(2<<(f<u?31:a&31))-(1<<g);c[f]|=E}}clear(){const r=this.bits.length,a=this.bits;for(let l=0;l<r;l++)a[l]=0}isRange(r,a,l){if(a<r||r<0||a>this.size)throw new T;if(a===r)return!0;a--;const u=Math.floor(r/32),c=Math.floor(a/32),f=this.bits;for(let g=u;g<=c;g++){const p=g>u?0:r&31,_=(2<<(g<c?31:a&31))-(1<<p)&4294967295;if((f[g]&_)!==(l?_:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,a){if(a<0||a>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((r>>l-1&1)===1)}appendBitArray(r){const a=r.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(r.get(l))}xor(r){if(this.size!==r.size)throw new T("Sizes don't match");const a=this.bits;for(let l=0,u=a.length;l<u;l++)a[l]^=r.bits[l]}toBytes(r,a,l,u){for(let c=0;c<u;c++){let f=0;for(let g=0;g<8;g++)this.get(r)&&(f|=1<<7-g),r++;a[l+c]=f}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,u=this.bits;for(let c=0;c<l;c++){let f=u[c];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,r[a-c]=f}if(this.size!==l*32){const c=l*32-this.size;let f=r[0]>>>c;for(let g=1;g<l;g++){const p=r[g];f|=p<<32-c,r[g-1]=f,f=p>>>c}r[l-1]=f}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof j))return!1;const a=r;return this.size===a.size&&O.equals(this.bits,a.bits)}hashCode(){return 31*this.size+O.hashCode(this.bits)}toString(){let r="";for(let a=0,l=this.size;a<l;a++)a&7||(r+=" "),r+=this.get(a)?"X":".";return r}clone(){return new j(this.size,this.bits.slice())}}var st;(function(b){b[b.OTHER=0]="OTHER",b[b.PURE_BARCODE=1]="PURE_BARCODE",b[b.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",b[b.TRY_HARDER=3]="TRY_HARDER",b[b.CHARACTER_SET=4]="CHARACTER_SET",b[b.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",b[b.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",b[b.ASSUME_GS1=7]="ASSUME_GS1",b[b.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",b[b.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",b[b.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(st||(st={}));var at=st;class M extends y{static getFormatInstance(){return new M}}M.kind="FormatException";var D;(function(b){b[b.Cp437=0]="Cp437",b[b.ISO8859_1=1]="ISO8859_1",b[b.ISO8859_2=2]="ISO8859_2",b[b.ISO8859_3=3]="ISO8859_3",b[b.ISO8859_4=4]="ISO8859_4",b[b.ISO8859_5=5]="ISO8859_5",b[b.ISO8859_6=6]="ISO8859_6",b[b.ISO8859_7=7]="ISO8859_7",b[b.ISO8859_8=8]="ISO8859_8",b[b.ISO8859_9=9]="ISO8859_9",b[b.ISO8859_10=10]="ISO8859_10",b[b.ISO8859_11=11]="ISO8859_11",b[b.ISO8859_13=12]="ISO8859_13",b[b.ISO8859_14=13]="ISO8859_14",b[b.ISO8859_15=14]="ISO8859_15",b[b.ISO8859_16=15]="ISO8859_16",b[b.SJIS=16]="SJIS",b[b.Cp1250=17]="Cp1250",b[b.Cp1251=18]="Cp1251",b[b.Cp1252=19]="Cp1252",b[b.Cp1256=20]="Cp1256",b[b.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",b[b.UTF8=22]="UTF8",b[b.ASCII=23]="ASCII",b[b.Big5=24]="Big5",b[b.GB18030=25]="GB18030",b[b.EUC_KR=26]="EUC_KR"})(D||(D={}));class R{constructor(r,a,l,...u){this.valueIdentifier=r,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=u,R.VALUE_IDENTIFIER_TO_ECI.set(r,this),R.NAME_TO_ECI.set(l,this);const c=this.values;for(let f=0,g=c.length;f!==g;f++){const p=c[f];R.VALUES_TO_ECI.set(p,this)}for(const f of u)R.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new M("incorect value");const a=R.VALUES_TO_ECI.get(r);if(a===void 0)throw new M("incorect value");return a}static getCharacterSetECIByName(r){const a=R.NAME_TO_ECI.get(r);if(a===void 0)throw new M("incorect value");return a}equals(r){if(!(r instanceof R))return!1;const a=r;return this.getName()===a.getName()}}R.VALUE_IDENTIFIER_TO_ECI=new Map,R.VALUES_TO_ECI=new Map,R.NAME_TO_ECI=new Map,R.Cp437=new R(D.Cp437,Int32Array.from([0,2]),"Cp437"),R.ISO8859_1=new R(D.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),R.ISO8859_2=new R(D.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),R.ISO8859_3=new R(D.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),R.ISO8859_4=new R(D.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),R.ISO8859_5=new R(D.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),R.ISO8859_6=new R(D.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),R.ISO8859_7=new R(D.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),R.ISO8859_8=new R(D.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),R.ISO8859_9=new R(D.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),R.ISO8859_10=new R(D.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),R.ISO8859_11=new R(D.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),R.ISO8859_13=new R(D.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),R.ISO8859_14=new R(D.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),R.ISO8859_15=new R(D.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),R.ISO8859_16=new R(D.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),R.SJIS=new R(D.SJIS,20,"SJIS","Shift_JIS"),R.Cp1250=new R(D.Cp1250,21,"Cp1250","windows-1250"),R.Cp1251=new R(D.Cp1251,22,"Cp1251","windows-1251"),R.Cp1252=new R(D.Cp1252,23,"Cp1252","windows-1252"),R.Cp1256=new R(D.Cp1256,24,"Cp1256","windows-1256"),R.UnicodeBigUnmarked=new R(D.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),R.UTF8=new R(D.UTF8,26,"UTF8","UTF-8"),R.ASCII=new R(D.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),R.Big5=new R(D.Big5,28,"Big5"),R.GB18030=new R(D.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),R.EUC_KR=new R(D.EUC_KR,30,"EUC_KR","EUC-KR");class z extends y{}z.kind="UnsupportedOperationException";class H{static decode(r,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(r,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(r,l):new TextDecoder(l).decode(r)}static shouldDecodeOnFallback(r){return!H.isBrowser()&&r==="ISO-8859-1"}static encode(r,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(r,l):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof R?r:R.getCharacterSetECIByName(r)}static decodeFallback(r,a){const l=this.encodingCharacterSet(a);if(H.isDecodeFallbackSupported(l)){let u="";for(let c=0,f=r.length;c<f;c++){let g=r[c].toString(16);g.length<2&&(g="0"+g),u+="%"+g}return decodeURIComponent(u)}if(l.equals(R.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new z(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(R.UTF8)||r.equals(R.ISO8859_1)||r.equals(R.ASCII)}static encodeFallback(r){const l=btoa(unescape(encodeURIComponent(r))).split(""),u=[];for(let c=0;c<l.length;c++)u.push(l[c].charCodeAt(0));return new Uint8Array(u)}}class G{static castAsNonUtf8Char(r,a=null){const l=a?a.getName():this.ISO88591;return H.decode(new Uint8Array([r]),l)}static guessEncoding(r,a){if(a!=null&&a.get(at.CHARACTER_SET)!==void 0)return a.get(at.CHARACTER_SET).toString();const l=r.length;let u=!0,c=!0,f=!0,g=0,p=0,E=0,_=0,S=0,N=0,U=0,Y=0,Q=0,K=0,et=0;const gt=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let mt=0;mt<l&&(u||c||f);mt++){const ht=r[mt]&255;f&&(g>0?ht&128?g--:f=!1:ht&128&&(ht&64?(g++,ht&32?(g++,ht&16?(g++,ht&8?f=!1:_++):E++):p++):f=!1)),u&&(ht>127&&ht<160?u=!1:ht>159&&(ht<192||ht===215||ht===247)&&et++),c&&(S>0?ht<64||ht===127||ht>252?c=!1:S--:ht===128||ht===160||ht>239?c=!1:ht>160&&ht<224?(N++,Y=0,U++,U>Q&&(Q=U)):ht>127?(S++,U=0,Y++,Y>K&&(K=Y)):(U=0,Y=0))}return f&&g>0&&(f=!1),c&&S>0&&(c=!1),f&&(gt||p+E+_>0)?G.UTF8:c&&(G.ASSUME_SHIFT_JIS||Q>=3||K>=3)?G.SHIFT_JIS:u&&c?Q===2&&N===2||et*10>=l?G.SHIFT_JIS:G.ISO88591:u?G.ISO88591:c?G.SHIFT_JIS:f?G.UTF8:G.PLATFORM_DEFAULT_ENCODING}static format(r,...a){let l=-1;function u(f,g,p,E,_,S){if(f==="%%")return"%";if(a[++l]===void 0)return;f=E?parseInt(E.substr(1)):void 0;let N=_?parseInt(_.substr(1)):void 0,U;switch(S){case"s":U=a[l];break;case"c":U=a[l][0];break;case"f":U=parseFloat(a[l]).toFixed(f);break;case"p":U=parseFloat(a[l]).toPrecision(f);break;case"e":U=parseFloat(a[l]).toExponential(f);break;case"x":U=parseInt(a[l]).toString(N||16);break;case"d":U=parseFloat(parseInt(a[l],N||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(N);let Y=parseInt(p),Q=p&&p[0]+""=="0"?"0":" ";for(;U.length<Y;)U=g!==void 0?U+Q:Q+U;return U}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,u)}static getBytes(r,a){return H.encode(r,a)}static getCharCode(r,a=0){return r.charCodeAt(a)}static getCharAt(r){return String.fromCharCode(r)}}G.SHIFT_JIS=R.SJIS.getName(),G.GB2312="GB2312",G.ISO88591=R.ISO8859_1.getName(),G.EUC_JP="EUC_JP",G.UTF8=R.UTF8.getName(),G.PLATFORM_DEFAULT_ENCODING=G.UTF8,G.ASSUME_SHIFT_JIS=!1;class F{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=G.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,a,l){for(let u=a;a<a+l;u++)this.append(r[u]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,a){this.value=this.value.substr(0,r)+a+this.value.substr(r+1)}substring(r,a){return this.value.substring(r,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,a){this.value=this.value.substr(0,r)+a+this.value.substr(r+a.length)}}class Gt{constructor(r,a,l,u){if(this.width=r,this.height=a,this.rowSize=l,this.bits=u,a==null&&(a=r),this.height=a,r<1||a<1)throw new T("Both dimensions must be greater than 0");l==null&&(l=Math.floor((r+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const a=r.length,l=r[0].length,u=new Gt(l,a);for(let c=0;c<a;c++){const f=r[c];for(let g=0;g<l;g++)f[g]&&u.set(g,c)}return u}static parseFromString(r,a,l){if(r===null)throw new T("stringRepresentation cannot be null");const u=new Array(r.length);let c=0,f=0,g=-1,p=0,E=0;for(;E<r.length;)if(r.charAt(E)===`
`||r.charAt(E)==="\r"){if(c>f){if(g===-1)g=c-f;else if(c-f!==g)throw new T("row lengths do not match");f=c,p++}E++}else if(r.substring(E,E+a.length)===a)E+=a.length,u[c]=!0,c++;else if(r.substring(E,E+l.length)===l)E+=l.length,u[c]=!1,c++;else throw new T("illegal character encountered: "+r.substring(E));if(c>f){if(g===-1)g=c-f;else if(c-f!==g)throw new T("row lengths do not match");p++}const _=new Gt(g,p);for(let S=0;S<c;S++)u[S]&&_.set(Math.floor(S%g),Math.floor(S/g));return _}get(r,a){const l=a*this.rowSize+Math.floor(r/32);return(this.bits[l]>>>(r&31)&1)!==0}set(r,a){const l=a*this.rowSize+Math.floor(r/32);this.bits[l]|=1<<(r&31)&4294967295}unset(r,a){const l=a*this.rowSize+Math.floor(r/32);this.bits[l]&=~(1<<(r&31)&4294967295)}flip(r,a){const l=a*this.rowSize+Math.floor(r/32);this.bits[l]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new T("input matrix dimensions do not match");const a=new j(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let c=0,f=this.height;c<f;c++){const g=c*l,p=r.getRow(c,a).getBitArray();for(let E=0;E<l;E++)u[g+E]^=p[E]}}clear(){const r=this.bits,a=r.length;for(let l=0;l<a;l++)r[l]=0}setRegion(r,a,l,u){if(a<0||r<0)throw new T("Left and top must be nonnegative");if(u<1||l<1)throw new T("Height and width must be at least 1");const c=r+l,f=a+u;if(f>this.height||c>this.width)throw new T("The region must fit inside the matrix");const g=this.rowSize,p=this.bits;for(let E=a;E<f;E++){const _=E*g;for(let S=r;S<c;S++)p[_+Math.floor(S/32)]|=1<<(S&31)&4294967295}}getRow(r,a){a==null||a.getSize()<this.width?a=new j(this.width):a.clear();const l=this.rowSize,u=this.bits,c=r*l;for(let f=0;f<l;f++)a.setBulk(f*32,u[c+f]);return a}setRow(r,a){q.arraycopy(a.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),a=this.getHeight();let l=new j(r),u=new j(r);for(let c=0,f=Math.floor((a+1)/2);c<f;c++)l=this.getRow(c,l),u=this.getRow(a-1-c,u),l.reverse(),u.reverse(),this.setRow(c,u),this.setRow(a-1-c,l)}getEnclosingRectangle(){const r=this.width,a=this.height,l=this.rowSize,u=this.bits;let c=r,f=a,g=-1,p=-1;for(let E=0;E<a;E++)for(let _=0;_<l;_++){const S=u[E*l+_];if(S!==0){if(E<f&&(f=E),E>p&&(p=E),_*32<c){let N=0;for(;!(S<<31-N&4294967295);)N++;_*32+N<c&&(c=_*32+N)}if(_*32+31>g){let N=31;for(;!(S>>>N);)N--;_*32+N>g&&(g=_*32+N)}}}return g<c||p<f?null:Int32Array.from([c,f,g-c+1,p-f+1])}getTopLeftOnBit(){const r=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const u=l/r;let c=l%r*32;const f=a[l];let g=0;for(;!(f<<31-g&4294967295);)g++;return c+=g,Int32Array.from([c,u])}getBottomRightOnBit(){const r=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/r);let c=Math.floor(l%r)*32;const f=a[l];let g=31;for(;!(f>>>g);)g--;return c+=g,Int32Array.from([c,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof Gt))return!1;const a=r;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&O.equals(this.bits,a.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+O.hashCode(this.bits),r}toString(r="X ",a="  ",l=`
`){return this.buildToString(r,a,l)}buildToString(r,a,l){let u=new F;for(let c=0,f=this.height;c<f;c++){for(let g=0,p=this.width;g<p;g++)u.append(this.get(g,c)?r:a);u.append(l)}return u.toString()}clone(){return new Gt(this.width,this.height,this.rowSize,this.bits.slice())}}class nt extends y{static getNotFoundInstance(){return new nt}}nt.kind="NotFoundException";class ft extends X{constructor(r){super(r),this.luminances=ft.EMPTY,this.buckets=new Int32Array(ft.LUMINANCE_BUCKETS)}getBlackRow(r,a){const l=this.getLuminanceSource(),u=l.getWidth();a==null||a.getSize()<u?a=new j(u):a.clear(),this.initArrays(u);const c=l.getRow(r,this.luminances),f=this.buckets;for(let p=0;p<u;p++)f[(c[p]&255)>>ft.LUMINANCE_SHIFT]++;const g=ft.estimateBlackPoint(f);if(u<3)for(let p=0;p<u;p++)(c[p]&255)<g&&a.set(p);else{let p=c[0]&255,E=c[1]&255;for(let _=1;_<u-1;_++){const S=c[_+1]&255;(E*4-p-S)/2<g&&a.set(_),p=E,E=S}}return a}getBlackMatrix(){const r=this.getLuminanceSource(),a=r.getWidth(),l=r.getHeight(),u=new Gt(a,l);this.initArrays(a);const c=this.buckets;for(let p=1;p<5;p++){const E=Math.floor(l*p/5),_=r.getRow(E,this.luminances),S=Math.floor(a*4/5);for(let N=Math.floor(a/5);N<S;N++){const U=_[N]&255;c[U>>ft.LUMINANCE_SHIFT]++}}const f=ft.estimateBlackPoint(c),g=r.getMatrix();for(let p=0;p<l;p++){const E=p*a;for(let _=0;_<a;_++)(g[E+_]&255)<f&&u.set(_,p)}return u}createBinarizer(r){return new ft(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const a=this.buckets;for(let l=0;l<ft.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(r){const a=r.length;let l=0,u=0,c=0;for(let _=0;_<a;_++)r[_]>c&&(u=_,c=r[_]),r[_]>l&&(l=r[_]);let f=0,g=0;for(let _=0;_<a;_++){const S=_-u,N=r[_]*S*S;N>g&&(f=_,g=N)}if(u>f){const _=u;u=f,f=_}if(f-u<=a/16)throw new nt;let p=f-1,E=-1;for(let _=f-1;_>u;_--){const S=_-u,N=S*S*(f-_)*(l-r[_]);N>E&&(p=_,E=N)}return p<<ft.LUMINANCE_SHIFT}}ft.LUMINANCE_BITS=5,ft.LUMINANCE_SHIFT=8-ft.LUMINANCE_BITS,ft.LUMINANCE_BUCKETS=1<<ft.LUMINANCE_BITS,ft.EMPTY=Uint8ClampedArray.from([0]);class pt extends ft{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),a=r.getWidth(),l=r.getHeight();if(a>=pt.MINIMUM_DIMENSION&&l>=pt.MINIMUM_DIMENSION){const u=r.getMatrix();let c=a>>pt.BLOCK_SIZE_POWER;a&pt.BLOCK_SIZE_MASK&&c++;let f=l>>pt.BLOCK_SIZE_POWER;l&pt.BLOCK_SIZE_MASK&&f++;const g=pt.calculateBlackPoints(u,c,f,a,l),p=new Gt(a,l);pt.calculateThresholdForBlock(u,c,f,a,l,g,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new pt(r)}static calculateThresholdForBlock(r,a,l,u,c,f,g){const p=c-pt.BLOCK_SIZE,E=u-pt.BLOCK_SIZE;for(let _=0;_<l;_++){let S=_<<pt.BLOCK_SIZE_POWER;S>p&&(S=p);const N=pt.cap(_,2,l-3);for(let U=0;U<a;U++){let Y=U<<pt.BLOCK_SIZE_POWER;Y>E&&(Y=E);const Q=pt.cap(U,2,a-3);let K=0;for(let gt=-2;gt<=2;gt++){const mt=f[N+gt];K+=mt[Q-2]+mt[Q-1]+mt[Q]+mt[Q+1]+mt[Q+2]}const et=K/25;pt.thresholdBlock(r,Y,S,et,u,g)}}}static cap(r,a,l){return r<a?a:r>l?l:r}static thresholdBlock(r,a,l,u,c,f){for(let g=0,p=l*c+a;g<pt.BLOCK_SIZE;g++,p+=c)for(let E=0;E<pt.BLOCK_SIZE;E++)(r[p+E]&255)<=u&&f.set(a+E,l+g)}static calculateBlackPoints(r,a,l,u,c){const f=c-pt.BLOCK_SIZE,g=u-pt.BLOCK_SIZE,p=new Array(l);for(let E=0;E<l;E++){p[E]=new Int32Array(a);let _=E<<pt.BLOCK_SIZE_POWER;_>f&&(_=f);for(let S=0;S<a;S++){let N=S<<pt.BLOCK_SIZE_POWER;N>g&&(N=g);let U=0,Y=255,Q=0;for(let et=0,gt=_*u+N;et<pt.BLOCK_SIZE;et++,gt+=u){for(let mt=0;mt<pt.BLOCK_SIZE;mt++){const ht=r[gt+mt]&255;U+=ht,ht<Y&&(Y=ht),ht>Q&&(Q=ht)}if(Q-Y>pt.MIN_DYNAMIC_RANGE)for(et++,gt+=u;et<pt.BLOCK_SIZE;et++,gt+=u)for(let mt=0;mt<pt.BLOCK_SIZE;mt++)U+=r[gt+mt]&255}let K=U>>pt.BLOCK_SIZE_POWER*2;if(Q-Y<=pt.MIN_DYNAMIC_RANGE&&(K=Y/2,E>0&&S>0)){const et=(p[E-1][S]+2*p[E][S-1]+p[E-1][S-1])/4;Y<et&&(K=et)}p[E][S]=K}}return p}}pt.BLOCK_SIZE_POWER=3,pt.BLOCK_SIZE=1<<pt.BLOCK_SIZE_POWER,pt.BLOCK_SIZE_MASK=pt.BLOCK_SIZE-1,pt.MINIMUM_DIMENSION=pt.BLOCK_SIZE*5,pt.MIN_DYNAMIC_RANGE=24;class St{constructor(r,a){this.width=r,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,a,l,u){throw new z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new z("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let a=new F;for(let l=0;l<this.height;l++){const u=this.getRow(l,r);for(let c=0;c<this.width;c++){const f=u[c]&255;let g;f<64?g="#":f<128?g="+":f<192?g=".":g=" ",a.append(g)}a.append(`
`)}return a.toString()}}class Yt extends St{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,a){const l=this.delegate.getRow(r,a),u=this.getWidth();for(let c=0;c<u;c++)l[c]=255-(l[c]&255);return l}getMatrix(){const r=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let u=0;u<a;u++)l[u]=255-(r[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(r,a,l,u){return new Yt(this.delegate.crop(r,a,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Yt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Yt(this.delegate.rotateCounterClockwise45())}}class ie extends St{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=ie.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const a=r.getContext("2d").getImageData(0,0,r.width,r.height);return ie.toGrayscaleBuffer(a.data,r.width,r.height)}static toGrayscaleBuffer(r,a,l){const u=new Uint8ClampedArray(a*l);for(let c=0,f=0,g=r.length;c<g;c+=4,f++){let p;if(r[c+3]===0)p=255;else{const _=r[c],S=r[c+1],N=r[c+2];p=306*_+601*S+117*N+512>>10}u[f]=p}return u}getRow(r,a){if(r<0||r>=this.getHeight())throw new T("Requested row is outside the image: "+r);const l=this.getWidth(),u=r*l;return a===null?a=this.buffer.slice(u,u+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(u,u+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,a,l,u){return super.crop(r,a,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const a=this.getTempCanvasElement(),l=a.getContext("2d"),u=r*ie.DEGREE_TO_RADIANS,c=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(u))*c+Math.abs(Math.sin(u))*f),p=Math.ceil(Math.abs(Math.sin(u))*c+Math.abs(Math.cos(u))*f);return a.width=g,a.height=p,l.translate(g/2,p/2),l.rotate(u),l.drawImage(this.canvas,c/-2,f/-2),this.buffer=ie.makeBufferFromCanvasImageData(a),this}invert(){return new Yt(this)}}ie.DEGREE_TO_RADIANS=Math.PI/180;class zi{constructor(r,a,l){this.deviceId=r,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Be=(globalThis||uu||self||window||void 0)&&(globalThis||uu||self||window||void 0).__awaiter||function(b,r,a,l){function u(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function g(_){try{E(l.next(_))}catch(S){f(S)}}function p(_){try{E(l.throw(_))}catch(S){f(S)}}function E(_){_.done?c(_.value):u(_.value).then(g,p)}E((l=l.apply(b,r||[])).next())})};class On{constructor(r,a=500,l){this.reader=r,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return Be(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of r){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const c=l.deviceId||l.id,f=l.label||`Video device ${a.length+1}`,g=l.groupId,p={deviceId:c,label:f,kind:u,groupId:g};a.push(p)}return a})}getVideoInputDevices(){return Be(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new zi(a.deviceId,a.label))})}findDeviceById(r){return Be(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===r):null})}decodeFromInputVideoDevice(r,a){return Be(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,a)})}decodeOnceFromVideoDevice(r,a){return Be(this,void 0,void 0,function*(){this.reset();let l;r?l={deviceId:{exact:r}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,a)})}decodeOnceFromConstraints(r,a){return Be(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(r,a){return Be(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(r,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(r,a,l){return Be(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,a,l)})}decodeFromVideoDevice(r,a,l){return Be(this,void 0,void 0,function*(){let u;r?u={deviceId:{exact:r}}:u={facingMode:"environment"};const c={video:u};return yield this.decodeFromConstraints(c,a,l)})}decodeFromConstraints(r,a,l){return Be(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(u,a,l)})}decodeFromStream(r,a,l){return Be(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(r,a);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,a){return Be(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,r),this.videoElement=l,this.stream=r,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(r){return new Promise((a,l)=>this.playVideoOnLoad(r,()=>a()))}playVideoOnLoad(r,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",a),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return Be(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,a){const l=document.getElementById(r);if(!l)throw new w(`element with id '${r}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new w(`element with id '${r}' must be an ${a} element`);return l}decodeFromImage(r,a){if(!r&&!a)throw new w("either imageElement with a src set or an url must be provided");return a&&!r?this.decodeFromImageUrl(a):this.decodeFromImageElement(r)}decodeFromVideo(r,a){if(!r&&!a)throw new w("Either an element with a src set or an URL must be provided");return a&&!r?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,a,l){if(r===void 0&&a===void 0)throw new w("Either an element with a src set or an URL must be provided");return a&&!r?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(r,l)}decodeFromImageElement(r){if(!r)throw new w("An image element must be provided.");this.reset();const a=this.prepareImageElement(r);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(r){const a=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(r,a){const l=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(r){if(!r)throw new w("A video element must be provided.");this.reset();const a=this.prepareVideoElement(r);return this.videoElement=a,a}decodeFromImageUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=r,l}decodeFromVideoUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=r,l}decodeFromVideoUrlContinuously(r,a){if(!r)throw new w("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,a);return l.src=r,u}_decodeOnLoadImage(r){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(a,l),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return Be(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,a){return Be(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,a)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let a;return typeof r>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof r=="string"&&(a=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(a=r),a}prepareVideoElement(r){let a;return!r&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof r=="string"&&(a=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(a=r),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(r,a=!0,l=!0){this._stopAsyncDecode=!1;const u=(c,f)=>{if(this._stopAsyncDecode){f(new nt("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(r);c(g)}catch(g){const p=a&&g instanceof nt,_=(g instanceof I||g instanceof M)&&l;if(p||_)return setTimeout(u,this._timeBetweenDecodingAttempts,c,f);f(g)}};return new Promise((c,f)=>u(c,f))}decodeContinuously(r,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(r);a(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){a(null,u);const c=u instanceof I||u instanceof M,f=u instanceof nt;(c||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(r){const a=this.createBinaryBitmap(r);return this.decodeBitmap(a)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,a,l){a||(a={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(r,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(r,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(r,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const a=this.getCaptureCanvas(r),l=new ie(a),u=new pt(l);return new v(u)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const a=this.createCaptureCanvas(r);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,u;return typeof r<"u"&&(r instanceof HTMLVideoElement?(l=r.videoWidth,u=r.videoHeight):r instanceof HTMLImageElement&&(l=r.naturalWidth||r.width,u=r.naturalHeight||r.height)),a.style.width=l+"px",a.style.height=u+"px",a.width=l,a.height=u,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,a){try{r.srcObject=a}catch{r.src=URL.createObjectURL(a)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class pe{constructor(r,a,l=a==null?0:8*a.length,u,c,f=q.currentTimeMillis()){this.text=r,this.rawBytes=a,this.numBits=l,this.resultPoints=u,this.format=c,this.timestamp=f,this.text=r,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=u,this.format=c,this.resultMetadata=null,f==null?this.timestamp=q.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,a)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const a=this.resultPoints;if(a===null)this.resultPoints=r;else if(r!==null&&r.length>0){const l=new Array(a.length+r.length);q.arraycopy(a,0,l,0,a.length),q.arraycopy(r,0,l,a.length,r.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Yn;(function(b){b[b.AZTEC=0]="AZTEC",b[b.CODABAR=1]="CODABAR",b[b.CODE_39=2]="CODE_39",b[b.CODE_93=3]="CODE_93",b[b.CODE_128=4]="CODE_128",b[b.DATA_MATRIX=5]="DATA_MATRIX",b[b.EAN_8=6]="EAN_8",b[b.EAN_13=7]="EAN_13",b[b.ITF=8]="ITF",b[b.MAXICODE=9]="MAXICODE",b[b.PDF_417=10]="PDF_417",b[b.QR_CODE=11]="QR_CODE",b[b.RSS_14=12]="RSS_14",b[b.RSS_EXPANDED=13]="RSS_EXPANDED",b[b.UPC_A=14]="UPC_A",b[b.UPC_E=15]="UPC_E",b[b.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Yn||(Yn={}));var _t=Yn,Qr;(function(b){b[b.OTHER=0]="OTHER",b[b.ORIENTATION=1]="ORIENTATION",b[b.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",b[b.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",b[b.ISSUE_NUMBER=4]="ISSUE_NUMBER",b[b.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",b[b.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",b[b.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",b[b.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",b[b.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",b[b.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Qr||(Qr={}));var Ce=Qr;class xr{constructor(r,a,l,u,c=-1,f=-1){this.rawBytes=r,this.text=a,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=f,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Wr{exp(r){return this.expTable[r]}log(r){if(r===0)throw new T;return this.logTable[r]}static addOrSubtract(r,a){return r^a}}class Cn{constructor(r,a){if(a.length===0)throw new T;this.field=r;const l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),q.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(r===1){l=0;for(let f=0,g=a.length;f!==g;f++){const p=a[f];l=Wr.addOrSubtract(l,p)}return l}l=a[0];const u=a.length,c=this.field;for(let f=1;f<u;f++)l=Wr.addOrSubtract(c.multiply(r,l),a[f]);return l}addOrSubtract(r){if(!this.field.equals(r.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let a=this.coefficients,l=r.coefficients;if(a.length>l.length){const f=a;a=l,l=f}let u=new Int32Array(l.length);const c=l.length-a.length;q.arraycopy(l,0,u,0,c);for(let f=c;f<l.length;f++)u[f]=Wr.addOrSubtract(a[f-c],l[f]);return new Cn(this.field,u)}multiply(r){if(!this.field.equals(r.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,u=r.coefficients,c=u.length,f=new Int32Array(l+c-1),g=this.field;for(let p=0;p<l;p++){const E=a[p];for(let _=0;_<c;_++)f[p+_]=Wr.addOrSubtract(f[p+_],g.multiply(E,u[_]))}return new Cn(g,f)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const a=this.coefficients.length,l=this.field,u=new Int32Array(a),c=this.coefficients;for(let f=0;f<a;f++)u[f]=l.multiply(c[f],r);return new Cn(l,u)}multiplyByMonomial(r,a){if(r<0)throw new T;if(a===0)return this.field.getZero();const l=this.coefficients,u=l.length,c=new Int32Array(u+r),f=this.field;for(let g=0;g<u;g++)c[g]=f.multiply(l[g],a);return new Cn(f,c)}divide(r){if(!this.field.equals(r.field))throw new T("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new T("Divide by 0");const a=this.field;let l=a.getZero(),u=this;const c=r.getCoefficient(r.getDegree()),f=a.inverse(c);for(;u.getDegree()>=r.getDegree()&&!u.isZero();){const g=u.getDegree()-r.getDegree(),p=a.multiply(u.getCoefficient(u.getDegree()),f),E=r.multiplyByMonomial(g,p),_=a.buildMonomial(g,p);l=l.addOrSubtract(_),u=u.addOrSubtract(E)}return[l,u]}toString(){let r="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(r+=" - ",l=-l):r.length>0&&(r+=" + "),a===0||l!==1){const u=this.field.log(l);u===0?r+="1":u===1?r+="a":(r+="a^",r+=u)}a!==0&&(a===1?r+="x":(r+="x^",r+=a))}}return r}}class Kr extends y{}Kr.kind="ArithmeticException";class qt extends Wr{constructor(r,a,l){super(),this.primitive=r,this.size=a,this.generatorBase=l;const u=new Int32Array(a);let c=1;for(let g=0;g<a;g++)u[g]=c,c*=2,c>=a&&(c^=r,c&=a-1);this.expTable=u;const f=new Int32Array(a);for(let g=0;g<a-1;g++)f[u[g]]=g;this.logTable=f,this.zero=new Cn(this,Int32Array.from([0])),this.one=new Cn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,a){if(r<0)throw new T;if(a===0)return this.zero;const l=new Int32Array(r+1);return l[0]=a,new Cn(this,l)}inverse(r){if(r===0)throw new Kr;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,a){return r===0||a===0?0:this.expTable[(this.logTable[r]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}qt.AZTEC_DATA_12=new qt(4201,4096,1),qt.AZTEC_DATA_10=new qt(1033,1024,1),qt.AZTEC_DATA_6=new qt(67,64,1),qt.AZTEC_PARAM=new qt(19,16,1),qt.QR_CODE_FIELD_256=new qt(285,256,0),qt.DATA_MATRIX_FIELD_256=new qt(301,256,1),qt.AZTEC_DATA_8=qt.DATA_MATRIX_FIELD_256,qt.MAXICODE_FIELD_64=qt.AZTEC_DATA_6;class ar extends y{}ar.kind="ReedSolomonException";class ei extends y{}ei.kind="IllegalStateException";class or{constructor(r){this.field=r}decode(r,a){const l=this.field,u=new Cn(l,r),c=new Int32Array(a);let f=!0;for(let U=0;U<a;U++){const Y=u.evaluateAt(l.exp(U+l.getGeneratorBase()));c[c.length-1-U]=Y,Y!==0&&(f=!1)}if(f)return;const g=new Cn(l,c),p=this.runEuclideanAlgorithm(l.buildMonomial(a,1),g,a),E=p[0],_=p[1],S=this.findErrorLocations(E),N=this.findErrorMagnitudes(_,S);for(let U=0;U<S.length;U++){const Y=r.length-1-l.log(S[U]);if(Y<0)throw new ar("Bad error location");r[Y]=qt.addOrSubtract(r[Y],N[U])}}runEuclideanAlgorithm(r,a,l){if(r.getDegree()<a.getDegree()){const U=r;r=a,a=U}const u=this.field;let c=r,f=a,g=u.getZero(),p=u.getOne();for(;f.getDegree()>=(l/2|0);){let U=c,Y=g;if(c=f,g=p,c.isZero())throw new ar("r_{i-1} was zero");f=U;let Q=u.getZero();const K=c.getCoefficient(c.getDegree()),et=u.inverse(K);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){const gt=f.getDegree()-c.getDegree(),mt=u.multiply(f.getCoefficient(f.getDegree()),et);Q=Q.addOrSubtract(u.buildMonomial(gt,mt)),f=f.addOrSubtract(c.multiplyByMonomial(gt,mt))}if(p=Q.multiply(g).addOrSubtract(Y),f.getDegree()>=c.getDegree())throw new ei("Division algorithm failed to reduce polynomial?")}const E=p.getCoefficient(0);if(E===0)throw new ar("sigmaTilde(0) was zero");const _=u.inverse(E),S=p.multiplyScalar(_),N=f.multiplyScalar(_);return[S,N]}findErrorLocations(r){const a=r.getDegree();if(a===1)return Int32Array.from([r.getCoefficient(1)]);const l=new Int32Array(a);let u=0;const c=this.field;for(let f=1;f<c.getSize()&&u<a;f++)r.evaluateAt(f)===0&&(l[u]=c.inverse(f),u++);if(u!==a)throw new ar("Error locator degree does not match number of roots");return l}findErrorMagnitudes(r,a){const l=a.length,u=new Int32Array(l),c=this.field;for(let f=0;f<l;f++){const g=c.inverse(a[f]);let p=1;for(let E=0;E<l;E++)if(f!==E){const _=c.multiply(a[E],g),S=_&1?_&-2:_|1;p=c.multiply(p,S)}u[f]=c.multiply(r.evaluateAt(g),c.inverse(p)),c.getGeneratorBase()!==0&&(u[f]=c.multiply(u[f],g))}return u}}var Ye;(function(b){b[b.UPPER=0]="UPPER",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.DIGIT=3]="DIGIT",b[b.PUNCT=4]="PUNCT",b[b.BINARY=5]="BINARY"})(Ye||(Ye={}));class he{decode(r){this.ddata=r;let a=r.getBits(),l=this.extractBits(a),u=this.correctBits(l),c=he.convertBoolArrayToByteArray(u),f=he.getEncodedData(u),g=new xr(c,f,null,null);return g.setNumBits(u.length),g}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let a=r.length,l=Ye.UPPER,u=Ye.UPPER,c="",f=0;for(;f<a;)if(u===Ye.BINARY){if(a-f<5)break;let g=he.readCode(r,f,5);if(f+=5,g===0){if(a-f<11)break;g=he.readCode(r,f,11)+31,f+=11}for(let p=0;p<g;p++){if(a-f<8){f=a;break}const E=he.readCode(r,f,8);c+=G.castAsNonUtf8Char(E),f+=8}u=l}else{let g=u===Ye.DIGIT?4:5;if(a-f<g)break;let p=he.readCode(r,f,g);f+=g;let E=he.getCharacter(u,p);E.startsWith("CTRL_")?(l=u,u=he.getTable(E.charAt(5)),E.charAt(6)==="L"&&(l=u)):(c+=E,u=l)}return c}static getTable(r){switch(r){case"L":return Ye.LOWER;case"P":return Ye.PUNCT;case"M":return Ye.MIXED;case"D":return Ye.DIGIT;case"B":return Ye.BINARY;case"U":default:return Ye.UPPER}}static getCharacter(r,a){switch(r){case Ye.UPPER:return he.UPPER_TABLE[a];case Ye.LOWER:return he.LOWER_TABLE[a];case Ye.MIXED:return he.MIXED_TABLE[a];case Ye.PUNCT:return he.PUNCT_TABLE[a];case Ye.DIGIT:return he.DIGIT_TABLE[a];default:throw new ei("Bad table")}}correctBits(r){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=qt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=qt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=qt.AZTEC_DATA_10):(l=12,a=qt.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),c=r.length/l;if(c<u)throw new M;let f=r.length%l,g=new Int32Array(c);for(let N=0;N<c;N++,f+=l)g[N]=he.readCode(r,f,l);try{new or(a).decode(g,c-u)}catch(N){throw new M(N)}let p=(1<<l)-1,E=0;for(let N=0;N<u;N++){let U=g[N];if(U===0||U===p)throw new M;(U===1||U===p-1)&&E++}let _=new Array(u*l-E),S=0;for(let N=0;N<u;N++){let U=g[N];if(U===1||U===p-1)_.fill(U>1,S,S+l-1),S+=l-1;else for(let Y=l-1;Y>=0;--Y)_[S++]=(U&1<<Y)!==0}return _}extractBits(r){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(a?11:14)+l*4,c=new Int32Array(u),f=new Array(this.totalBitsInLayer(l,a));if(a)for(let g=0;g<c.length;g++)c[g]=g;else{let g=u+1+2*P.truncDivision(P.truncDivision(u,2)-1,15),p=u/2,E=P.truncDivision(g,2);for(let _=0;_<p;_++){let S=_+P.truncDivision(_,15);c[p-_-1]=E-S-1,c[p+_]=E+S+1}}for(let g=0,p=0;g<l;g++){let E=(l-g)*4+(a?9:12),_=g*2,S=u-1-_;for(let N=0;N<E;N++){let U=N*2;for(let Y=0;Y<2;Y++)f[p+U+Y]=r.get(c[_+Y],c[_+N]),f[p+2*E+U+Y]=r.get(c[_+N],c[S-Y]),f[p+4*E+U+Y]=r.get(c[S-Y],c[S-N]),f[p+6*E+U+Y]=r.get(c[S-N],c[_+Y])}p+=E*8}return f}static readCode(r,a,l){let u=0;for(let c=a;c<a+l;c++)u<<=1,r[c]&&(u|=1);return u}static readByte(r,a){let l=r.length-a;return l>=8?he.readCode(r,a,8):he.readCode(r,a,l)<<8-l}static convertBoolArrayToByteArray(r){let a=new Uint8Array((r.length+7)/8);for(let l=0;l<a.length;l++)a[l]=he.readByte(r,8*l);return a}totalBitsInLayer(r,a){return((a?88:112)+16*r)*r}}he.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],he.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],he.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],he.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],he.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class It{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,a,l,u){const c=r-l,f=a-u;return Math.sqrt(c*c+f*f)}static sum(r){let a=0;for(let l=0,u=r.length;l!==u;l++){const c=r[l];a+=c}return a}}class qe{static floatToIntBits(r){return r}}qe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Et{constructor(r,a){this.x=r,this.y=a}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof Et){const a=r;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*qe.floatToIntBits(this.x)+qe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const a=this.distance(r[0],r[1]),l=this.distance(r[1],r[2]),u=this.distance(r[0],r[2]);let c,f,g;if(l>=a&&l>=u?(f=r[0],c=r[1],g=r[2]):u>=l&&u>=a?(f=r[1],c=r[0],g=r[2]):(f=r[2],c=r[0],g=r[1]),this.crossProductZ(c,f,g)<0){const p=c;c=g,g=p}r[0]=c,r[1]=f,r[2]=g}static distance(r,a){return It.distance(r.x,r.y,a.x,a.y)}static crossProductZ(r,a,l){const u=a.x,c=a.y;return(l.x-u)*(r.y-c)-(l.y-c)*(r.x-u)}}class vs{constructor(r,a){this.bits=r,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ma extends vs{constructor(r,a,l,u,c){super(r,a),this.compact=l,this.nbDatablocks=u,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class yi{constructor(r,a,l,u){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),a==null&&(a=yi.INIT_SIZE),l==null&&(l=r.getWidth()/2|0),u==null&&(u=r.getHeight()/2|0);const c=a/2|0;if(this.leftInit=l-c,this.rightInit=l+c,this.upInit=u-c,this.downInit=u+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new nt}detect(){let r=this.leftInit,a=this.rightInit,l=this.upInit,u=this.downInit,c=!1,f=!0,g=!1,p=!1,E=!1,_=!1,S=!1;const N=this.width,U=this.height;for(;f;){f=!1;let Y=!0;for(;(Y||!p)&&a<N;)Y=this.containsBlackPoint(l,u,a,!1),Y?(a++,f=!0,p=!0):p||a++;if(a>=N){c=!0;break}let Q=!0;for(;(Q||!E)&&u<U;)Q=this.containsBlackPoint(r,a,u,!0),Q?(u++,f=!0,E=!0):E||u++;if(u>=U){c=!0;break}let K=!0;for(;(K||!_)&&r>=0;)K=this.containsBlackPoint(l,u,r,!1),K?(r--,f=!0,_=!0):_||r--;if(r<0){c=!0;break}let et=!0;for(;(et||!S)&&l>=0;)et=this.containsBlackPoint(r,a,l,!0),et?(l--,f=!0,S=!0):S||l--;if(l<0){c=!0;break}f&&(g=!0)}if(!c&&g){const Y=a-r;let Q=null;for(let mt=1;Q===null&&mt<Y;mt++)Q=this.getBlackPointOnSegment(r,u-mt,r+mt,u);if(Q==null)throw new nt;let K=null;for(let mt=1;K===null&&mt<Y;mt++)K=this.getBlackPointOnSegment(r,l+mt,r+mt,l);if(K==null)throw new nt;let et=null;for(let mt=1;et===null&&mt<Y;mt++)et=this.getBlackPointOnSegment(a,l+mt,a-mt,l);if(et==null)throw new nt;let gt=null;for(let mt=1;gt===null&&mt<Y;mt++)gt=this.getBlackPointOnSegment(a,u-mt,a-mt,u);if(gt==null)throw new nt;return this.centerEdges(gt,Q,et,K)}else throw new nt}getBlackPointOnSegment(r,a,l,u){const c=It.round(It.distance(r,a,l,u)),f=(l-r)/c,g=(u-a)/c,p=this.image;for(let E=0;E<c;E++){const _=It.round(r+E*f),S=It.round(a+E*g);if(p.get(_,S))return new Et(_,S)}return null}centerEdges(r,a,l,u){const c=r.getX(),f=r.getY(),g=a.getX(),p=a.getY(),E=l.getX(),_=l.getY(),S=u.getX(),N=u.getY(),U=yi.CORR;return c<this.width/2?[new Et(S-U,N+U),new Et(g+U,p+U),new Et(E-U,_-U),new Et(c+U,f-U)]:[new Et(S+U,N+U),new Et(g+U,p-U),new Et(E-U,_+U),new Et(c-U,f-U)]}containsBlackPoint(r,a,l,u){const c=this.image;if(u){for(let f=r;f<=a;f++)if(c.get(f,l))return!0}else for(let f=r;f<=a;f++)if(c.get(l,f))return!0;return!1}}yi.INIT_SIZE=10,yi.CORR=1;class xi{static checkAndNudgePoints(r,a){const l=r.getWidth(),u=r.getHeight();let c=!0;for(let f=0;f<a.length&&c;f+=2){const g=Math.floor(a[f]),p=Math.floor(a[f+1]);if(g<-1||g>l||p<-1||p>u)throw new nt;c=!1,g===-1?(a[f]=0,c=!0):g===l&&(a[f]=l-1,c=!0),p===-1?(a[f+1]=0,c=!0):p===u&&(a[f+1]=u-1,c=!0)}c=!0;for(let f=a.length-2;f>=0&&c;f-=2){const g=Math.floor(a[f]),p=Math.floor(a[f+1]);if(g<-1||g>l||p<-1||p>u)throw new nt;c=!1,g===-1?(a[f]=0,c=!0):g===l&&(a[f]=l-1,c=!0),p===-1?(a[f+1]=0,c=!0):p===u&&(a[f+1]=u-1,c=!0)}}}class Ln{constructor(r,a,l,u,c,f,g,p,E){this.a11=r,this.a21=a,this.a31=l,this.a12=u,this.a22=c,this.a32=f,this.a13=g,this.a23=p,this.a33=E}static quadrilateralToQuadrilateral(r,a,l,u,c,f,g,p,E,_,S,N,U,Y,Q,K){const et=Ln.quadrilateralToSquare(r,a,l,u,c,f,g,p);return Ln.squareToQuadrilateral(E,_,S,N,U,Y,Q,K).times(et)}transformPoints(r){const a=r.length,l=this.a11,u=this.a12,c=this.a13,f=this.a21,g=this.a22,p=this.a23,E=this.a31,_=this.a32,S=this.a33;for(let N=0;N<a;N+=2){const U=r[N],Y=r[N+1],Q=c*U+p*Y+S;r[N]=(l*U+f*Y+E)/Q,r[N+1]=(u*U+g*Y+_)/Q}}transformPointsWithValues(r,a){const l=this.a11,u=this.a12,c=this.a13,f=this.a21,g=this.a22,p=this.a23,E=this.a31,_=this.a32,S=this.a33,N=r.length;for(let U=0;U<N;U++){const Y=r[U],Q=a[U],K=c*Y+p*Q+S;r[U]=(l*Y+f*Q+E)/K,a[U]=(u*Y+g*Q+_)/K}}static squareToQuadrilateral(r,a,l,u,c,f,g,p){const E=r-l+c-g,_=a-u+f-p;if(E===0&&_===0)return new Ln(l-r,c-l,r,u-a,f-u,a,0,0,1);{const S=l-c,N=g-c,U=u-f,Y=p-f,Q=S*Y-N*U,K=(E*Y-N*_)/Q,et=(S*_-E*U)/Q;return new Ln(l-r+K*l,g-r+et*g,r,u-a+K*u,p-a+et*p,a,K,et,1)}}static quadrilateralToSquare(r,a,l,u,c,f,g,p){return Ln.squareToQuadrilateral(r,a,l,u,c,f,g,p).buildAdjoint()}buildAdjoint(){return new Ln(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new Ln(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Da extends xi{sampleGrid(r,a,l,u,c,f,g,p,E,_,S,N,U,Y,Q,K,et,gt,mt){const ht=Ln.quadrilateralToQuadrilateral(u,c,f,g,p,E,_,S,N,U,Y,Q,K,et,gt,mt);return this.sampleGridWithTransform(r,a,l,ht)}sampleGridWithTransform(r,a,l,u){if(a<=0||l<=0)throw new nt;const c=new Gt(a,l),f=new Float32Array(2*a);for(let g=0;g<l;g++){const p=f.length,E=g+.5;for(let _=0;_<p;_+=2)f[_]=_/2+.5,f[_+1]=E;u.transformPoints(f),xi.checkAndNudgePoints(r,f);try{for(let _=0;_<p;_+=2)r.get(Math.floor(f[_]),Math.floor(f[_+1]))&&c.set(_/2,g)}catch{throw new nt}}return c}}class ni{static setGridSampler(r){ni.gridSampler=r}static getInstance(){return ni.gridSampler}}ni.gridSampler=new Da;class xn{constructor(r,a){this.x=r,this.y=a}toResultPoint(){return new Et(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ot{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(r){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),c=this.getMatrixCornerPoints(l);return new Ma(u,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new nt;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(r[0],r[1],a),this.sampleLine(r[1],r[2],a),this.sampleLine(r[2],r[3],a),this.sampleLine(r[3],r[0],a)]);this.shift=this.getRotation(l,a);let u=0;for(let f=0;f<4;f++){let g=l[(this.shift+f)%4];this.compact?(u<<=7,u+=g>>1&127):(u<<=10,u+=(g>>2&992)+(g>>1&31))}let c=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(r,a){let l=0;r.forEach((u,c,f)=>{let g=(u>>a-2<<1)+(u&1);l=(l<<3)+g}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(P.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new nt}getCorrectedParameterData(r,a){let l,u;a?(l=7,u=2):(l=10,u=4);let c=l-u,f=new Int32Array(l);for(let p=l-1;p>=0;--p)f[p]=r&15,r>>=4;try{new or(qt.AZTEC_PARAM).decode(f,c)}catch{throw new nt}let g=0;for(let p=0;p<u;p++)g=(g<<4)+f[p];return g}getBullsEyeCorners(r){let a=r,l=r,u=r,c=r,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let S=this.getFirstDifferent(a,f,1,-1),N=this.getFirstDifferent(l,f,1,1),U=this.getFirstDifferent(u,f,-1,1),Y=this.getFirstDifferent(c,f,-1,-1);if(this.nbCenterLayers>2){let Q=this.distancePoint(Y,S)*this.nbCenterLayers/(this.distancePoint(c,a)*(this.nbCenterLayers+2));if(Q<.75||Q>1.25||!this.isWhiteOrBlackRectangle(S,N,U,Y))break}a=S,l=N,u=U,c=Y,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new nt;this.compact=this.nbCenterLayers===5;let g=new Et(a.getX()+.5,a.getY()-.5),p=new Et(l.getX()+.5,l.getY()+.5),E=new Et(u.getX()-.5,u.getY()+.5),_=new Et(c.getX()-.5,c.getY()-.5);return this.expandSquare([g,p,E,_],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,a,l,u;try{let g=new yi(this.image).detect();r=g[0],a=g[1],l=g[2],u=g[3]}catch{let p=this.image.getWidth()/2,E=this.image.getHeight()/2;r=this.getFirstDifferent(new xn(p+7,E-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new xn(p+7,E+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new xn(p-7,E+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new xn(p-7,E-7),!1,-1,-1).toResultPoint()}let c=It.round((r.getX()+u.getX()+a.getX()+l.getX())/4),f=It.round((r.getY()+u.getY()+a.getY()+l.getY())/4);try{let g=new yi(this.image,15,c,f).detect();r=g[0],a=g[1],l=g[2],u=g[3]}catch{r=this.getFirstDifferent(new xn(c+7,f-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new xn(c+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new xn(c-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new xn(c-7,f-7),!1,-1,-1).toResultPoint()}return c=It.round((r.getX()+u.getX()+a.getX()+l.getX())/4),f=It.round((r.getY()+u.getY()+a.getY()+l.getY())/4),new xn(c,f)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,a,l,u,c){let f=ni.getInstance(),g=this.getDimension(),p=g/2-this.nbCenterLayers,E=g/2+this.nbCenterLayers;return f.sampleGrid(r,g,g,p,p,E,p,E,E,p,E,a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY(),c.getX(),c.getY())}sampleLine(r,a,l){let u=0,c=this.distanceResultPoint(r,a),f=c/l,g=r.getX(),p=r.getY(),E=f*(a.getX()-r.getX())/c,_=f*(a.getY()-r.getY())/c;for(let S=0;S<l;S++)this.image.get(It.round(g+S*E),It.round(p+S*_))&&(u|=1<<l-S-1);return u}isWhiteOrBlackRectangle(r,a,l,u){let c=3;r=new xn(r.getX()-c,r.getY()+c),a=new xn(a.getX()-c,a.getY()-c),l=new xn(l.getX()+c,l.getY()-c),u=new xn(u.getX()+c,u.getY()+c);let f=this.getColor(u,r);if(f===0)return!1;let g=this.getColor(r,a);return g!==f||(g=this.getColor(a,l),g!==f)?!1:(g=this.getColor(l,u),g===f)}getColor(r,a){let l=this.distancePoint(r,a),u=(a.getX()-r.getX())/l,c=(a.getY()-r.getY())/l,f=0,g=r.getX(),p=r.getY(),E=this.image.get(r.getX(),r.getY()),_=Math.ceil(l);for(let N=0;N<_;N++)g+=u,p+=c,this.image.get(It.round(g),It.round(p))!==E&&f++;let S=f/l;return S>.1&&S<.9?0:S<=.1===E?1:-1}getFirstDifferent(r,a,l,u){let c=r.getX()+l,f=r.getY()+u;for(;this.isValid(c,f)&&this.image.get(c,f)===a;)c+=l,f+=u;for(c-=l,f-=u;this.isValid(c,f)&&this.image.get(c,f)===a;)c+=l;for(c-=l;this.isValid(c,f)&&this.image.get(c,f)===a;)f+=u;return f-=u,new xn(c,f)}expandSquare(r,a,l){let u=l/(2*a),c=r[0].getX()-r[2].getX(),f=r[0].getY()-r[2].getY(),g=(r[0].getX()+r[2].getX())/2,p=(r[0].getY()+r[2].getY())/2,E=new Et(g+u*c,p+u*f),_=new Et(g-u*c,p-u*f);c=r[1].getX()-r[3].getX(),f=r[1].getY()-r[3].getY(),g=(r[1].getX()+r[3].getX())/2,p=(r[1].getY()+r[3].getY())/2;let S=new Et(g+u*c,p+u*f),N=new Et(g-u*c,p-u*f);return[E,S,_,N]}isValid(r,a){return r>=0&&r<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(r){let a=It.round(r.getX()),l=It.round(r.getY());return this.isValid(a,l)}distancePoint(r,a){return It.distance(r.getX(),r.getY(),a.getX(),a.getY())}distanceResultPoint(r,a){return It.distance(r.getX(),r.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class Ct{decode(r,a=null){let l=null,u=new ot(r.getBlackMatrix()),c=null,f=null;try{let _=u.detectMirror(!1);c=_.getPoints(),this.reportFoundResultPoints(a,c),f=new he().decode(_)}catch(_){l=_}if(f==null)try{let _=u.detectMirror(!0);c=_.getPoints(),this.reportFoundResultPoints(a,c),f=new he().decode(_)}catch(_){throw l??_}let g=new pe(f.getText(),f.getRawBytes(),f.getNumBits(),c,_t.AZTEC,q.currentTimeMillis()),p=f.getByteSegments();p!=null&&g.putMetadata(Ce.BYTE_SEGMENTS,p);let E=f.getECLevel();return E!=null&&g.putMetadata(Ce.ERROR_CORRECTION_LEVEL,E),g}reportFoundResultPoints(r,a){if(r!=null){let l=r.get(at.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((u,c,f)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class Ee extends On{constructor(r=500){super(new Ct,r)}}class Ot{decode(r,a){try{return this.doDecode(r,a)}catch{if(a&&a.get(at.TRY_HARDER)===!0&&r.isRotateSupported()){const c=r.rotateCounterClockwise(),f=this.doDecode(c,a),g=f.getResultMetadata();let p=270;g!==null&&g.get(Ce.ORIENTATION)===!0&&(p=p+g.get(Ce.ORIENTATION)%360),f.putMetadata(Ce.ORIENTATION,p);const E=f.getResultPoints();if(E!==null){const _=c.getHeight();for(let S=0;S<E.length;S++)E[S]=new Et(_-E[S].getY()-1,E[S].getX())}return f}else throw new nt}}reset(){}doDecode(r,a){const l=r.getWidth(),u=r.getHeight();let c=new j(l);const f=a&&a.get(at.TRY_HARDER)===!0,g=Math.max(1,u>>(f?8:5));let p;f?p=u:p=15;const E=Math.trunc(u/2);for(let _=0;_<p;_++){const S=Math.trunc((_+1)/2),N=(_&1)===0,U=E+g*(N?S:-S);if(U<0||U>=u)break;try{c=r.getBlackRow(U,c)}catch{continue}for(let Y=0;Y<2;Y++){if(Y===1&&(c.reverse(),a&&a.get(at.NEED_RESULT_POINT_CALLBACK)===!0)){const Q=new Map;a.forEach((K,et)=>Q.set(et,K)),Q.delete(at.NEED_RESULT_POINT_CALLBACK),a=Q}try{const Q=this.decodeRow(U,c,a);if(Y===1){Q.putMetadata(Ce.ORIENTATION,180);const K=Q.getResultPoints();K!==null&&(K[0]=new Et(l-K[0].getX()-1,K[0].getY()),K[1]=new Et(l-K[1].getX()-1,K[1].getY()))}return Q}catch{}}}throw new nt}static recordPattern(r,a,l){const u=l.length;for(let E=0;E<u;E++)l[E]=0;const c=r.getSize();if(a>=c)throw new nt;let f=!r.get(a),g=0,p=a;for(;p<c;){if(r.get(p)!==f)l[g]++;else{if(++g===u)break;l[g]=1,f=!f}p++}if(!(g===u||g===u-1&&p===c))throw new nt}static recordPatternInReverse(r,a,l){let u=l.length,c=r.get(a);for(;a>0&&u>=0;)r.get(--a)!==c&&(u--,c=!c);if(u>=0)throw new nt;Ot.recordPattern(r,a+1,l)}static patternMatchVariance(r,a,l){const u=r.length;let c=0,f=0;for(let E=0;E<u;E++)c+=r[E],f+=a[E];if(c<f)return Number.POSITIVE_INFINITY;const g=c/f;l*=g;let p=0;for(let E=0;E<u;E++){const _=r[E],S=a[E]*g,N=_>S?_-S:S-_;if(N>l)return Number.POSITIVE_INFINITY;p+=N}return p/c}}class ct extends Ot{static findStartPattern(r){const a=r.getSize(),l=r.getNextSet(0);let u=0,c=Int32Array.from([0,0,0,0,0,0]),f=l,g=!1;const p=6;for(let E=l;E<a;E++)if(r.get(E)!==g)c[u]++;else{if(u===p-1){let _=ct.MAX_AVG_VARIANCE,S=-1;for(let N=ct.CODE_START_A;N<=ct.CODE_START_C;N++){const U=Ot.patternMatchVariance(c,ct.CODE_PATTERNS[N],ct.MAX_INDIVIDUAL_VARIANCE);U<_&&(_=U,S=N)}if(S>=0&&r.isRange(Math.max(0,f-(E-f)/2),f,!1))return Int32Array.from([f,E,S]);f+=c[0]+c[1],c=c.slice(2,c.length-1),c[u-1]=0,c[u]=0,u--}else u++;c[u]=1,g=!g}throw new nt}static decodeCode(r,a,l){Ot.recordPattern(r,l,a);let u=ct.MAX_AVG_VARIANCE,c=-1;for(let f=0;f<ct.CODE_PATTERNS.length;f++){const g=ct.CODE_PATTERNS[f],p=this.patternMatchVariance(a,g,ct.MAX_INDIVIDUAL_VARIANCE);p<u&&(u=p,c=f)}if(c>=0)return c;throw new nt}decodeRow(r,a,l){const u=l&&l.get(at.ASSUME_GS1)===!0,c=ct.findStartPattern(a),f=c[2];let g=0;const p=new Uint8Array(20);p[g++]=f;let E;switch(f){case ct.CODE_START_A:E=ct.CODE_CODE_A;break;case ct.CODE_START_B:E=ct.CODE_CODE_B;break;case ct.CODE_START_C:E=ct.CODE_CODE_C;break;default:throw new M}let _=!1,S=!1,N="",U=c[0],Y=c[1];const Q=Int32Array.from([0,0,0,0,0,0]);let K=0,et=0,gt=f,mt=0,ht=!0,Zt=!1,jt=!1;for(;!_;){const Oo=S;switch(S=!1,K=et,et=ct.decodeCode(a,Q,Y),p[g++]=et,et!==ct.CODE_STOP&&(ht=!0),et!==ct.CODE_STOP&&(mt++,gt+=mt*et),U=Y,Y+=Q.reduce((U3,F3)=>U3+F3,0),et){case ct.CODE_START_A:case ct.CODE_START_B:case ct.CODE_START_C:throw new M}switch(E){case ct.CODE_CODE_A:if(et<64)jt===Zt?N+=String.fromCharCode(32+et):N+=String.fromCharCode(32+et+128),jt=!1;else if(et<96)jt===Zt?N+=String.fromCharCode(et-64):N+=String.fromCharCode(et+64),jt=!1;else switch(et!==ct.CODE_STOP&&(ht=!1),et){case ct.CODE_FNC_1:u&&(N.length===0?N+="]C1":N+="");break;case ct.CODE_FNC_2:case ct.CODE_FNC_3:break;case ct.CODE_FNC_4_A:!Zt&&jt?(Zt=!0,jt=!1):Zt&&jt?(Zt=!1,jt=!1):jt=!0;break;case ct.CODE_SHIFT:S=!0,E=ct.CODE_CODE_B;break;case ct.CODE_CODE_B:E=ct.CODE_CODE_B;break;case ct.CODE_CODE_C:E=ct.CODE_CODE_C;break;case ct.CODE_STOP:_=!0;break}break;case ct.CODE_CODE_B:if(et<96)jt===Zt?N+=String.fromCharCode(32+et):N+=String.fromCharCode(32+et+128),jt=!1;else switch(et!==ct.CODE_STOP&&(ht=!1),et){case ct.CODE_FNC_1:u&&(N.length===0?N+="]C1":N+="");break;case ct.CODE_FNC_2:case ct.CODE_FNC_3:break;case ct.CODE_FNC_4_B:!Zt&&jt?(Zt=!0,jt=!1):Zt&&jt?(Zt=!1,jt=!1):jt=!0;break;case ct.CODE_SHIFT:S=!0,E=ct.CODE_CODE_A;break;case ct.CODE_CODE_A:E=ct.CODE_CODE_A;break;case ct.CODE_CODE_C:E=ct.CODE_CODE_C;break;case ct.CODE_STOP:_=!0;break}break;case ct.CODE_CODE_C:if(et<100)et<10&&(N+="0"),N+=et;else switch(et!==ct.CODE_STOP&&(ht=!1),et){case ct.CODE_FNC_1:u&&(N.length===0?N+="]C1":N+="");break;case ct.CODE_CODE_A:E=ct.CODE_CODE_A;break;case ct.CODE_CODE_B:E=ct.CODE_CODE_B;break;case ct.CODE_STOP:_=!0;break}break}Oo&&(E=E===ct.CODE_CODE_A?ct.CODE_CODE_B:ct.CODE_CODE_A)}const ai=Y-U;if(Y=a.getNextUnset(Y),!a.isRange(Y,Math.min(a.getSize(),Y+(Y-U)/2),!1))throw new nt;if(gt-=mt*K,gt%103!==K)throw new I;const cr=N.length;if(cr===0)throw new nt;cr>0&&ht&&(E===ct.CODE_CODE_C?N=N.substring(0,cr-2):N=N.substring(0,cr-1));const oi=(c[1]+c[0])/2,Ie=U+ai/2,Pn=p.length,Si=new Uint8Array(Pn);for(let Oo=0;Oo<Pn;Oo++)Si[Oo]=p[Oo];const Do=[new Et(oi,r),new Et(Ie,r)];return new pe(N,Si,0,Do,_t.CODE_128,new Date().getTime())}}ct.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ct.MAX_AVG_VARIANCE=.25,ct.MAX_INDIVIDUAL_VARIANCE=.7,ct.CODE_SHIFT=98,ct.CODE_CODE_C=99,ct.CODE_CODE_B=100,ct.CODE_CODE_A=101,ct.CODE_FNC_1=102,ct.CODE_FNC_2=97,ct.CODE_FNC_3=96,ct.CODE_FNC_4_A=101,ct.CODE_FNC_4_B=100,ct.CODE_START_A=103,ct.CODE_START_B=104,ct.CODE_START_C=105,ct.CODE_STOP=106;class Lt extends Ot{constructor(r=!1,a=!1){super(),this.usingCheckDigit=r,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,a,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let c=Lt.findAsteriskPattern(a,u),f=a.getNextSet(c[1]),g=a.getSize(),p,E;do{Lt.recordPattern(a,f,u);let Q=Lt.toNarrowWidePattern(u);if(Q<0)throw new nt;p=Lt.patternToChar(Q),this.decodeRowResult+=p,E=f;for(let K of u)f+=K;f=a.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let _=0;for(let Q of u)_+=Q;let S=f-E-_;if(f!==g&&S*2<_)throw new nt;if(this.usingCheckDigit){let Q=this.decodeRowResult.length-1,K=0;for(let et=0;et<Q;et++)K+=Lt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(et));if(this.decodeRowResult.charAt(Q)!==Lt.ALPHABET_STRING.charAt(K%43))throw new I;this.decodeRowResult=this.decodeRowResult.substring(0,Q)}if(this.decodeRowResult.length===0)throw new nt;let N;this.extendedMode?N=Lt.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let U=(c[1]+c[0])/2,Y=E+_/2;return new pe(N,null,0,[new Et(U,r),new Et(Y,r)],_t.CODE_39,new Date().getTime())}static findAsteriskPattern(r,a){let l=r.getSize(),u=r.getNextSet(0),c=0,f=u,g=!1,p=a.length;for(let E=u;E<l;E++)if(r.get(E)!==g)a[c]++;else{if(c===p-1){if(this.toNarrowWidePattern(a)===Lt.ASTERISK_ENCODING&&r.isRange(Math.max(0,f-Math.floor((E-f)/2)),f,!1))return[f,E];f+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,g=!g}throw new nt}static toNarrowWidePattern(r){let a=r.length,l=0,u;do{let c=2147483647;for(let p of r)p<c&&p>l&&(c=p);l=c,u=0;let f=0,g=0;for(let p=0;p<a;p++){let E=r[p];E>l&&(g|=1<<a-1-p,u++,f+=E)}if(u===3){for(let p=0;p<a&&u>0;p++){let E=r[p];if(E>l&&(u--,E*2>=f))return-1}return g}}while(u>3);return-1}static patternToChar(r){for(let a=0;a<Lt.CHARACTER_ENCODINGS.length;a++)if(Lt.CHARACTER_ENCODINGS[a]===r)return Lt.ALPHABET_STRING.charAt(a);if(r===Lt.ASTERISK_ENCODING)return"*";throw new nt}static decodeExtended(r){let a=r.length,l="";for(let u=0;u<a;u++){let c=r.charAt(u);if(c==="+"||c==="$"||c==="%"||c==="/"){let f=r.charAt(u+1),g="\0";switch(c){case"+":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new M;break;case"$":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new M;break;case"%":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")g="\0";else if(f==="V")g="@";else if(f==="W")g="`";else if(f==="X"||f==="Y"||f==="Z")g="";else throw new M;break;case"/":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")g=":";else throw new M;break}l+=g,u++}else l+=c}return l}}Lt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Lt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Lt.ASTERISK_ENCODING=148;class Xt extends Ot{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,a,l){let u=this.decodeStart(a),c=this.decodeEnd(a),f=new F;Xt.decodeMiddle(a,u[1],c[0],f);let g=f.toString(),p=null;l!=null&&(p=l.get(at.ALLOWED_LENGTHS)),p==null&&(p=Xt.DEFAULT_ALLOWED_LENGTHS);let E=g.length,_=!1,S=0;for(let Y of p){if(E===Y){_=!0;break}Y>S&&(S=Y)}if(!_&&E>S&&(_=!0),!_)throw new M;const N=[new Et(u[1],r),new Et(c[0],r)];return new pe(g,null,0,N,_t.ITF,new Date().getTime())}static decodeMiddle(r,a,l,u){let c=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(c.fill(0),f.fill(0),g.fill(0);a<l;){Ot.recordPattern(r,a,c);for(let E=0;E<5;E++){let _=2*E;f[E]=c[_],g[E]=c[_+1]}let p=Xt.decodeDigit(f);u.append(p.toString()),p=this.decodeDigit(g),u.append(p.toString()),c.forEach(function(E){a+=E})}}decodeStart(r){let a=Xt.skipWhiteSpace(r),l=Xt.findGuardPattern(r,a,Xt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(r,l[0]),l}validateQuietZone(r,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let u=a-1;l>0&&u>=0&&!r.get(u);u--)l--;if(l!==0)throw new nt}static skipWhiteSpace(r){const a=r.getSize(),l=r.getNextSet(0);if(l===a)throw new nt;return l}decodeEnd(r){r.reverse();try{let a=Xt.skipWhiteSpace(r),l;try{l=Xt.findGuardPattern(r,a,Xt.END_PATTERN_REVERSED[0])}catch(c){c instanceof nt&&(l=Xt.findGuardPattern(r,a,Xt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,l[0]);let u=l[0];return l[0]=r.getSize()-l[1],l[1]=r.getSize()-u,l}finally{r.reverse()}}static findGuardPattern(r,a,l){let u=l.length,c=new Int32Array(u),f=r.getSize(),g=!1,p=0,E=a;c.fill(0);for(let _=a;_<f;_++)if(r.get(_)!==g)c[p]++;else{if(p===u-1){if(Ot.patternMatchVariance(c,l,Xt.MAX_INDIVIDUAL_VARIANCE)<Xt.MAX_AVG_VARIANCE)return[E,_];E+=c[0]+c[1],q.arraycopy(c,2,c,0,p-1),c[p-1]=0,c[p]=0,p--}else p++;c[p]=1,g=!g}throw new nt}static decodeDigit(r){let a=Xt.MAX_AVG_VARIANCE,l=-1,u=Xt.PATTERNS.length;for(let c=0;c<u;c++){let f=Xt.PATTERNS[c],g=Ot.patternMatchVariance(r,f,Xt.MAX_INDIVIDUAL_VARIANCE);g<a?(a=g,l=c):g===a&&(l=-1)}if(l>=0)return l%10;throw new nt}}Xt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Xt.MAX_AVG_VARIANCE=.38,Xt.MAX_INDIVIDUAL_VARIANCE=.5,Xt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Xt.START_PATTERN=Int32Array.from([1,1,1,1]),Xt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Pe extends Ot{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let a=!1,l,u=0,c=Int32Array.from([0,0,0]);for(;!a;){c=Int32Array.from([0,0,0]),l=Pe.findGuardPattern(r,u,!1,this.START_END_PATTERN,c);let f=l[0];u=l[1];let g=f-(u-f);g>=0&&(a=r.isRange(g,f,!1))}return l}static checkChecksum(r){return Pe.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let a=r.length;if(a===0)return!1;let l=parseInt(r.charAt(a-1),10);return Pe.getStandardUPCEANChecksum(r.substring(0,a-1))===l}static getStandardUPCEANChecksum(r){let a=r.length,l=0;for(let u=a-1;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new M;l+=c}l*=3;for(let u=a-2;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new M;l+=c}return(1e3-l)%10}static decodeEnd(r,a){return Pe.findGuardPattern(r,a,!1,Pe.START_END_PATTERN,new Int32Array(Pe.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,a,l,u){return this.findGuardPattern(r,a,l,u,new Int32Array(u.length))}static findGuardPattern(r,a,l,u,c){let f=r.getSize();a=l?r.getNextUnset(a):r.getNextSet(a);let g=0,p=a,E=u.length,_=l;for(let S=a;S<f;S++)if(r.get(S)!==_)c[g]++;else{if(g===E-1){if(Ot.patternMatchVariance(c,u,Pe.MAX_INDIVIDUAL_VARIANCE)<Pe.MAX_AVG_VARIANCE)return Int32Array.from([p,S]);p+=c[0]+c[1];let N=c.slice(2,c.length-1);for(let U=0;U<g-1;U++)c[U]=N[U];c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,_=!_}throw new nt}static decodeDigit(r,a,l,u){this.recordPattern(r,l,a);let c=this.MAX_AVG_VARIANCE,f=-1,g=u.length;for(let p=0;p<g;p++){let E=u[p],_=Ot.patternMatchVariance(a,E,Pe.MAX_INDIVIDUAL_VARIANCE);_<c&&(c=_,f=p)}if(f>=0)return f;throw new nt}}Pe.MAX_AVG_VARIANCE=.48,Pe.MAX_INDIVIDUAL_VARIANCE=.7,Pe.START_END_PATTERN=Int32Array.from([1,1,1]),Pe.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Pe.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Pe.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Er{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,a,l){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(a,l,u),f=u.toString(),g=Er.parseExtensionString(f),p=[new Et((l[0]+l[1])/2,r),new Et(c,r)],E=new pe(f,null,0,p,_t.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&E.putAllMetadata(g),E}decodeMiddle(r,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=a[1],g=0;for(let E=0;E<5&&f<c;E++){let _=Pe.decodeDigit(r,u,f,Pe.L_AND_G_PATTERNS);l+=String.fromCharCode(48+_%10);for(let S of u)f+=S;_>=10&&(g|=1<<4-E),E!==4&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(l.length!==5)throw new nt;let p=this.determineCheckDigit(g);if(Er.extensionChecksum(l.toString())!==p)throw new nt;return f}static extensionChecksum(r){let a=r.length,l=0;for(let u=a-2;u>=0;u-=2)l+=r.charAt(u).charCodeAt(0)-48;l*=3;for(let u=a-1;u>=0;u-=2)l+=r.charAt(u).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(r){for(let a=0;a<10;a++)if(r===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new nt}static parseExtensionString(r){if(r.length!==5)return null;let a=Er.parseExtension5String(r);return a==null?null:new Map([[Ce.SUGGESTED_PRICE,a]])}static parseExtension5String(r){let a;switch(r.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(r.substring(1)),u=(l/100).toString(),c=l%100,f=c<10?"0"+c:c.toString();return a+u+"."+f}}class Eo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,a,l){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(a,l,u),f=u.toString(),g=Eo.parseExtensionString(f),p=[new Et((l[0]+l[1])/2,r),new Et(c,r)],E=new pe(f,null,0,p,_t.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&E.putAllMetadata(g),E}decodeMiddle(r,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=a[1],g=0;for(let p=0;p<2&&f<c;p++){let E=Pe.decodeDigit(r,u,f,Pe.L_AND_G_PATTERNS);l+=String.fromCharCode(48+E%10);for(let _ of u)f+=_;E>=10&&(g|=1<<1-p),p!==1&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(l.length!==2)throw new nt;if(parseInt(l.toString())%4!==g)throw new nt;return f}static parseExtensionString(r){return r.length!==2?null:new Map([[Ce.ISSUE_NUMBER,parseInt(r)]])}}class Is{static decodeRow(r,a,l){let u=Pe.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Er().decodeRow(r,a,u)}catch{return new Eo().decodeRow(r,a,u)}}}Is.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class re extends Pe{constructor(){super(),this.decodeRowStringBuffer="",re.L_AND_G_PATTERNS=re.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let a=re.L_PATTERNS[r-10],l=new Int32Array(a.length);for(let u=0;u<a.length;u++)l[u]=a[a.length-u-1];re.L_AND_G_PATTERNS[r]=l}}decodeRow(r,a,l){let u=re.findStartGuardPattern(a),c=l==null?null:l.get(at.NEED_RESULT_POINT_CALLBACK);if(c!=null){const ht=new Et((u[0]+u[1])/2,r);c.foundPossibleResultPoint(ht)}let f=this.decodeMiddle(a,u,this.decodeRowStringBuffer),g=f.rowOffset,p=f.resultString;if(c!=null){const ht=new Et(g,r);c.foundPossibleResultPoint(ht)}let E=this.decodeEnd(a,g);if(c!=null){const ht=new Et((E[0]+E[1])/2,r);c.foundPossibleResultPoint(ht)}let _=E[1],S=_+(_-E[0]);if(S>=a.getSize()||!a.isRange(_,S,!1))throw new nt;let N=p.toString();if(N.length<8)throw new M;if(!re.checkChecksum(N))throw new I;let U=(u[1]+u[0])/2,Y=(E[1]+E[0])/2,Q=this.getBarcodeFormat(),K=[new Et(U,r),new Et(Y,r)],et=new pe(N,null,0,K,Q,new Date().getTime()),gt=0;try{let ht=Is.decodeRow(r,a,E[1]);et.putMetadata(Ce.UPC_EAN_EXTENSION,ht.getText()),et.putAllMetadata(ht.getResultMetadata()),et.addResultPoints(ht.getResultPoints()),gt=ht.getText().length}catch{}let mt=l==null?null:l.get(at.ALLOWED_EAN_EXTENSIONS);if(mt!=null){let ht=!1;for(let Zt in mt)if(gt.toString()===Zt){ht=!0;break}if(!ht)throw new nt}return et}decodeEnd(r,a){return re.findGuardPattern(r,a,!1,re.START_END_PATTERN,new Int32Array(re.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return re.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let a=r.length;if(a===0)return!1;let l=parseInt(r.charAt(a-1),10);return re.getStandardUPCEANChecksum(r.substring(0,a-1))===l}static getStandardUPCEANChecksum(r){let a=r.length,l=0;for(let u=a-1;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new M;l+=c}l*=3;for(let u=a-2;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new M;l+=c}return(1e3-l)%10}}class Xe extends re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=a[1],g=0;for(let E=0;E<6&&f<c;E++){let _=re.decodeDigit(r,u,f,re.L_AND_G_PATTERNS);l+=String.fromCharCode(48+_%10);for(let S of u)f+=S;_>=10&&(g|=1<<5-E)}l=Xe.determineFirstDigit(l,g),f=re.findGuardPattern(r,f,!0,re.MIDDLE_PATTERN,new Int32Array(re.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&f<c;E++){let _=re.decodeDigit(r,u,f,re.L_PATTERNS);l+=String.fromCharCode(48+_);for(let S of u)f+=S}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return _t.EAN_13}static determineFirstDigit(r,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return r=String.fromCharCode(48+l)+r,r;throw new nt}}Xe.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Wl extends re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,a,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=a[1];for(let p=0;p<4&&f<c;p++){let E=re.decodeDigit(r,u,f,re.L_PATTERNS);l+=String.fromCharCode(48+E);for(let _ of u)f+=_}f=re.findGuardPattern(r,f,!0,re.MIDDLE_PATTERN,new Int32Array(re.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&f<c;p++){let E=re.decodeDigit(r,u,f,re.L_PATTERNS);l+=String.fromCharCode(48+E);for(let _ of u)f+=_}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return _t.EAN_8}}class Ns extends re{constructor(){super(...arguments),this.ean13Reader=new Xe}getBarcodeFormat(){return _t.UPC_A}decode(r,a){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,a,l))}decodeMiddle(r,a,l){return this.ean13Reader.decodeMiddle(r,a,l)}maybeReturnResult(r){let a=r.getText();if(a.charAt(0)==="0"){let l=new pe(a.substring(1),null,null,r.getResultPoints(),_t.UPC_A);return r.getResultMetadata()!=null&&l.putAllMetadata(r.getResultMetadata()),l}else throw new nt}reset(){this.ean13Reader.reset()}}class Bn extends re{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,a,l){const u=this.decodeMiddleCounters.map(E=>E);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const c=r.getSize();let f=a[1],g=0;for(let E=0;E<6&&f<c;E++){const _=Bn.decodeDigit(r,u,f,Bn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+_%10);for(let S of u)f+=S;_>=10&&(g|=1<<5-E)}let p=Bn.determineNumSysAndCheckDigit(l,g);return{rowOffset:f,resultString:p}}decodeEnd(r,a){return Bn.findGuardPatternWithoutCounters(r,a,!0,Bn.MIDDLE_END_PATTERN)}checkChecksum(r){return re.checkChecksum(Bn.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,a){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let c=String.fromCharCode(48+l),f=String.fromCharCode(48+u);return c+r+f}throw nt.getNotFoundInstance()}getBarcodeFormat(){return _t.UPC_E}static convertUPCEtoUPCA(r){const a=r.slice(1,7).split("").map(c=>c.charCodeAt(0)),l=new F;l.append(r.charAt(0));let u=a[5];switch(u){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(u),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(u);break}return r.length>=8&&l.append(r.charAt(7)),l.toString()}}Bn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Bn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Kl extends Ot{constructor(r){super();let a=r==null?null:r.get(at.POSSIBLE_FORMATS),l=[];i(a)?(l.push(new Xe),l.push(new Ns),l.push(new Wl),l.push(new Bn)):(a.indexOf(_t.EAN_13)>-1&&l.push(new Xe),a.indexOf(_t.UPC_A)>-1&&l.push(new Ns),a.indexOf(_t.EAN_8)>-1&&l.push(new Wl),a.indexOf(_t.UPC_E)>-1&&l.push(new Bn)),this.readers=l}decodeRow(r,a,l){for(let u of this.readers)try{const c=u.decodeRow(r,a,l),f=c.getBarcodeFormat()===_t.EAN_13&&c.getText().charAt(0)==="0",g=l==null?null:l.get(at.POSSIBLE_FORMATS),p=g==null||g.includes(_t.UPC_A);if(f&&p){const E=c.getRawBytes(),_=new pe(c.getText().substring(1),E,E?E.length:null,c.getResultPoints(),_t.UPC_A);return _.putAllMetadata(c.getResultMetadata()),_}return c}catch{}throw new nt}reset(){for(let r of this.readers)r.reset()}}class bn extends Ot{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,a){for(let l=0;l<a.length;l++)if(Ot.patternMatchVariance(r,a[l],bn.MAX_INDIVIDUAL_VARIANCE)<bn.MAX_AVG_VARIANCE)return l;throw new nt}static count(r){return It.sum(new Int32Array(r))}static increment(r,a){let l=0,u=a[0];for(let c=1;c<r.length;c++)a[c]>u&&(u=a[c],l=c);r[l]++}static decrement(r,a){let l=0,u=a[0];for(let c=1;c<r.length;c++)a[c]<u&&(u=a[c],l=c);r[l]--}static isFinderPattern(r){let a=r[0]+r[1],l=a+r[2]+r[3],u=a/l;if(u>=bn.MIN_FINDER_PATTERN_RATIO&&u<=bn.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let g of r)g>f&&(f=g),g<c&&(c=g);return f<10*c}return!1}}bn.MAX_AVG_VARIANCE=.2,bn.MAX_INDIVIDUAL_VARIANCE=.45,bn.MIN_FINDER_PATTERN_RATIO=9.5/12,bn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ei{constructor(r,a){this.value=r,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Ei))return!1;const a=r;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ao{constructor(r,a,l,u,c){this.value=r,this.startEnd=a,this.value=r,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new Et(l,c)),this.resultPoints.push(new Et(u,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof Ao))return!1;const a=r;return this.value===a.value}hashCode(){return this.value}}class Hi{constructor(){}static getRSSvalue(r,a,l){let u=0;for(let p of r)u+=p;let c=0,f=0,g=r.length;for(let p=0;p<g-1;p++){let E;for(E=1,f|=1<<p;E<r[p];E++,f&=~(1<<p)){let _=Hi.combins(u-E-1,g-p-2);if(l&&f===0&&u-E-(g-p-1)>=g-p-1&&(_-=Hi.combins(u-E-(g-p),g-p-2)),g-p-1>1){let S=0;for(let N=u-E-(g-p-2);N>a;N--)S+=Hi.combins(u-E-N-1,g-p-3);_-=S*(g-1-p)}else u-E>a&&_--;c+=_}u-=E}return c}static combins(r,a){let l,u;r-a>a?(u=a,l=r-a):(u=r-a,l=a);let c=1,f=1;for(let g=r;g>l;g--)c*=g,f<=u&&(c/=f,f++);for(;f<=u;)c/=f,f++;return c}}class wo{static buildBitArray(r){let a=r.length*2-1;r[r.length-1].getRightChar()==null&&(a-=1);let l=12*a,u=new j(l),c=0,g=r[0].getRightChar().getValue();for(let p=11;p>=0;--p)g&1<<p&&u.set(c),c++;for(let p=1;p<r.length;++p){let E=r[p],_=E.getLeftChar().getValue();for(let S=11;S>=0;--S)_&1<<S&&u.set(c),c++;if(E.getRightChar()!=null){let S=E.getRightChar().getValue();for(let N=11;N>=0;--N)S&1<<N&&u.set(c),c++}}return u}}class Ar{constructor(r,a){a?this.decodedInformation=null:(this.finished=r,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class _o{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class Sn extends _o{constructor(r,a){super(r),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Sn.FNC1}}Sn.FNC1="$";class Ai extends _o{constructor(r,a,l){super(r),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ii extends _o{constructor(r,a,l){if(super(r),a<0||a>10||l<0||l>10)throw new M;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ii.FNC1}isSecondDigitFNC1(){return this.secondDigit===ii.FNC1}isAnyFNC1(){return this.firstDigit===ii.FNC1||this.secondDigit===ii.FNC1}}ii.FNC1=10;class yt{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new nt;let a=r.substring(0,2);for(let c of yt.TWO_DIGIT_DATA_LENGTH)if(c[0]===a)return c[1]===yt.VARIABLE_LENGTH?yt.processVariableAI(2,c[2],r):yt.processFixedAI(2,c[1],r);if(r.length<3)throw new nt;let l=r.substring(0,3);for(let c of yt.THREE_DIGIT_DATA_LENGTH)if(c[0]===l)return c[1]===yt.VARIABLE_LENGTH?yt.processVariableAI(3,c[2],r):yt.processFixedAI(3,c[1],r);for(let c of yt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===l)return c[1]===yt.VARIABLE_LENGTH?yt.processVariableAI(4,c[2],r):yt.processFixedAI(4,c[1],r);if(r.length<4)throw new nt;let u=r.substring(0,4);for(let c of yt.FOUR_DIGIT_DATA_LENGTH)if(c[0]===u)return c[1]===yt.VARIABLE_LENGTH?yt.processVariableAI(4,c[2],r):yt.processFixedAI(4,c[1],r);throw new nt}static processFixedAI(r,a,l){if(l.length<r)throw new nt;let u=l.substring(0,r);if(l.length<r+a)throw new nt;let c=l.substring(r,r+a),f=l.substring(r+a),g="("+u+")"+c,p=yt.parseFieldsInGeneralPurpose(f);return p==null?g:g+p}static processVariableAI(r,a,l){let u=l.substring(0,r),c;l.length<r+a?c=l.length:c=r+a;let f=l.substring(r,c),g=l.substring(c),p="("+u+")"+f,E=yt.parseFieldsInGeneralPurpose(g);return E==null?p:p+E}}yt.VARIABLE_LENGTH=[],yt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",yt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",yt.VARIABLE_LENGTH,20],["22",yt.VARIABLE_LENGTH,29],["30",yt.VARIABLE_LENGTH,8],["37",yt.VARIABLE_LENGTH,8],["90",yt.VARIABLE_LENGTH,30],["91",yt.VARIABLE_LENGTH,30],["92",yt.VARIABLE_LENGTH,30],["93",yt.VARIABLE_LENGTH,30],["94",yt.VARIABLE_LENGTH,30],["95",yt.VARIABLE_LENGTH,30],["96",yt.VARIABLE_LENGTH,30],["97",yt.VARIABLE_LENGTH,3],["98",yt.VARIABLE_LENGTH,30],["99",yt.VARIABLE_LENGTH,30]],yt.THREE_DIGIT_DATA_LENGTH=[["240",yt.VARIABLE_LENGTH,30],["241",yt.VARIABLE_LENGTH,30],["242",yt.VARIABLE_LENGTH,6],["250",yt.VARIABLE_LENGTH,30],["251",yt.VARIABLE_LENGTH,30],["253",yt.VARIABLE_LENGTH,17],["254",yt.VARIABLE_LENGTH,20],["400",yt.VARIABLE_LENGTH,30],["401",yt.VARIABLE_LENGTH,30],["402",17],["403",yt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",yt.VARIABLE_LENGTH,20],["421",yt.VARIABLE_LENGTH,15],["422",3],["423",yt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],yt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",yt.VARIABLE_LENGTH,15],["391",yt.VARIABLE_LENGTH,18],["392",yt.VARIABLE_LENGTH,15],["393",yt.VARIABLE_LENGTH,18],["703",yt.VARIABLE_LENGTH,30]],yt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",yt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",yt.VARIABLE_LENGTH,20],["8003",yt.VARIABLE_LENGTH,30],["8004",yt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",yt.VARIABLE_LENGTH,30],["8008",yt.VARIABLE_LENGTH,12],["8018",18],["8020",yt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",yt.VARIABLE_LENGTH,70],["8200",yt.VARIABLE_LENGTH,70]];class Zr{constructor(r){this.buffer=new F,this.information=r}decodeAllCodes(r,a){let l=a,u=null;do{let c=this.decodeGeneralPurposeField(l,u),f=yt.parseFieldsInGeneralPurpose(c.getNewString());if(f!=null&&r.append(f),c.isRemaining()?u=""+c.getRemainingValue():u=null,l===c.getNewPosition())break;l=c.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let a=r;a<r+3;++a)if(this.information.get(a))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(r,4);return c===0?new ii(this.information.getSize(),ii.FNC1,ii.FNC1):new ii(this.information.getSize(),c-1,ii.FNC1)}let a=this.extractNumericValueFromBitArray(r,7),l=(a-8)/11,u=(a-8)%11;return new ii(r+7,l,u)}extractNumericValueFromBitArray(r,a){return Zr.extractNumericValueFromBitArray(this.information,r,a)}static extractNumericValueFromBitArray(r,a,l){let u=0;for(let c=0;c<l;++c)r.get(a+c)&&(u|=1<<l-c-1);return u}decodeGeneralPurposeField(r,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(r);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ai(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ai(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),r=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),r=a.isFinished()):(a=this.parseNumericBlock(),r=a.isFinished()),!(l!==this.current.getPosition())&&!r)break}while(!r);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let a;return r.isSecondDigitFNC1()?a=new Ai(this.current.getPosition(),this.buffer.toString()):a=new Ai(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new Ar(!0,a)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let a=new Ai(this.current.getPosition(),this.buffer.toString());return new Ar(!0,a)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ar(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let a=new Ai(this.current.getPosition(),this.buffer.toString());return new Ar(!0,a)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ar(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let a=new Ai(this.current.getPosition(),this.buffer.toString());return new Ar(!0,a)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ar(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,5);if(a>=5&&a<16)return!0;if(r+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,7);if(l>=64&&l<116)return!0;if(r+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(r,8);return u>=232&&u<253}decodeIsoIec646(r){let a=this.extractNumericValueFromBitArray(r,5);if(a===15)return new Sn(r+5,Sn.FNC1);if(a>=5&&a<15)return new Sn(r+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(r,7);if(l>=64&&l<90)return new Sn(r+7,""+(l+1));if(l>=90&&l<116)return new Sn(r+7,""+(l+7));let u=this.extractNumericValueFromBitArray(r,8),c;switch(u){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new M}return new Sn(r+8,c)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,5);if(a>=5&&a<16)return!0;if(r+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,6);return l>=16&&l<63}decodeAlphanumeric(r){let a=this.extractNumericValueFromBitArray(r,5);if(a===15)return new Sn(r+5,Sn.FNC1);if(a>=5&&a<15)return new Sn(r+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(r,6);if(l>=32&&l<58)return new Sn(r+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new ei("Decoding invalid alphanumeric value: "+l)}return new Sn(r+6,u)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let a=0;a<5&&a+r<this.information.getSize();++a)if(a===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+a))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let a=r;a<r+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let a=0;a<4&&a+r<this.information.getSize();++a)if(this.information.get(r+a))return!1;return!0}}class To{constructor(r){this.information=r,this.generalDecoder=new Zr(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class vn extends To{constructor(r){super(r)}encodeCompressedGtin(r,a){r.append("(01)");let l=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,a,l)}encodeCompressedGtinWithoutAI(r,a,l){for(let u=0;u<4;++u){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*u,10);c/100===0&&r.append("0"),c/10===0&&r.append("0"),r.append(c)}vn.appendCheckDigit(r,l)}static appendCheckDigit(r,a){let l=0;for(let u=0;u<13;u++){let c=r.charAt(u+a).charCodeAt(0)-48;l+=u&1?c:3*c}l=10-l%10,l===10&&(l=0),r.append(l)}}vn.GTIN_SIZE=40;class wr extends vn{constructor(r){super(r)}parseInformation(){let r=new F;r.append("(01)");let a=r.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(wr.HEADER_SIZE,4);return r.append(l),this.encodeCompressedGtinWithoutAI(r,wr.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(r,wr.HEADER_SIZE+44)}}wr.HEADER_SIZE=4;class Oa extends To{constructor(r){super(r)}parseInformation(){let r=new F;return this.getGeneralDecoder().decodeAllCodes(r,Oa.HEADER_SIZE)}}Oa.HEADER_SIZE=5;class Co extends vn{constructor(r){super(r)}encodeCompressedWeight(r,a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(r,u);let c=this.checkWeight(u),f=1e5;for(let g=0;g<5;++g)c/f===0&&r.append("0"),f/=10;r.append(c)}}class wi extends Co{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=wi.HEADER_SIZE+Co.GTIN_SIZE+wi.WEIGHT_SIZE)throw new nt;let r=new F;return this.encodeCompressedGtin(r,wi.HEADER_SIZE),this.encodeCompressedWeight(r,wi.HEADER_SIZE+Co.GTIN_SIZE,wi.WEIGHT_SIZE),r.toString()}}wi.HEADER_SIZE=5,wi.WEIGHT_SIZE=15;class wd extends wi{constructor(r){super(r)}addWeightCode(r,a){r.append("(3103)")}checkWeight(r){return r}}class bo extends wi{constructor(r){super(r)}addWeightCode(r,a){a<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class _i extends vn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<_i.HEADER_SIZE+vn.GTIN_SIZE)throw new nt;let r=new F;this.encodeCompressedGtin(r,_i.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(_i.HEADER_SIZE+vn.GTIN_SIZE,_i.LAST_DIGIT_SIZE);r.append("(392"),r.append(a),r.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(_i.HEADER_SIZE+vn.GTIN_SIZE+_i.LAST_DIGIT_SIZE,null);return r.append(l.getNewString()),r.toString()}}_i.HEADER_SIZE=8,_i.LAST_DIGIT_SIZE=2;class En extends vn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<En.HEADER_SIZE+vn.GTIN_SIZE)throw new nt;let r=new F;this.encodeCompressedGtin(r,En.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(En.HEADER_SIZE+vn.GTIN_SIZE,En.LAST_DIGIT_SIZE);r.append("(393"),r.append(a),r.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(En.HEADER_SIZE+vn.GTIN_SIZE+En.LAST_DIGIT_SIZE,En.FIRST_THREE_DIGITS_SIZE);l/100==0&&r.append("0"),l/10==0&&r.append("0"),r.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(En.HEADER_SIZE+vn.GTIN_SIZE+En.LAST_DIGIT_SIZE+En.FIRST_THREE_DIGITS_SIZE,null);return r.append(u.getNewString()),r.toString()}}En.HEADER_SIZE=8,En.LAST_DIGIT_SIZE=2,En.FIRST_THREE_DIGITS_SIZE=10;class ye extends Co{constructor(r,a,l){super(r),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=ye.HEADER_SIZE+ye.GTIN_SIZE+ye.WEIGHT_SIZE+ye.DATE_SIZE)throw new nt;let r=new F;return this.encodeCompressedGtin(r,ye.HEADER_SIZE),this.encodeCompressedWeight(r,ye.HEADER_SIZE+ye.GTIN_SIZE,ye.WEIGHT_SIZE),this.encodeCompressedDate(r,ye.HEADER_SIZE+ye.GTIN_SIZE+ye.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,ye.DATE_SIZE);if(l==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let u=l%32;l/=32;let c=l%12+1;l/=12;let f=l;f/10==0&&r.append("0"),r.append(f),c/10==0&&r.append("0"),r.append(c),u/10==0&&r.append("0"),r.append(u)}addWeightCode(r,a){r.append("("),r.append(this.firstAIdigits),r.append(a/1e5),r.append(")")}checkWeight(r){return r%1e5}}ye.HEADER_SIZE=8,ye.WEIGHT_SIZE=20,ye.DATE_SIZE=16;function _r(b){try{if(b.get(1))return new wr(b);if(!b.get(2))return new Oa(b);switch(Zr.extractNumericValueFromBitArray(b,1,4)){case 4:return new wd(b);case 5:return new bo(b)}switch(Zr.extractNumericValueFromBitArray(b,1,5)){case 12:return new _i(b);case 13:return new En(b)}switch(Zr.extractNumericValueFromBitArray(b,1,7)){case 56:return new ye(b,"310","11");case 57:return new ye(b,"320","11");case 58:return new ye(b,"310","13");case 59:return new ye(b,"320","13");case 60:return new ye(b,"310","15");case 61:return new ye(b,"320","15");case 62:return new ye(b,"310","17");case 63:return new ye(b,"320","17")}}catch(r){throw console.log(r),new ei("unknown decoder: "+b)}}class Gi{constructor(r,a,l,u){this.leftchar=r,this.rightchar=a,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,a){return r instanceof Gi?Gi.equalsOrNull(r.leftchar,a.leftchar)&&Gi.equalsOrNull(r.rightchar,a.rightchar)&&Gi.equalsOrNull(r.finderpattern,a.finderpattern):!1}static equalsOrNull(r,a){return r===null?a===null:Gi.equals(r,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Zl{constructor(r,a,l){this.pairs=r,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,a){return r instanceof Zl?this.checkEqualitity(r,a)&&r.wasReversed===a.wasReversed:!1}checkEqualitity(r,a){if(!r||!a)return;let l;return r.forEach((u,c)=>{a.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class ut extends bn{constructor(r){super(...arguments),this.pairs=new Array(ut.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,a,l){this.pairs.length=0,this.startFromEven=!1;try{return ut.constructResult(this.decodeRow2pairs(r,a))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,ut.constructResult(this.decodeRow2pairs(r,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,r))}catch(c){if(c instanceof nt){if(!this.pairs.length)throw new nt;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(r,!1),u){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new nt}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return r&&(this.rows=this.rows.reverse()),a}checkRows(r,a){for(let l=a;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let f of r)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!ut.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(r);c.push(u);try{return this.checkRows(c,l+1)}catch(f){this.verbose&&console.log(f)}}throw new nt}static isValidSequence(r){for(let a of ut.FINDER_PATTERN_SEQUENCES){if(r.length>a.length)continue;let l=!0;for(let u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!=a[u]){l=!1;break}if(l)return!0}return!1}storeRow(r,a){let l=0,u=!1,c=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>r){c=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),l++}c||u||ut.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Zl(this.pairs,r,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,a){for(let l of a)if(l.getPairs().length!==r.length){for(let u of l.getPairs())for(let c of r)if(Gi.equals(u,c))break}}static isPartialRow(r,a){for(let l of a){let u=!0;for(let c of r){let f=!1;for(let g of l.getPairs())if(c.equals(g)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(r){let a=wo.buildBitArray(r),u=_r(a).parseInformation(),c=r[0].getFinderPattern().getResultPoints(),f=r[r.length-1].getFinderPattern().getResultPoints(),g=[c[0],c[1],f[0],f[1]];return new pe(u,null,null,g,_t.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),a=r.getLeftChar(),l=r.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),c=2;for(let g=1;g<this.pairs.size();++g){let p=this.pairs.get(g);u+=p.getLeftChar().getChecksumPortion(),c++;let E=p.getRightChar();E!=null&&(u+=E.getChecksumPortion(),c++)}return u%=211,211*(c-4)+u==a.getValue()}static getNextSecondBar(r,a){let l;return r.get(a)?(l=r.getNextUnset(a),l=r.getNextSet(l)):(l=r.getNextSet(a),l=r.getNextUnset(l)),l}retrieveNextPair(r,a,l){let u=a.length%2==0;this.startFromEven&&(u=!u);let c,f=!0,g=-1;do this.findNextPair(r,a,g),c=this.parseFoundFinderPattern(r,l,u),c==null?g=ut.getNextSecondBar(r,this.startEnd[0]):f=!1;while(f);let p=this.decodeDataCharacter(r,c,u,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new nt;let E;try{E=this.decodeDataCharacter(r,c,u,!1)}catch(_){E=null,this.verbose&&console.log(_)}return new Gi(p,E,c,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f;l>=0?f=l:this.isEmptyPair(a)?f=0:f=a[a.length-1].getFinderPattern().getStartEnd()[1];let g=a.length%2!=0;this.startFromEven&&(g=!g);let p=!1;for(;f<c&&(p=!r.get(f),!!p);)f++;let E=0,_=f;for(let S=f;S<c;S++)if(r.get(S)!=p)u[E]++;else{if(E==3){if(g&&ut.reverseCounters(u),ut.isFinderPattern(u)){this.startEnd[0]=_,this.startEnd[1]=S;return}g&&ut.reverseCounters(u),_+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,E--}else E++;u[E]=1,p=!p}throw new nt}static reverseCounters(r){let a=r.length;for(let l=0;l<a/2;++l){let u=r[l];r[l]=r[a-l-1],r[a-l-1]=u}}parseFoundFinderPattern(r,a,l){let u,c,f;if(l){let E=this.startEnd[0]-1;for(;E>=0&&!r.get(E);)E--;E++,u=this.startEnd[0]-E,c=E,f=this.startEnd[1]}else c=this.startEnd[0],f=r.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let g=this.getDecodeFinderCounters();q.arraycopy(g,0,g,1,g.length-1),g[0]=u;let p;try{p=this.parseFinderValue(g,ut.FINDER_PATTERNS)}catch{return null}return new Ao(p,[c,f],c,f,a)}decodeDataCharacter(r,a,l,u){let c=this.getDataCharacterCounters();for(let Ie=0;Ie<c.length;Ie++)c[Ie]=0;if(u)ut.recordPatternInReverse(r,a.getStartEnd()[0],c);else{ut.recordPattern(r,a.getStartEnd()[1],c);for(let Ie=0,Pn=c.length-1;Ie<Pn;Ie++,Pn--){let Si=c[Ie];c[Ie]=c[Pn],c[Pn]=Si}}let f=17,g=It.sum(new Int32Array(c))/f,p=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(g-p)/p>.3)throw new nt;let E=this.getOddCounts(),_=this.getEvenCounts(),S=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let Ie=0;Ie<c.length;Ie++){let Pn=1*c[Ie]/g,Si=Pn+.5;if(Si<1){if(Pn<.3)throw new nt;Si=1}else if(Si>8){if(Pn>8.7)throw new nt;Si=8}let Do=Ie/2;Ie&1?(_[Do]=Si,N[Do]=Pn-Si):(E[Do]=Si,S[Do]=Pn-Si)}this.adjustOddEvenCounts(f);let U=4*a.getValue()+(l?0:2)+(u?0:1)-1,Y=0,Q=0;for(let Ie=E.length-1;Ie>=0;Ie--){if(ut.isNotA1left(a,l,u)){let Pn=ut.WEIGHTS[U][2*Ie];Q+=E[Ie]*Pn}Y+=E[Ie]}let K=0;for(let Ie=_.length-1;Ie>=0;Ie--)if(ut.isNotA1left(a,l,u)){let Pn=ut.WEIGHTS[U][2*Ie+1];K+=_[Ie]*Pn}let et=Q+K;if(Y&1||Y>13||Y<4)throw new nt;let gt=(13-Y)/2,mt=ut.SYMBOL_WIDEST[gt],ht=9-mt,Zt=Hi.getRSSvalue(E,mt,!0),jt=Hi.getRSSvalue(_,ht,!1),ai=ut.EVEN_TOTAL_SUBSET[gt],cr=ut.GSUM[gt],oi=Zt*ai+jt+cr;return new Ei(oi,et)}static isNotA1left(r,a,l){return!(r.getValue()==0&&a&&l)}adjustOddEvenCounts(r){let a=It.sum(new Int32Array(this.getOddCounts())),l=It.sum(new Int32Array(this.getEvenCounts())),u=!1,c=!1;a>13?c=!0:a<4&&(u=!0);let f=!1,g=!1;l>13?g=!0:l<4&&(f=!0);let p=a+l-r,E=(a&1)==1,_=(l&1)==0;if(p==1)if(E){if(_)throw new nt;c=!0}else{if(!_)throw new nt;g=!0}else if(p==-1)if(E){if(_)throw new nt;u=!0}else{if(!_)throw new nt;f=!0}else if(p==0){if(E){if(!_)throw new nt;a<l?(u=!0,g=!0):(c=!0,f=!0)}else if(_)throw new nt}else throw new nt;if(u){if(c)throw new nt;ut.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&ut.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new nt;ut.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&ut.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ut.SYMBOL_WIDEST=[7,5,4,3,1],ut.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ut.GSUM=[0,348,1388,2948,3988],ut.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ut.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ut.FINDER_PAT_A=0,ut.FINDER_PAT_B=1,ut.FINDER_PAT_C=2,ut.FINDER_PAT_D=3,ut.FINDER_PAT_E=4,ut.FINDER_PAT_F=5,ut.FINDER_PATTERN_SEQUENCES=[[ut.FINDER_PAT_A,ut.FINDER_PAT_A],[ut.FINDER_PAT_A,ut.FINDER_PAT_B,ut.FINDER_PAT_B],[ut.FINDER_PAT_A,ut.FINDER_PAT_C,ut.FINDER_PAT_B,ut.FINDER_PAT_D],[ut.FINDER_PAT_A,ut.FINDER_PAT_E,ut.FINDER_PAT_B,ut.FINDER_PAT_D,ut.FINDER_PAT_C],[ut.FINDER_PAT_A,ut.FINDER_PAT_E,ut.FINDER_PAT_B,ut.FINDER_PAT_D,ut.FINDER_PAT_D,ut.FINDER_PAT_F],[ut.FINDER_PAT_A,ut.FINDER_PAT_E,ut.FINDER_PAT_B,ut.FINDER_PAT_D,ut.FINDER_PAT_E,ut.FINDER_PAT_F,ut.FINDER_PAT_F],[ut.FINDER_PAT_A,ut.FINDER_PAT_A,ut.FINDER_PAT_B,ut.FINDER_PAT_B,ut.FINDER_PAT_C,ut.FINDER_PAT_C,ut.FINDER_PAT_D,ut.FINDER_PAT_D],[ut.FINDER_PAT_A,ut.FINDER_PAT_A,ut.FINDER_PAT_B,ut.FINDER_PAT_B,ut.FINDER_PAT_C,ut.FINDER_PAT_C,ut.FINDER_PAT_D,ut.FINDER_PAT_E,ut.FINDER_PAT_E],[ut.FINDER_PAT_A,ut.FINDER_PAT_A,ut.FINDER_PAT_B,ut.FINDER_PAT_B,ut.FINDER_PAT_C,ut.FINDER_PAT_C,ut.FINDER_PAT_D,ut.FINDER_PAT_E,ut.FINDER_PAT_F,ut.FINDER_PAT_F],[ut.FINDER_PAT_A,ut.FINDER_PAT_A,ut.FINDER_PAT_B,ut.FINDER_PAT_B,ut.FINDER_PAT_C,ut.FINDER_PAT_D,ut.FINDER_PAT_D,ut.FINDER_PAT_E,ut.FINDER_PAT_E,ut.FINDER_PAT_F,ut.FINDER_PAT_F]],ut.MAX_PAIRS=11;class Uc extends Ei{constructor(r,a,l){super(r,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ke extends bn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,a,l){const u=this.decodePair(a,!1,r,l);ke.addOrTally(this.possibleLeftPairs,u),a.reverse();let c=this.decodePair(a,!0,r,l);ke.addOrTally(this.possibleRightPairs,c),a.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&ke.checkChecksum(f,g))return ke.constructResult(f,g)}throw new nt}static addOrTally(r,a){if(a==null)return;let l=!1;for(let u of r)if(u.getValue()===a.getValue()){u.incrementCount(),l=!0;break}l||r.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,a){let l=4537077*r.getValue()+a.getValue(),u=new String(l).toString(),c=new F;for(let E=13-u.length;E>0;E--)c.append("0");c.append(u);let f=0;for(let E=0;E<13;E++){let _=c.charAt(E).charCodeAt(0)-48;f+=E&1?_:3*_}f=10-f%10,f===10&&(f=0),c.append(f.toString());let g=r.getFinderPattern().getResultPoints(),p=a.getFinderPattern().getResultPoints();return new pe(c.toString(),null,0,[g[0],g[1],p[0],p[1]],_t.RSS_14,new Date().getTime())}static checkChecksum(r,a){let l=(r.getChecksumPortion()+16*a.getChecksumPortion())%79,u=9*r.getFinderPattern().getValue()+a.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(r,a,l,u){try{let c=this.findFinderPattern(r,a),f=this.parseFoundFinderPattern(r,l,a,c),g=u==null?null:u.get(at.NEED_RESULT_POINT_CALLBACK);if(g!=null){let _=(c[0]+c[1])/2;a&&(_=r.getSize()-1-_),g.foundPossibleResultPoint(new Et(_,l))}let p=this.decodeDataCharacter(r,f,!0),E=this.decodeDataCharacter(r,f,!1);return new Uc(1597*p.getValue()+E.getValue(),p.getChecksumPortion()+4*E.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(r,a,l){let u=this.getDataCharacterCounters();for(let K=0;K<u.length;K++)u[K]=0;if(l)Ot.recordPatternInReverse(r,a.getStartEnd()[0],u);else{Ot.recordPattern(r,a.getStartEnd()[1]+1,u);for(let K=0,et=u.length-1;K<et;K++,et--){let gt=u[K];u[K]=u[et],u[et]=gt}}let c=l?16:15,f=It.sum(new Int32Array(u))/c,g=this.getOddCounts(),p=this.getEvenCounts(),E=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let K=0;K<u.length;K++){let et=u[K]/f,gt=Math.floor(et+.5);gt<1?gt=1:gt>8&&(gt=8);let mt=Math.floor(K/2);K&1?(p[mt]=gt,_[mt]=et-gt):(g[mt]=gt,E[mt]=et-gt)}this.adjustOddEvenCounts(l,c);let S=0,N=0;for(let K=g.length-1;K>=0;K--)N*=9,N+=g[K],S+=g[K];let U=0,Y=0;for(let K=p.length-1;K>=0;K--)U*=9,U+=p[K],Y+=p[K];let Q=N+3*U;if(l){if(S&1||S>12||S<4)throw new nt;let K=(12-S)/2,et=ke.OUTSIDE_ODD_WIDEST[K],gt=9-et,mt=Hi.getRSSvalue(g,et,!1),ht=Hi.getRSSvalue(p,gt,!0),Zt=ke.OUTSIDE_EVEN_TOTAL_SUBSET[K],jt=ke.OUTSIDE_GSUM[K];return new Ei(mt*Zt+ht+jt,Q)}else{if(Y&1||Y>10||Y<4)throw new nt;let K=(10-Y)/2,et=ke.INSIDE_ODD_WIDEST[K],gt=9-et,mt=Hi.getRSSvalue(g,et,!0),ht=Hi.getRSSvalue(p,gt,!1),Zt=ke.INSIDE_ODD_TOTAL_SUBSET[K],jt=ke.INSIDE_GSUM[K];return new Ei(ht*Zt+mt+jt,Q)}}findFinderPattern(r,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),c=!1,f=0;for(;f<u&&(c=!r.get(f),a!==c);)f++;let g=0,p=f;for(let E=f;E<u;E++)if(r.get(E)!==c)l[g]++;else{if(g===3){if(bn.isFinderPattern(l))return[p,E];p+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,g--}else g++;l[g]=1,c=!c}throw new nt}parseFoundFinderPattern(r,a,l,u){let c=r.get(u[0]),f=u[0]-1;for(;f>=0&&c!==r.get(f);)f--;f++;const g=u[0]-f,p=this.getDecodeFinderCounters(),E=new Int32Array(p.length);q.arraycopy(p,0,E,1,p.length-1),E[0]=g;const _=this.parseFinderValue(E,ke.FINDER_PATTERNS);let S=f,N=u[1];return l&&(S=r.getSize()-1-S,N=r.getSize()-1-N),new Ao(_,[f,u[1]],S,N,a)}adjustOddEvenCounts(r,a){let l=It.sum(new Int32Array(this.getOddCounts())),u=It.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1,g=!1,p=!1;r?(l>12?f=!0:l<4&&(c=!0),u>12?p=!0:u<4&&(g=!0)):(l>11?f=!0:l<5&&(c=!0),u>10?p=!0:u<4&&(g=!0));let E=l+u-a,_=(l&1)===(r?1:0),S=(u&1)===1;if(E===1)if(_){if(S)throw new nt;f=!0}else{if(!S)throw new nt;p=!0}else if(E===-1)if(_){if(S)throw new nt;c=!0}else{if(!S)throw new nt;g=!0}else if(E===0){if(_){if(!S)throw new nt;l<u?(c=!0,p=!0):(f=!0,g=!0)}else if(S)throw new nt}else throw new nt;if(c){if(f)throw new nt;bn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&bn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(p)throw new nt;bn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&bn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ke.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ke.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ke.OUTSIDE_GSUM=[0,161,961,2015,2715],ke.INSIDE_GSUM=[0,336,1036,1516],ke.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ke.INSIDE_ODD_WIDEST=[2,4,6,8],ke.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Tr extends Ot{constructor(r,a){super(),this.readers=[],this.verbose=a===!0;const l=r?r.get(at.POSSIBLE_FORMATS):null,u=r&&r.get(at.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(_t.EAN_13)||l.includes(_t.UPC_A)||l.includes(_t.EAN_8)||l.includes(_t.UPC_E))&&this.readers.push(new Kl(r)),l.includes(_t.CODE_39)&&this.readers.push(new Lt(u)),l.includes(_t.CODE_128)&&this.readers.push(new ct),l.includes(_t.ITF)&&this.readers.push(new Xt),l.includes(_t.RSS_14)&&this.readers.push(new ke),l.includes(_t.RSS_EXPANDED)&&this.readers.push(new ut(this.verbose))):(this.readers.push(new Kl(r)),this.readers.push(new Lt),this.readers.push(new Kl(r)),this.readers.push(new ct),this.readers.push(new Xt),this.readers.push(new ke),this.readers.push(new ut(this.verbose)))}decodeRow(r,a,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(r,a,l)}catch{}throw new nt}reset(){this.readers.forEach(r=>r.reset())}}class Jl extends On{constructor(r=500,a){super(new Tr(a),r,a)}}class ue{constructor(r,a,l){this.ecCodewords=r,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class se{constructor(r,a){this.count=r,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ht{constructor(r,a,l,u,c,f){this.versionNumber=r,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=c,this.ecBlocks=f;let g=0;const p=f.getECCodewords(),E=f.getECBlocks();for(let _ of E)g+=_.getCount()*(_.getDataCodewords()+p);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,a){if(r&1||a&1)throw new M;for(let l of Ht.VERSIONS)if(l.symbolSizeRows===r&&l.symbolSizeColumns===a)return l;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new Ht(1,10,10,8,8,new ue(5,new se(1,3))),new Ht(2,12,12,10,10,new ue(7,new se(1,5))),new Ht(3,14,14,12,12,new ue(10,new se(1,8))),new Ht(4,16,16,14,14,new ue(12,new se(1,12))),new Ht(5,18,18,16,16,new ue(14,new se(1,18))),new Ht(6,20,20,18,18,new ue(18,new se(1,22))),new Ht(7,22,22,20,20,new ue(20,new se(1,30))),new Ht(8,24,24,22,22,new ue(24,new se(1,36))),new Ht(9,26,26,24,24,new ue(28,new se(1,44))),new Ht(10,32,32,14,14,new ue(36,new se(1,62))),new Ht(11,36,36,16,16,new ue(42,new se(1,86))),new Ht(12,40,40,18,18,new ue(48,new se(1,114))),new Ht(13,44,44,20,20,new ue(56,new se(1,144))),new Ht(14,48,48,22,22,new ue(68,new se(1,174))),new Ht(15,52,52,24,24,new ue(42,new se(2,102))),new Ht(16,64,64,14,14,new ue(56,new se(2,140))),new Ht(17,72,72,16,16,new ue(36,new se(4,92))),new Ht(18,80,80,18,18,new ue(48,new se(4,114))),new Ht(19,88,88,20,20,new ue(56,new se(4,144))),new Ht(20,96,96,22,22,new ue(68,new se(4,174))),new Ht(21,104,104,24,24,new ue(56,new se(6,136))),new Ht(22,120,120,18,18,new ue(68,new se(6,175))),new Ht(23,132,132,20,20,new ue(62,new se(8,163))),new Ht(24,144,144,22,22,new ue(62,new se(8,156),new se(2,155))),new Ht(25,8,18,6,16,new ue(7,new se(1,5))),new Ht(26,8,32,6,14,new ue(11,new se(1,10))),new Ht(27,12,26,10,24,new ue(14,new se(1,16))),new Ht(28,12,36,10,16,new ue(18,new se(1,22))),new Ht(29,16,36,14,16,new ue(24,new se(1,32))),new Ht(30,16,48,14,22,new ue(28,new se(1,49)))]}}Ht.VERSIONS=Ht.buildVersions();class $l{constructor(r){const a=r.getHeight();if(a<8||a>144||a&1)throw new M;this.version=$l.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new Gt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const a=r.getHeight(),l=r.getWidth();return Ht.getVersionForDimensions(a,l)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,u=0;const c=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,p=!1,E=!1,_=!1;do if(l===c&&u===0&&!g)r[a++]=this.readCorner1(c,f)&255,l-=2,u+=2,g=!0;else if(l===c-2&&u===0&&f&3&&!p)r[a++]=this.readCorner2(c,f)&255,l-=2,u+=2,p=!0;else if(l===c+4&&u===2&&!(f&7)&&!E)r[a++]=this.readCorner3(c,f)&255,l-=2,u+=2,E=!0;else if(l===c-2&&u===0&&(f&7)===4&&!_)r[a++]=this.readCorner4(c,f)&255,l-=2,u+=2,_=!0;else{do l<c&&u>=0&&!this.readMappingMatrix.get(u,l)&&(r[a++]=this.readUtah(l,u,c,f)&255),l-=2,u+=2;while(l>=0&&u<f);l+=1,u+=3;do l>=0&&u<f&&!this.readMappingMatrix.get(u,l)&&(r[a++]=this.readUtah(l,u,c,f)&255),l+=2,u-=2;while(l<c&&u>=0);l+=3,u+=1}while(l<c||u<f);if(a!==this.version.getTotalCodewords())throw new M;return r}readModule(r,a,l,u){return r<0&&(r+=l,a+=4-(l+4&7)),a<0&&(a+=u,r+=4-(u+4&7)),this.readMappingMatrix.set(a,r),this.mappingBitMatrix.get(a,r)}readUtah(r,a,l,u){let c=0;return this.readModule(r-2,a-2,l,u)&&(c|=1),c<<=1,this.readModule(r-2,a-1,l,u)&&(c|=1),c<<=1,this.readModule(r-1,a-2,l,u)&&(c|=1),c<<=1,this.readModule(r-1,a-1,l,u)&&(c|=1),c<<=1,this.readModule(r-1,a,l,u)&&(c|=1),c<<=1,this.readModule(r,a-2,l,u)&&(c|=1),c<<=1,this.readModule(r,a-1,l,u)&&(c|=1),c<<=1,this.readModule(r,a,l,u)&&(c|=1),c}readCorner1(r,a){let l=0;return this.readModule(r-1,0,r,a)&&(l|=1),l<<=1,this.readModule(r-1,1,r,a)&&(l|=1),l<<=1,this.readModule(r-1,2,r,a)&&(l|=1),l<<=1,this.readModule(0,a-2,r,a)&&(l|=1),l<<=1,this.readModule(0,a-1,r,a)&&(l|=1),l<<=1,this.readModule(1,a-1,r,a)&&(l|=1),l<<=1,this.readModule(2,a-1,r,a)&&(l|=1),l<<=1,this.readModule(3,a-1,r,a)&&(l|=1),l}readCorner2(r,a){let l=0;return this.readModule(r-3,0,r,a)&&(l|=1),l<<=1,this.readModule(r-2,0,r,a)&&(l|=1),l<<=1,this.readModule(r-1,0,r,a)&&(l|=1),l<<=1,this.readModule(0,a-4,r,a)&&(l|=1),l<<=1,this.readModule(0,a-3,r,a)&&(l|=1),l<<=1,this.readModule(0,a-2,r,a)&&(l|=1),l<<=1,this.readModule(0,a-1,r,a)&&(l|=1),l<<=1,this.readModule(1,a-1,r,a)&&(l|=1),l}readCorner3(r,a){let l=0;return this.readModule(r-1,0,r,a)&&(l|=1),l<<=1,this.readModule(r-1,a-1,r,a)&&(l|=1),l<<=1,this.readModule(0,a-3,r,a)&&(l|=1),l<<=1,this.readModule(0,a-2,r,a)&&(l|=1),l<<=1,this.readModule(0,a-1,r,a)&&(l|=1),l<<=1,this.readModule(1,a-3,r,a)&&(l|=1),l<<=1,this.readModule(1,a-2,r,a)&&(l|=1),l<<=1,this.readModule(1,a-1,r,a)&&(l|=1),l}readCorner4(r,a){let l=0;return this.readModule(r-3,0,r,a)&&(l|=1),l<<=1,this.readModule(r-2,0,r,a)&&(l|=1),l<<=1,this.readModule(r-1,0,r,a)&&(l|=1),l<<=1,this.readModule(0,a-2,r,a)&&(l|=1),l<<=1,this.readModule(0,a-1,r,a)&&(l|=1),l<<=1,this.readModule(1,a-1,r,a)&&(l|=1),l<<=1,this.readModule(2,a-1,r,a)&&(l|=1),l<<=1,this.readModule(3,a-1,r,a)&&(l|=1),l}extractDataRegion(r){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(r.getHeight()!==a)throw new T("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),f=a/u|0,g=l/c|0,p=f*u,E=g*c,_=new Gt(E,p);for(let S=0;S<f;++S){const N=S*u;for(let U=0;U<g;++U){const Y=U*c;for(let Q=0;Q<u;++Q){const K=S*(u+2)+1+Q,et=N+Q;for(let gt=0;gt<c;++gt){const mt=U*(c+2)+1+gt;if(r.get(mt,K)){const ht=Y+gt;_.set(ht,et)}}}}}return _}}class Yi{constructor(r,a){this.numDataCodewords=r,this.codewords=a}static getDataBlocks(r,a){const l=a.getECBlocks();let u=0;const c=l.getECBlocks();for(let Q of c)u+=Q.getCount();const f=new Array(u);let g=0;for(let Q of c)for(let K=0;K<Q.getCount();K++){const et=Q.getDataCodewords(),gt=l.getECCodewords()+et;f[g++]=new Yi(et,new Uint8Array(gt))}const E=f[0].codewords.length-l.getECCodewords(),_=E-1;let S=0;for(let Q=0;Q<_;Q++)for(let K=0;K<g;K++)f[K].codewords[Q]=r[S++];const N=a.getVersionNumber()===24,U=N?8:g;for(let Q=0;Q<U;Q++)f[Q].codewords[E-1]=r[S++];const Y=f[0].codewords.length;for(let Q=E;Q<Y;Q++)for(let K=0;K<g;K++){const et=N?(K+8)%g:K,gt=N&&et>7?Q-1:Q;f[et].codewords[gt]=r[S++]}if(S!==r.length)throw new T;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ri{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new T(""+r);let a=0,l=this.bitOffset,u=this.byteOffset;const c=this.bytes;if(l>0){const f=8-l,g=r<f?r:f,p=f-g,E=255>>8-g<<p;a=(c[u]&E)>>p,r-=g,l+=g,l===8&&(l=0,u++)}if(r>0){for(;r>=8;)a=a<<8|c[u]&255,u++,r-=8;if(r>0){const f=8-r,g=255>>f<<f;a=a<<r|(c[u]&g)>>f,l+=r}}return this.bitOffset=l,this.byteOffset=u,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ve;(function(b){b[b.PAD_ENCODE=0]="PAD_ENCODE",b[b.ASCII_ENCODE=1]="ASCII_ENCODE",b[b.C40_ENCODE=2]="C40_ENCODE",b[b.TEXT_ENCODE=3]="TEXT_ENCODE",b[b.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",b[b.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",b[b.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ve||(Ve={}));class si{static decode(r){const a=new ri(r),l=new F,u=new F,c=new Array;let f=Ve.ASCII_ENCODE;do if(f===Ve.ASCII_ENCODE)f=this.decodeAsciiSegment(a,l,u);else{switch(f){case Ve.C40_ENCODE:this.decodeC40Segment(a,l);break;case Ve.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case Ve.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case Ve.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case Ve.BASE256_ENCODE:this.decodeBase256Segment(a,l,c);break;default:throw new M}f=Ve.ASCII_ENCODE}while(f!==Ve.PAD_ENCODE&&a.available()>0);return u.length()>0&&l.append(u.toString()),new xr(r,l.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(r,a,l){let u=!1;do{let c=r.readBits(8);if(c===0)throw new M;if(c<=128)return u&&(c+=128),a.append(String.fromCharCode(c-1)),Ve.ASCII_ENCODE;if(c===129)return Ve.PAD_ENCODE;if(c<=229){const f=c-130;f<10&&a.append("0"),a.append(""+f)}else switch(c){case 230:return Ve.C40_ENCODE;case 231:return Ve.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return Ve.ANSIX12_ENCODE;case 239:return Ve.TEXT_ENCODE;case 240:return Ve.EDIFACT_ENCODE;case 241:break;default:if(c!==254||r.available()!==0)throw new M;break}}while(r.available()>0);return Ve.ASCII_ENCODE}static decodeC40Segment(r,a){let l=!1;const u=[];let c=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),u);for(let g=0;g<3;g++){const p=u[g];switch(c){case 0:if(p<3)c=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[p];l?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),l=!1):a.append(E)}else throw new M;break;case 1:l?(a.append(String.fromCharCode(p+128)),l=!1):a.append(String.fromCharCode(p)),c=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[p];l?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),l=!1):a.append(E)}else switch(p){case 27:a.append("");break;case 30:l=!0;break;default:throw new M}c=0;break;case 3:l?(a.append(String.fromCharCode(p+224)),l=!1):a.append(String.fromCharCode(p+96)),c=0;break;default:throw new M}}}while(r.available()>0)}static decodeTextSegment(r,a){let l=!1,u=[],c=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),u);for(let g=0;g<3;g++){const p=u[g];switch(c){case 0:if(p<3)c=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[p];l?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),l=!1):a.append(E)}else throw new M;break;case 1:l?(a.append(String.fromCharCode(p+128)),l=!1):a.append(String.fromCharCode(p)),c=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[p];l?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),l=!1):a.append(E)}else switch(p){case 27:a.append("");break;case 30:l=!0;break;default:throw new M}c=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[p];l?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),l=!1):a.append(E),c=0}else throw new M;break;default:throw new M}}}while(r.available()>0)}static decodeAnsiX12Segment(r,a){const l=[];do{if(r.available()===8)return;const u=r.readBits(8);if(u===254)return;this.parseTwoBytes(u,r.readBits(8),l);for(let c=0;c<3;c++){const f=l[c];switch(f){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(f<14)a.append(String.fromCharCode(f+44));else if(f<40)a.append(String.fromCharCode(f+51));else throw new M;break}}}while(r.available()>0)}static parseTwoBytes(r,a,l){let u=(r<<8)+a-1,c=Math.floor(u/1600);l[0]=c,u-=c*1600,c=Math.floor(u/40),l[1]=c,l[2]=u-c*40}static decodeEdifactSegment(r,a){do{if(r.available()<=16)return;for(let l=0;l<4;l++){let u=r.readBits(6);if(u===31){const c=8-r.getBitOffset();c!==8&&r.readBits(c);return}u&32||(u|=64),a.append(String.fromCharCode(u))}}while(r.available()>0)}static decodeBase256Segment(r,a,l){let u=1+r.getByteOffset();const c=this.unrandomize255State(r.readBits(8),u++);let f;if(c===0?f=r.available()/8|0:c<250?f=c:f=250*(c-249)+this.unrandomize255State(r.readBits(8),u++),f<0)throw new M;const g=new Uint8Array(f);for(let p=0;p<f;p++){if(r.available()<8)throw new M;g[p]=this.unrandomize255State(r.readBits(8),u++)}l.push(g);try{a.append(H.decode(g,G.ISO88591))}catch(p){throw new ei("Platform does not support required encoding: "+p.message)}}static unrandomize255State(r,a){const l=149*a%255+1,u=r-l;return u>=0?u:u+256}}si.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],si.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],si.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],si.TEXT_SHIFT2_SET_CHARS=si.C40_SHIFT2_SET_CHARS,si.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class tu{constructor(){this.rsDecoder=new or(qt.DATA_MATRIX_FIELD_256)}decode(r){const a=new $l(r),l=a.getVersion(),u=a.readCodewords(),c=Yi.getDataBlocks(u,l);let f=0;for(let E of c)f+=E.getNumDataCodewords();const g=new Uint8Array(f),p=c.length;for(let E=0;E<p;E++){const _=c[E],S=_.getCodewords(),N=_.getNumDataCodewords();this.correctErrors(S,N);for(let U=0;U<N;U++)g[U*p+E]=S[U]}return si.decode(g)}correctErrors(r,a){const l=new Int32Array(r);try{this.rsDecoder.decode(l,r.length-a)}catch{throw new I}for(let u=0;u<a;u++)r[u]=l[u]}}class Dt{constructor(r){this.image=r,this.rectangleDetector=new yi(this.image)}detect(){const r=this.rectangleDetector.detect();let a=this.detectSolid1(r);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new nt;a=this.shiftToModuleCenter(a);const l=a[0],u=a[1],c=a[2],f=a[3];let g=this.transitionsBetween(l,f)+1,p=this.transitionsBetween(c,f)+1;(g&1)===1&&(g+=1),(p&1)===1&&(p+=1),4*g<7*p&&4*p<7*g&&(g=p=Math.max(g,p));let E=Dt.sampleGrid(this.image,l,u,c,f,g,p);return new vs(E,[l,u,c,f])}static shiftPoint(r,a,l){let u=(a.getX()-r.getX())/(l+1),c=(a.getY()-r.getY())/(l+1);return new Et(r.getX()+u,r.getY()+c)}static moveAway(r,a,l){let u=r.getX(),c=r.getY();return u<a?u-=1:u+=1,c<l?c-=1:c+=1,new Et(u,c)}detectSolid1(r){let a=r[0],l=r[1],u=r[3],c=r[2],f=this.transitionsBetween(a,l),g=this.transitionsBetween(l,u),p=this.transitionsBetween(u,c),E=this.transitionsBetween(c,a),_=f,S=[c,a,l,u];return _>g&&(_=g,S[0]=a,S[1]=l,S[2]=u,S[3]=c),_>p&&(_=p,S[0]=l,S[1]=u,S[2]=c,S[3]=a),_>E&&(S[0]=u,S[1]=c,S[2]=a,S[3]=l),S}detectSolid2(r){let a=r[0],l=r[1],u=r[2],c=r[3],f=this.transitionsBetween(a,c),g=Dt.shiftPoint(l,u,(f+1)*4),p=Dt.shiftPoint(u,l,(f+1)*4),E=this.transitionsBetween(g,a),_=this.transitionsBetween(p,c);return E<_?(r[0]=a,r[1]=l,r[2]=u,r[3]=c):(r[0]=l,r[1]=u,r[2]=c,r[3]=a),r}correctTopRight(r){let a=r[0],l=r[1],u=r[2],c=r[3],f=this.transitionsBetween(a,c),g=this.transitionsBetween(l,c),p=Dt.shiftPoint(a,l,(g+1)*4),E=Dt.shiftPoint(u,l,(f+1)*4);f=this.transitionsBetween(p,c),g=this.transitionsBetween(E,c);let _=new Et(c.getX()+(u.getX()-l.getX())/(f+1),c.getY()+(u.getY()-l.getY())/(f+1)),S=new Et(c.getX()+(a.getX()-l.getX())/(g+1),c.getY()+(a.getY()-l.getY())/(g+1));if(!this.isValid(_))return this.isValid(S)?S:null;if(!this.isValid(S))return _;let N=this.transitionsBetween(p,_)+this.transitionsBetween(E,_),U=this.transitionsBetween(p,S)+this.transitionsBetween(E,S);return N>U?_:S}shiftToModuleCenter(r){let a=r[0],l=r[1],u=r[2],c=r[3],f=this.transitionsBetween(a,c)+1,g=this.transitionsBetween(u,c)+1,p=Dt.shiftPoint(a,l,g*4),E=Dt.shiftPoint(u,l,f*4);f=this.transitionsBetween(p,c)+1,g=this.transitionsBetween(E,c)+1,(f&1)===1&&(f+=1),(g&1)===1&&(g+=1);let _=(a.getX()+l.getX()+u.getX()+c.getX())/4,S=(a.getY()+l.getY()+u.getY()+c.getY())/4;a=Dt.moveAway(a,_,S),l=Dt.moveAway(l,_,S),u=Dt.moveAway(u,_,S),c=Dt.moveAway(c,_,S);let N,U;return p=Dt.shiftPoint(a,l,g*4),p=Dt.shiftPoint(p,c,f*4),N=Dt.shiftPoint(l,a,g*4),N=Dt.shiftPoint(N,u,f*4),E=Dt.shiftPoint(u,c,g*4),E=Dt.shiftPoint(E,l,f*4),U=Dt.shiftPoint(c,u,g*4),U=Dt.shiftPoint(U,a,f*4),[p,N,E,U]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,a,l,u,c,f,g){return ni.getInstance().sampleGrid(r,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,a.getX(),a.getY(),c.getX(),c.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(r,a){let l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),c=Math.trunc(a.getX()),f=Math.trunc(a.getY()),g=Math.abs(f-u)>Math.abs(c-l);if(g){let Q=l;l=u,u=Q,Q=c,c=f,f=Q}let p=Math.abs(c-l),E=Math.abs(f-u),_=-p/2,S=u<f?1:-1,N=l<c?1:-1,U=0,Y=this.image.get(g?u:l,g?l:u);for(let Q=l,K=u;Q!==c;Q+=N){let et=this.image.get(g?K:Q,g?Q:K);if(et!==Y&&(U++,Y=et),_+=E,_>0){if(K===f)break;K+=S,_-=p}}return U}}class Ti{constructor(){this.decoder=new tu}decode(r,a=null){let l,u;if(a!=null&&a.has(at.PURE_BARCODE)){const E=Ti.extractPureBits(r.getBlackMatrix());l=this.decoder.decode(E),u=Ti.NO_POINTS}else{const E=new Dt(r.getBlackMatrix()).detect();l=this.decoder.decode(E.getBits()),u=E.getPoints()}const c=l.getRawBytes(),f=new pe(l.getText(),c,8*c.length,u,_t.DATA_MATRIX,q.currentTimeMillis()),g=l.getByteSegments();g!=null&&f.putMetadata(Ce.BYTE_SEGMENTS,g);const p=l.getECLevel();return p!=null&&f.putMetadata(Ce.ERROR_CORRECTION_LEVEL,p),f}reset(){}static extractPureBits(r){const a=r.getTopLeftOnBit(),l=r.getBottomRightOnBit();if(a==null||l==null)throw new nt;const u=this.moduleSize(a,r);let c=a[1];const f=l[1];let g=a[0];const E=(l[0]-g+1)/u,_=(f-c+1)/u;if(E<=0||_<=0)throw new nt;const S=u/2;c+=S,g+=S;const N=new Gt(E,_);for(let U=0;U<_;U++){const Y=c+U*u;for(let Q=0;Q<E;Q++)r.get(g+Q*u,Y)&&N.set(Q,U)}return N}static moduleSize(r,a){const l=a.getWidth();let u=r[0];const c=r[1];for(;u<l&&a.get(u,c);)u++;if(u===l)throw new nt;const f=u-r[0];if(f===0)throw new nt;return f}}Ti.NO_POINTS=[];class La extends On{constructor(r=500){super(new Ti,r)}}var qi;(function(b){b[b.L=0]="L",b[b.M=1]="M",b[b.Q=2]="Q",b[b.H=3]="H"})(qi||(qi={}));class be{constructor(r,a,l){this.value=r,this.stringValue=a,this.bits=l,be.FOR_BITS.set(l,this),be.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return be.L;case"M":return be.M;case"Q":return be.Q;case"H":return be.H;default:throw new w(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof be))return!1;const a=r;return this.value===a.value}static forBits(r){if(r<0||r>=be.FOR_BITS.size)throw new T;return be.FOR_BITS.get(r)}}be.FOR_BITS=new Map,be.FOR_VALUE=new Map,be.L=new be(qi.L,"L",1),be.M=new be(qi.M,"M",0),be.Q=new be(qi.Q,"Q",3),be.H=new be(qi.H,"H",2);class An{constructor(r){this.errorCorrectionLevel=be.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,a){return P.bitCount(r^a)}static decodeFormatInformation(r,a){const l=An.doDecodeFormatInformation(r,a);return l!==null?l:An.doDecodeFormatInformation(r^An.FORMAT_INFO_MASK_QR,a^An.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,a){let l=Number.MAX_SAFE_INTEGER,u=0;for(const c of An.FORMAT_INFO_DECODE_LOOKUP){const f=c[0];if(f===r||f===a)return new An(c[1]);let g=An.numBitsDiffering(r,f);g<l&&(u=c[1],l=g),r!==a&&(g=An.numBitsDiffering(a,f),g<l&&(u=c[1],l=g))}return l<=3?new An(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof An))return!1;const a=r;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}An.FORMAT_INFO_MASK_QR=21522,An.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Z{constructor(r,...a){this.ecCodewordsPerBlock=r,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const a=this.ecBlocks;for(const l of a)r+=l.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(r,a){this.count=r,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Tt{constructor(r,a,...l){this.versionNumber=r,this.alignmentPatternCenters=a,this.ecBlocks=l;let u=0;const c=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const g of f)u+=g.getCount()*(g.getDataCodewords()+c);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new M;try{return this.getVersionForNumber((r-17)/4)}catch{throw new M}}static getVersionForNumber(r){if(r<1||r>40)throw new T;return Tt.VERSIONS[r-1]}static decodeVersionInformation(r){let a=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<Tt.VERSION_DECODE_INFO.length;u++){const c=Tt.VERSION_DECODE_INFO[u];if(c===r)return Tt.getVersionForNumber(u+7);const f=An.numBitsDiffering(r,c);f<a&&(l=u+7,a=f)}return a<=3?Tt.getVersionForNumber(l):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),a=new Gt(r);a.setRegion(0,0,9,9),a.setRegion(r-8,0,8,9),a.setRegion(0,r-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const c=this.alignmentPatternCenters[u]-2;for(let f=0;f<l;f++)u===0&&(f===0||f===l-1)||u===l-1&&f===0||a.setRegion(this.alignmentPatternCenters[f]-2,c,5,5)}return a.setRegion(6,9,1,r-17),a.setRegion(9,6,r-17,1),this.versionNumber>6&&(a.setRegion(r-11,0,3,6),a.setRegion(0,r-11,6,3)),a}toString(){return""+this.versionNumber}}Tt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Tt.VERSIONS=[new Tt(1,new Int32Array(0),new Z(7,new k(1,19)),new Z(10,new k(1,16)),new Z(13,new k(1,13)),new Z(17,new k(1,9))),new Tt(2,Int32Array.from([6,18]),new Z(10,new k(1,34)),new Z(16,new k(1,28)),new Z(22,new k(1,22)),new Z(28,new k(1,16))),new Tt(3,Int32Array.from([6,22]),new Z(15,new k(1,55)),new Z(26,new k(1,44)),new Z(18,new k(2,17)),new Z(22,new k(2,13))),new Tt(4,Int32Array.from([6,26]),new Z(20,new k(1,80)),new Z(18,new k(2,32)),new Z(26,new k(2,24)),new Z(16,new k(4,9))),new Tt(5,Int32Array.from([6,30]),new Z(26,new k(1,108)),new Z(24,new k(2,43)),new Z(18,new k(2,15),new k(2,16)),new Z(22,new k(2,11),new k(2,12))),new Tt(6,Int32Array.from([6,34]),new Z(18,new k(2,68)),new Z(16,new k(4,27)),new Z(24,new k(4,19)),new Z(28,new k(4,15))),new Tt(7,Int32Array.from([6,22,38]),new Z(20,new k(2,78)),new Z(18,new k(4,31)),new Z(18,new k(2,14),new k(4,15)),new Z(26,new k(4,13),new k(1,14))),new Tt(8,Int32Array.from([6,24,42]),new Z(24,new k(2,97)),new Z(22,new k(2,38),new k(2,39)),new Z(22,new k(4,18),new k(2,19)),new Z(26,new k(4,14),new k(2,15))),new Tt(9,Int32Array.from([6,26,46]),new Z(30,new k(2,116)),new Z(22,new k(3,36),new k(2,37)),new Z(20,new k(4,16),new k(4,17)),new Z(24,new k(4,12),new k(4,13))),new Tt(10,Int32Array.from([6,28,50]),new Z(18,new k(2,68),new k(2,69)),new Z(26,new k(4,43),new k(1,44)),new Z(24,new k(6,19),new k(2,20)),new Z(28,new k(6,15),new k(2,16))),new Tt(11,Int32Array.from([6,30,54]),new Z(20,new k(4,81)),new Z(30,new k(1,50),new k(4,51)),new Z(28,new k(4,22),new k(4,23)),new Z(24,new k(3,12),new k(8,13))),new Tt(12,Int32Array.from([6,32,58]),new Z(24,new k(2,92),new k(2,93)),new Z(22,new k(6,36),new k(2,37)),new Z(26,new k(4,20),new k(6,21)),new Z(28,new k(7,14),new k(4,15))),new Tt(13,Int32Array.from([6,34,62]),new Z(26,new k(4,107)),new Z(22,new k(8,37),new k(1,38)),new Z(24,new k(8,20),new k(4,21)),new Z(22,new k(12,11),new k(4,12))),new Tt(14,Int32Array.from([6,26,46,66]),new Z(30,new k(3,115),new k(1,116)),new Z(24,new k(4,40),new k(5,41)),new Z(20,new k(11,16),new k(5,17)),new Z(24,new k(11,12),new k(5,13))),new Tt(15,Int32Array.from([6,26,48,70]),new Z(22,new k(5,87),new k(1,88)),new Z(24,new k(5,41),new k(5,42)),new Z(30,new k(5,24),new k(7,25)),new Z(24,new k(11,12),new k(7,13))),new Tt(16,Int32Array.from([6,26,50,74]),new Z(24,new k(5,98),new k(1,99)),new Z(28,new k(7,45),new k(3,46)),new Z(24,new k(15,19),new k(2,20)),new Z(30,new k(3,15),new k(13,16))),new Tt(17,Int32Array.from([6,30,54,78]),new Z(28,new k(1,107),new k(5,108)),new Z(28,new k(10,46),new k(1,47)),new Z(28,new k(1,22),new k(15,23)),new Z(28,new k(2,14),new k(17,15))),new Tt(18,Int32Array.from([6,30,56,82]),new Z(30,new k(5,120),new k(1,121)),new Z(26,new k(9,43),new k(4,44)),new Z(28,new k(17,22),new k(1,23)),new Z(28,new k(2,14),new k(19,15))),new Tt(19,Int32Array.from([6,30,58,86]),new Z(28,new k(3,113),new k(4,114)),new Z(26,new k(3,44),new k(11,45)),new Z(26,new k(17,21),new k(4,22)),new Z(26,new k(9,13),new k(16,14))),new Tt(20,Int32Array.from([6,34,62,90]),new Z(28,new k(3,107),new k(5,108)),new Z(26,new k(3,41),new k(13,42)),new Z(30,new k(15,24),new k(5,25)),new Z(28,new k(15,15),new k(10,16))),new Tt(21,Int32Array.from([6,28,50,72,94]),new Z(28,new k(4,116),new k(4,117)),new Z(26,new k(17,42)),new Z(28,new k(17,22),new k(6,23)),new Z(30,new k(19,16),new k(6,17))),new Tt(22,Int32Array.from([6,26,50,74,98]),new Z(28,new k(2,111),new k(7,112)),new Z(28,new k(17,46)),new Z(30,new k(7,24),new k(16,25)),new Z(24,new k(34,13))),new Tt(23,Int32Array.from([6,30,54,78,102]),new Z(30,new k(4,121),new k(5,122)),new Z(28,new k(4,47),new k(14,48)),new Z(30,new k(11,24),new k(14,25)),new Z(30,new k(16,15),new k(14,16))),new Tt(24,Int32Array.from([6,28,54,80,106]),new Z(30,new k(6,117),new k(4,118)),new Z(28,new k(6,45),new k(14,46)),new Z(30,new k(11,24),new k(16,25)),new Z(30,new k(30,16),new k(2,17))),new Tt(25,Int32Array.from([6,32,58,84,110]),new Z(26,new k(8,106),new k(4,107)),new Z(28,new k(8,47),new k(13,48)),new Z(30,new k(7,24),new k(22,25)),new Z(30,new k(22,15),new k(13,16))),new Tt(26,Int32Array.from([6,30,58,86,114]),new Z(28,new k(10,114),new k(2,115)),new Z(28,new k(19,46),new k(4,47)),new Z(28,new k(28,22),new k(6,23)),new Z(30,new k(33,16),new k(4,17))),new Tt(27,Int32Array.from([6,34,62,90,118]),new Z(30,new k(8,122),new k(4,123)),new Z(28,new k(22,45),new k(3,46)),new Z(30,new k(8,23),new k(26,24)),new Z(30,new k(12,15),new k(28,16))),new Tt(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new k(3,117),new k(10,118)),new Z(28,new k(3,45),new k(23,46)),new Z(30,new k(4,24),new k(31,25)),new Z(30,new k(11,15),new k(31,16))),new Tt(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new k(7,116),new k(7,117)),new Z(28,new k(21,45),new k(7,46)),new Z(30,new k(1,23),new k(37,24)),new Z(30,new k(19,15),new k(26,16))),new Tt(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new k(5,115),new k(10,116)),new Z(28,new k(19,47),new k(10,48)),new Z(30,new k(15,24),new k(25,25)),new Z(30,new k(23,15),new k(25,16))),new Tt(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new k(13,115),new k(3,116)),new Z(28,new k(2,46),new k(29,47)),new Z(30,new k(42,24),new k(1,25)),new Z(30,new k(23,15),new k(28,16))),new Tt(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new k(17,115)),new Z(28,new k(10,46),new k(23,47)),new Z(30,new k(10,24),new k(35,25)),new Z(30,new k(19,15),new k(35,16))),new Tt(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new k(17,115),new k(1,116)),new Z(28,new k(14,46),new k(21,47)),new Z(30,new k(29,24),new k(19,25)),new Z(30,new k(11,15),new k(46,16))),new Tt(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new k(13,115),new k(6,116)),new Z(28,new k(14,46),new k(23,47)),new Z(30,new k(44,24),new k(7,25)),new Z(30,new k(59,16),new k(1,17))),new Tt(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new k(12,121),new k(7,122)),new Z(28,new k(12,47),new k(26,48)),new Z(30,new k(39,24),new k(14,25)),new Z(30,new k(22,15),new k(41,16))),new Tt(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new k(6,121),new k(14,122)),new Z(28,new k(6,47),new k(34,48)),new Z(30,new k(46,24),new k(10,25)),new Z(30,new k(2,15),new k(64,16))),new Tt(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new k(17,122),new k(4,123)),new Z(28,new k(29,46),new k(14,47)),new Z(30,new k(49,24),new k(10,25)),new Z(30,new k(24,15),new k(46,16))),new Tt(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new k(4,122),new k(18,123)),new Z(28,new k(13,46),new k(32,47)),new Z(30,new k(48,24),new k(14,25)),new Z(30,new k(42,15),new k(32,16))),new Tt(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new k(20,117),new k(4,118)),new Z(28,new k(40,47),new k(7,48)),new Z(30,new k(43,24),new k(22,25)),new Z(30,new k(10,15),new k(67,16))),new Tt(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new k(19,118),new k(6,119)),new Z(28,new k(18,47),new k(31,48)),new Z(30,new k(34,24),new k(34,25)),new Z(30,new k(20,15),new k(61,16)))];var an;(function(b){b[b.DATA_MASK_000=0]="DATA_MASK_000",b[b.DATA_MASK_001=1]="DATA_MASK_001",b[b.DATA_MASK_010=2]="DATA_MASK_010",b[b.DATA_MASK_011=3]="DATA_MASK_011",b[b.DATA_MASK_100=4]="DATA_MASK_100",b[b.DATA_MASK_101=5]="DATA_MASK_101",b[b.DATA_MASK_110=6]="DATA_MASK_110",b[b.DATA_MASK_111=7]="DATA_MASK_111"})(an||(an={}));class In{constructor(r,a){this.value=r,this.isMasked=a}unmaskBitMatrix(r,a){for(let l=0;l<a;l++)for(let u=0;u<a;u++)this.isMasked(l,u)&&r.flip(u,l)}}In.values=new Map([[an.DATA_MASK_000,new In(an.DATA_MASK_000,(b,r)=>(b+r&1)===0)],[an.DATA_MASK_001,new In(an.DATA_MASK_001,(b,r)=>(b&1)===0)],[an.DATA_MASK_010,new In(an.DATA_MASK_010,(b,r)=>r%3===0)],[an.DATA_MASK_011,new In(an.DATA_MASK_011,(b,r)=>(b+r)%3===0)],[an.DATA_MASK_100,new In(an.DATA_MASK_100,(b,r)=>(Math.floor(b/2)+Math.floor(r/3)&1)===0)],[an.DATA_MASK_101,new In(an.DATA_MASK_101,(b,r)=>b*r%6===0)],[an.DATA_MASK_110,new In(an.DATA_MASK_110,(b,r)=>b*r%6<3)],[an.DATA_MASK_111,new In(an.DATA_MASK_111,(b,r)=>(b+r+b*r%3&1)===0)]]);class Jr{constructor(r){const a=r.getHeight();if(a<21||(a&3)!==1)throw new M;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let c=0;c<6;c++)r=this.copyBit(c,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let c=5;c>=0;c--)r=this.copyBit(8,c,r);const a=this.bitMatrix.getHeight();let l=0;const u=a-7;for(let c=a-1;c>=u;c--)l=this.copyBit(8,c,l);for(let c=a-8;c<a;c++)l=this.copyBit(c,8,l);if(this.parsedFormatInfo=An.decodeFormatInformation(r,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),a=Math.floor((r-17)/4);if(a<=6)return Tt.getVersionForNumber(a);let l=0;const u=r-11;for(let f=5;f>=0;f--)for(let g=r-9;g>=u;g--)l=this.copyBit(g,f,l);let c=Tt.decodeVersionInformation(l);if(c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;l=0;for(let f=5;f>=0;f--)for(let g=r-9;g>=u;g--)l=this.copyBit(f,g,l);if(c=Tt.decodeVersionInformation(l),c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;throw new M}copyBit(r,a,l){return(this.isMirror?this.bitMatrix.get(a,r):this.bitMatrix.get(r,a))?l<<1|1:l<<1}readCodewords(){const r=this.readFormatInformation(),a=this.readVersion(),l=In.values.get(r.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const c=a.buildFunctionPattern();let f=!0;const g=new Uint8Array(a.getTotalCodewords());let p=0,E=0,_=0;for(let S=u-1;S>0;S-=2){S===6&&S--;for(let N=0;N<u;N++){const U=f?u-1-N:N;for(let Y=0;Y<2;Y++)c.get(S-Y,U)||(_++,E<<=1,this.bitMatrix.get(S-Y,U)&&(E|=1),_===8&&(g[p++]=E,_=0,E=0))}f=!f}if(p!==a.getTotalCodewords())throw new M;return g}remask(){if(this.parsedFormatInfo===null)return;const r=In.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,a)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let a=0,l=r.getWidth();a<l;a++)for(let u=a+1,c=r.getHeight();u<c;u++)r.get(a,u)!==r.get(u,a)&&(r.flip(u,a),r.flip(a,u))}}class So{constructor(r,a){this.numDataCodewords=r,this.codewords=a}static getDataBlocks(r,a,l){if(r.length!==a.getTotalCodewords())throw new T;const u=a.getECBlocksForLevel(l);let c=0;const f=u.getECBlocks();for(const Y of f)c+=Y.getCount();const g=new Array(c);let p=0;for(const Y of f)for(let Q=0;Q<Y.getCount();Q++){const K=Y.getDataCodewords(),et=u.getECCodewordsPerBlock()+K;g[p++]=new So(K,new Uint8Array(et))}const E=g[0].codewords.length;let _=g.length-1;for(;_>=0&&g[_].codewords.length!==E;)_--;_++;const S=E-u.getECCodewordsPerBlock();let N=0;for(let Y=0;Y<S;Y++)for(let Q=0;Q<p;Q++)g[Q].codewords[Y]=r[N++];for(let Y=_;Y<p;Y++)g[Y].codewords[S]=r[N++];const U=g[0].codewords.length;for(let Y=S;Y<U;Y++)for(let Q=0;Q<p;Q++){const K=Q<_?Y:Y+1;g[Q].codewords[K]=r[N++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Wn;(function(b){b[b.TERMINATOR=0]="TERMINATOR",b[b.NUMERIC=1]="NUMERIC",b[b.ALPHANUMERIC=2]="ALPHANUMERIC",b[b.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",b[b.BYTE=4]="BYTE",b[b.ECI=5]="ECI",b[b.KANJI=6]="KANJI",b[b.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",b[b.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",b[b.HANZI=9]="HANZI"})(Wn||(Wn={}));class bt{constructor(r,a,l,u){this.value=r,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=u,bt.FOR_BITS.set(u,this),bt.FOR_VALUE.set(r,this)}static forBits(r){const a=bt.FOR_BITS.get(r);if(a===void 0)throw new T;return a}getCharacterCountBits(r){const a=r.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof bt))return!1;const a=r;return this.value===a.value}toString(){return this.stringValue}}bt.FOR_BITS=new Map,bt.FOR_VALUE=new Map,bt.TERMINATOR=new bt(Wn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),bt.NUMERIC=new bt(Wn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),bt.ALPHANUMERIC=new bt(Wn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),bt.STRUCTURED_APPEND=new bt(Wn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),bt.BYTE=new bt(Wn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),bt.ECI=new bt(Wn.ECI,"ECI",Int32Array.from([0,0,0]),7),bt.KANJI=new bt(Wn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),bt.FNC1_FIRST_POSITION=new bt(Wn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),bt.FNC1_SECOND_POSITION=new bt(Wn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),bt.HANZI=new bt(Wn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Me{static decode(r,a,l,u){const c=new ri(r);let f=new F;const g=new Array;let p=-1,E=-1;try{let _=null,S=!1,N;do{if(c.available()<4)N=bt.TERMINATOR;else{const U=c.readBits(4);N=bt.forBits(U)}switch(N){case bt.TERMINATOR:break;case bt.FNC1_FIRST_POSITION:case bt.FNC1_SECOND_POSITION:S=!0;break;case bt.STRUCTURED_APPEND:if(c.available()<16)throw new M;p=c.readBits(8),E=c.readBits(8);break;case bt.ECI:const U=Me.parseECIValue(c);if(_=R.getCharacterSetECIByValue(U),_===null)throw new M;break;case bt.HANZI:const Y=c.readBits(4),Q=c.readBits(N.getCharacterCountBits(a));Y===Me.GB2312_SUBSET&&Me.decodeHanziSegment(c,f,Q);break;default:const K=c.readBits(N.getCharacterCountBits(a));switch(N){case bt.NUMERIC:Me.decodeNumericSegment(c,f,K);break;case bt.ALPHANUMERIC:Me.decodeAlphanumericSegment(c,f,K,S);break;case bt.BYTE:Me.decodeByteSegment(c,f,K,_,g,u);break;case bt.KANJI:Me.decodeKanjiSegment(c,f,K);break;default:throw new M}break}}while(N!==bt.TERMINATOR)}catch{throw new M}return new xr(r,f.toString(),g.length===0?null:g,l===null?null:l.toString(),p,E)}static decodeHanziSegment(r,a,l){if(l*13>r.available())throw new M;const u=new Uint8Array(2*l);let c=0;for(;l>0;){const f=r.readBits(13);let g=f/96<<8&4294967295|f%96;g<959?g+=41377:g+=42657,u[c]=g>>8&255,u[c+1]=g&255,c+=2,l--}try{a.append(H.decode(u,G.GB2312))}catch(f){throw new M(f)}}static decodeKanjiSegment(r,a,l){if(l*13>r.available())throw new M;const u=new Uint8Array(2*l);let c=0;for(;l>0;){const f=r.readBits(13);let g=f/192<<8&4294967295|f%192;g<7936?g+=33088:g+=49472,u[c]=g>>8,u[c+1]=g,c+=2,l--}try{a.append(H.decode(u,G.SHIFT_JIS))}catch(f){throw new M(f)}}static decodeByteSegment(r,a,l,u,c,f){if(8*l>r.available())throw new M;const g=new Uint8Array(l);for(let E=0;E<l;E++)g[E]=r.readBits(8);let p;u===null?p=G.guessEncoding(g,f):p=u.getName();try{a.append(H.decode(g,p))}catch(E){throw new M(E)}c.push(g)}static toAlphaNumericChar(r){if(r>=Me.ALPHANUMERIC_CHARS.length)throw new M;return Me.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,a,l,u){const c=a.length();for(;l>1;){if(r.available()<11)throw new M;const f=r.readBits(11);a.append(Me.toAlphaNumericChar(Math.floor(f/45))),a.append(Me.toAlphaNumericChar(f%45)),l-=2}if(l===1){if(r.available()<6)throw new M;a.append(Me.toAlphaNumericChar(r.readBits(6)))}if(u)for(let f=c;f<a.length();f++)a.charAt(f)==="%"&&(f<a.length()-1&&a.charAt(f+1)==="%"?a.deleteCharAt(f+1):a.setCharAt(f,""))}static decodeNumericSegment(r,a,l){for(;l>=3;){if(r.available()<10)throw new M;const u=r.readBits(10);if(u>=1e3)throw new M;a.append(Me.toAlphaNumericChar(Math.floor(u/100))),a.append(Me.toAlphaNumericChar(Math.floor(u/10)%10)),a.append(Me.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(r.available()<7)throw new M;const u=r.readBits(7);if(u>=100)throw new M;a.append(Me.toAlphaNumericChar(Math.floor(u/10))),a.append(Me.toAlphaNumericChar(u%10))}else if(l===1){if(r.available()<4)throw new M;const u=r.readBits(4);if(u>=10)throw new M;a.append(Me.toAlphaNumericChar(u))}}static parseECIValue(r){const a=r.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const l=r.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=r.readBits(16);return(a&31)<<16&4294967295|l}throw new M}}Me.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Me.GB2312_SUBSET=1;class eu{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const a=r[0];r[0]=r[2],r[2]=a}}class Rs{constructor(){this.rsDecoder=new or(qt.QR_CODE_FIELD_256)}decodeBooleanArray(r,a){return this.decodeBitMatrix(Gt.parseFromBooleanArray(r),a)}decodeBitMatrix(r,a){const l=new Jr(r);let u=null;try{return this.decodeBitMatrixParser(l,a)}catch(c){u=c}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const c=this.decodeBitMatrixParser(l,a);return c.setOther(new eu(!0)),c}catch(c){throw u!==null?u:c}}decodeBitMatrixParser(r,a){const l=r.readVersion(),u=r.readFormatInformation().getErrorCorrectionLevel(),c=r.readCodewords(),f=So.getDataBlocks(c,l,u);let g=0;for(const _ of f)g+=_.getNumDataCodewords();const p=new Uint8Array(g);let E=0;for(const _ of f){const S=_.getCodewords(),N=_.getNumDataCodewords();this.correctErrors(S,N);for(let U=0;U<N;U++)p[E++]=S[U]}return Me.decode(p,l,u,a)}correctErrors(r,a){const l=new Int32Array(r);try{this.rsDecoder.decode(l,r.length-a)}catch{throw new I}for(let u=0;u<a;u++)r[u]=l[u]}}class nu extends Et{constructor(r,a,l){super(r,a),this.estimatedModuleSize=l}aboutEquals(r,a,l){if(Math.abs(a-this.getY())<=r&&Math.abs(l-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,a,l){const u=(this.getX()+a)/2,c=(this.getY()+r)/2,f=(this.estimatedModuleSize+l)/2;return new nu(u,c,f)}}class vo{constructor(r,a,l,u,c,f,g){this.image=r,this.startX=a,this.startY=l,this.width=u,this.height=c,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,a=this.height,l=this.width,u=r+l,c=this.startY+a/2,f=new Int32Array(3),g=this.image;for(let p=0;p<a;p++){const E=c+(p&1?-Math.floor((p+1)/2):Math.floor((p+1)/2));f[0]=0,f[1]=0,f[2]=0;let _=r;for(;_<u&&!g.get(_,E);)_++;let S=0;for(;_<u;){if(g.get(_,E))if(S===1)f[1]++;else if(S===2){if(this.foundPatternCross(f)){const N=this.handlePossibleCenter(f,E,_);if(N!==null)return N}f[0]=f[2],f[1]=1,f[2]=0,S=1}else f[++S]++;else S===1&&S++,f[S]++;_++}if(this.foundPatternCross(f)){const N=this.handlePossibleCenter(f,E,u);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new nt}static centerFromEnd(r,a){return a-r[2]-r[1]/2}foundPatternCross(r){const a=this.moduleSize,l=a/2;for(let u=0;u<3;u++)if(Math.abs(a-r[u])>=l)return!1;return!0}crossCheckVertical(r,a,l,u){const c=this.image,f=c.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let p=r;for(;p>=0&&c.get(a,p)&&g[1]<=l;)g[1]++,p--;if(p<0||g[1]>l)return NaN;for(;p>=0&&!c.get(a,p)&&g[0]<=l;)g[0]++,p--;if(g[0]>l)return NaN;for(p=r+1;p<f&&c.get(a,p)&&g[1]<=l;)g[1]++,p++;if(p===f||g[1]>l)return NaN;for(;p<f&&!c.get(a,p)&&g[2]<=l;)g[2]++,p++;if(g[2]>l)return NaN;const E=g[0]+g[1]+g[2];return 5*Math.abs(E-u)>=2*u?NaN:this.foundPatternCross(g)?vo.centerFromEnd(g,p):NaN}handlePossibleCenter(r,a,l){const u=r[0]+r[1]+r[2],c=vo.centerFromEnd(r,l),f=this.crossCheckVertical(a,c,2*r[1],u);if(!isNaN(f)){const g=(r[0]+r[1]+r[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(g,f,c))return E.combineEstimate(f,c,g);const p=new nu(c,f,g);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class iu extends Et{constructor(r,a,l,u){super(r,a),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,a,l){if(Math.abs(a-this.getY())<=r&&Math.abs(l-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,a,l){const u=this.count+1,c=(this.count*this.getX()+a)/u,f=(this.count*this.getY()+r)/u,g=(this.count*this.estimatedModuleSize+l)/u;return new iu(c,f,g,u)}}class Cr{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class on{constructor(r,a){this.image=r,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const a=r!=null&&r.get(at.TRY_HARDER)!==void 0,l=r!=null&&r.get(at.PURE_BARCODE)!==void 0,u=this.image,c=u.getHeight(),f=u.getWidth();let g=Math.floor(3*c/(4*on.MAX_MODULES));(g<on.MIN_SKIP||a)&&(g=on.MIN_SKIP);let p=!1;const E=new Int32Array(5);for(let S=g-1;S<c&&!p;S+=g){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let N=0;for(let U=0;U<f;U++)if(u.get(U,S))(N&1)===1&&N++,E[N]++;else if(N&1)E[N]++;else if(N===4)if(on.foundPatternCross(E)){if(this.handlePossibleCenter(E,S,U,l)===!0)if(g=2,this.hasSkipped===!0)p=this.haveMultiplyConfirmedCenters();else{const Q=this.findRowSkip();Q>E[2]&&(S+=Q-E[2]-g,U=f-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,N=3;continue}N=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,N=3;else E[++N]++;on.foundPatternCross(E)&&this.handlePossibleCenter(E,S,f,l)===!0&&(g=E[0],this.hasSkipped&&(p=this.haveMultiplyConfirmedCenters()))}const _=this.selectBestPatterns();return Et.orderBestPatterns(_),new Cr(_)}static centerFromEnd(r,a){return a-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let a=0;for(let c=0;c<5;c++){const f=r[c];if(f===0)return!1;a+=f}if(a<7)return!1;const l=a/7,u=l/2;return Math.abs(l-r[0])<u&&Math.abs(l-r[1])<u&&Math.abs(3*l-r[2])<3*u&&Math.abs(l-r[3])<u&&Math.abs(l-r[4])<u}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,a,l,u){const c=this.getCrossCheckStateCount();let f=0;const g=this.image;for(;r>=f&&a>=f&&g.get(a-f,r-f);)c[2]++,f++;if(r<f||a<f)return!1;for(;r>=f&&a>=f&&!g.get(a-f,r-f)&&c[1]<=l;)c[1]++,f++;if(r<f||a<f||c[1]>l)return!1;for(;r>=f&&a>=f&&g.get(a-f,r-f)&&c[0]<=l;)c[0]++,f++;if(c[0]>l)return!1;const p=g.getHeight(),E=g.getWidth();for(f=1;r+f<p&&a+f<E&&g.get(a+f,r+f);)c[2]++,f++;if(r+f>=p||a+f>=E)return!1;for(;r+f<p&&a+f<E&&!g.get(a+f,r+f)&&c[3]<l;)c[3]++,f++;if(r+f>=p||a+f>=E||c[3]>=l)return!1;for(;r+f<p&&a+f<E&&g.get(a+f,r+f)&&c[4]<l;)c[4]++,f++;if(c[4]>=l)return!1;const _=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(_-u)<2*u&&on.foundPatternCross(c)}crossCheckVertical(r,a,l,u){const c=this.image,f=c.getHeight(),g=this.getCrossCheckStateCount();let p=r;for(;p>=0&&c.get(a,p);)g[2]++,p--;if(p<0)return NaN;for(;p>=0&&!c.get(a,p)&&g[1]<=l;)g[1]++,p--;if(p<0||g[1]>l)return NaN;for(;p>=0&&c.get(a,p)&&g[0]<=l;)g[0]++,p--;if(g[0]>l)return NaN;for(p=r+1;p<f&&c.get(a,p);)g[2]++,p++;if(p===f)return NaN;for(;p<f&&!c.get(a,p)&&g[3]<l;)g[3]++,p++;if(p===f||g[3]>=l)return NaN;for(;p<f&&c.get(a,p)&&g[4]<l;)g[4]++,p++;if(g[4]>=l)return NaN;const E=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(E-u)>=2*u?NaN:on.foundPatternCross(g)?on.centerFromEnd(g,p):NaN}crossCheckHorizontal(r,a,l,u){const c=this.image,f=c.getWidth(),g=this.getCrossCheckStateCount();let p=r;for(;p>=0&&c.get(p,a);)g[2]++,p--;if(p<0)return NaN;for(;p>=0&&!c.get(p,a)&&g[1]<=l;)g[1]++,p--;if(p<0||g[1]>l)return NaN;for(;p>=0&&c.get(p,a)&&g[0]<=l;)g[0]++,p--;if(g[0]>l)return NaN;for(p=r+1;p<f&&c.get(p,a);)g[2]++,p++;if(p===f)return NaN;for(;p<f&&!c.get(p,a)&&g[3]<l;)g[3]++,p++;if(p===f||g[3]>=l)return NaN;for(;p<f&&c.get(p,a)&&g[4]<l;)g[4]++,p++;if(g[4]>=l)return NaN;const E=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(E-u)>=u?NaN:on.foundPatternCross(g)?on.centerFromEnd(g,p):NaN}handlePossibleCenter(r,a,l,u){const c=r[0]+r[1]+r[2]+r[3]+r[4];let f=on.centerFromEnd(r,l),g=this.crossCheckVertical(a,Math.floor(f),r[2],c);if(!isNaN(g)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(g),r[2],c),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(g),Math.floor(f),r[2],c)))){const p=c/7;let E=!1;const _=this.possibleCenters;for(let S=0,N=_.length;S<N;S++){const U=_[S];if(U.aboutEquals(p,g,f)){_[S]=U.combineEstimate(g,f,p),E=!0;break}}if(!E){const S=new iu(f,g,p);_.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=on.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,a=0;const l=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=on.CENTER_QUORUM&&(r++,a+=f.getEstimatedModuleSize());if(r<3)return!1;const u=a/l;let c=0;for(const f of this.possibleCenters)c+=Math.abs(f.getEstimatedModuleSize()-u);return c<=.05*a}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new nt;const a=this.possibleCenters;let l;if(r>3){let u=0,c=0;for(const p of this.possibleCenters){const E=p.getEstimatedModuleSize();u+=E,c+=E*E}l=u/r;let f=Math.sqrt(c/r-l*l);a.sort((p,E)=>{const _=Math.abs(E.getEstimatedModuleSize()-l),S=Math.abs(p.getEstimatedModuleSize()-l);return _<S?-1:_>S?1:0});const g=Math.max(.2*l,f);for(let p=0;p<a.length&&a.length>3;p++){const E=a[p];Math.abs(E.getEstimatedModuleSize()-l)>g&&(a.splice(p,1),p--)}}if(a.length>3){let u=0;for(const c of a)u+=c.getEstimatedModuleSize();l=u/a.length,a.sort((c,f)=>{if(f.getCount()===c.getCount()){const g=Math.abs(f.getEstimatedModuleSize()-l),p=Math.abs(c.getEstimatedModuleSize()-l);return g<p?1:g>p?-1:0}else return f.getCount()-c.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}on.CENTER_QUORUM=2,on.MIN_SKIP=3,on.MAX_MODULES=57;class $r{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(at.NEED_RESULT_POINT_CALLBACK);const l=new on(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(l)}processFinderPatternInfo(r){const a=r.getTopLeft(),l=r.getTopRight(),u=r.getBottomLeft(),c=this.calculateModuleSize(a,l,u);if(c<1)throw new nt("No pattern found in proccess finder.");const f=$r.computeDimension(a,l,u,c),g=Tt.getProvisionalVersionForDimension(f),p=g.getDimensionForVersion()-7;let E=null;if(g.getAlignmentPatternCenters().length>0){const U=l.getX()-a.getX()+u.getX(),Y=l.getY()-a.getY()+u.getY(),Q=1-3/p,K=Math.floor(a.getX()+Q*(U-a.getX())),et=Math.floor(a.getY()+Q*(Y-a.getY()));for(let gt=4;gt<=16;gt<<=1)try{E=this.findAlignmentInRegion(c,K,et,gt);break}catch(mt){if(!(mt instanceof nt))throw mt}}const _=$r.createTransform(a,l,u,E,f),S=$r.sampleGrid(this.image,_,f);let N;return E===null?N=[u,a,l]:N=[u,a,l,E],new vs(S,N)}static createTransform(r,a,l,u,c){const f=c-3.5;let g,p,E,_;return u!==null?(g=u.getX(),p=u.getY(),E=f-3,_=E):(g=a.getX()-r.getX()+l.getX(),p=a.getY()-r.getY()+l.getY(),E=f,_=f),Ln.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,E,_,3.5,f,r.getX(),r.getY(),a.getX(),a.getY(),g,p,l.getX(),l.getY())}static sampleGrid(r,a,l){return ni.getInstance().sampleGridWithTransform(r,l,l,a)}static computeDimension(r,a,l,u){const c=It.round(Et.distance(r,a)/u),f=It.round(Et.distance(r,l)/u);let g=Math.floor((c+f)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new nt("Dimensions could be not found.")}return g}calculateModuleSize(r,a,l){return(this.calculateModuleSizeOneWay(r,a)+this.calculateModuleSizeOneWay(r,l))/2}calculateModuleSizeOneWay(r,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(a.getX()),Math.floor(a.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(r,a,l,u){let c=this.sizeOfBlackWhiteBlackRun(r,a,l,u),f=1,g=r-(l-r);g<0?(f=r/(r-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-r)/(g-r),g=this.image.getWidth()-1);let p=Math.floor(a-(u-a)*f);return f=1,p<0?(f=a/(a-p),p=0):p>=this.image.getHeight()&&(f=(this.image.getHeight()-1-a)/(p-a),p=this.image.getHeight()-1),g=Math.floor(r+(g-r)*f),c+=this.sizeOfBlackWhiteBlackRun(r,a,g,p),c-1}sizeOfBlackWhiteBlackRun(r,a,l,u){const c=Math.abs(u-a)>Math.abs(l-r);if(c){let U=r;r=a,a=U,U=l,l=u,u=U}const f=Math.abs(l-r),g=Math.abs(u-a);let p=-f/2;const E=r<l?1:-1,_=a<u?1:-1;let S=0;const N=l+E;for(let U=r,Y=a;U!==N;U+=E){const Q=c?Y:U,K=c?U:Y;if(S===1===this.image.get(Q,K)){if(S===2)return It.distance(U,Y,r,a);S++}if(p+=g,p>0){if(Y===u)break;Y+=_,p-=f}}return S===2?It.distance(l+E,u,r,a):NaN}findAlignmentInRegion(r,a,l,u){const c=Math.floor(u*r),f=Math.max(0,a-c),g=Math.min(this.image.getWidth()-1,a+c);if(g-f<r*3)throw new nt("Alignment top exceeds estimated module size.");const p=Math.max(0,l-c),E=Math.min(this.image.getHeight()-1,l+c);if(E-p<r*3)throw new nt("Alignment bottom exceeds estimated module size.");return new vo(this.image,f,p,g-f,E-p,r,this.resultPointCallback).find()}}class Ci{constructor(){this.decoder=new Rs}getDecoder(){return this.decoder}decode(r,a){let l,u;if(a!=null&&a.get(at.PURE_BARCODE)!==void 0){const p=Ci.extractPureBits(r.getBlackMatrix());l=this.decoder.decodeBitMatrix(p,a),u=Ci.NO_POINTS}else{const p=new $r(r.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(p.getBits(),a),u=p.getPoints()}l.getOther()instanceof eu&&l.getOther().applyMirroredCorrection(u);const c=new pe(l.getText(),l.getRawBytes(),void 0,u,_t.QR_CODE,void 0),f=l.getByteSegments();f!==null&&c.putMetadata(Ce.BYTE_SEGMENTS,f);const g=l.getECLevel();return g!==null&&c.putMetadata(Ce.ERROR_CORRECTION_LEVEL,g),l.hasStructuredAppend()&&(c.putMetadata(Ce.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),c.putMetadata(Ce.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),c}reset(){}static extractPureBits(r){const a=r.getTopLeftOnBit(),l=r.getBottomRightOnBit();if(a===null||l===null)throw new nt;const u=this.moduleSize(a,r);let c=a[1],f=l[1],g=a[0],p=l[0];if(g>=p||c>=f)throw new nt;if(f-c!==p-g&&(p=g+(f-c),p>=r.getWidth()))throw new nt;const E=Math.round((p-g+1)/u),_=Math.round((f-c+1)/u);if(E<=0||_<=0)throw new nt;if(_!==E)throw new nt;const S=Math.floor(u/2);c+=S,g+=S;const N=g+Math.floor((E-1)*u)-p;if(N>0){if(N>S)throw new nt;g-=N}const U=c+Math.floor((_-1)*u)-f;if(U>0){if(U>S)throw new nt;c-=U}const Y=new Gt(E,_);for(let Q=0;Q<_;Q++){const K=c+Math.floor(Q*u);for(let et=0;et<E;et++)r.get(g+Math.floor(et*u),K)&&Y.set(et,Q)}return Y}static moduleSize(r,a){const l=a.getHeight(),u=a.getWidth();let c=r[0],f=r[1],g=!0,p=0;for(;c<u&&f<l;){if(g!==a.get(c,f)){if(++p===5)break;g=!g}c++,f++}if(c===u||f===l)throw new nt;return(c-r[0])/7}}Ci.NO_POINTS=new Array;class Nt{PDF417Common(){}static getBitCountSum(r){return It.sum(r)}static toIntArray(r){if(r==null||!r.length)return Nt.EMPTY_INT_ARRAY;const a=new Int32Array(r.length);let l=0;for(const u of r)a[l++]=u;return a}static getCodeword(r){const a=O.binarySearch(Nt.SYMBOL_TABLE,r&262143);return a<0?-1:(Nt.CODEWORD_TABLE[a]-1)%Nt.NUMBER_OF_CODEWORDS}}Nt.NUMBER_OF_CODEWORDS=929,Nt.MAX_CODEWORDS_IN_BARCODE=Nt.NUMBER_OF_CODEWORDS-1,Nt.MIN_ROWS_IN_BARCODE=3,Nt.MAX_ROWS_IN_BARCODE=90,Nt.MODULES_IN_CODEWORD=17,Nt.MODULES_IN_STOP_PATTERN=18,Nt.BARS_IN_MODULE=8,Nt.EMPTY_INT_ARRAY=new Int32Array([]),Nt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Nt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ba{constructor(r,a){this.bits=r,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Bt{static detectMultiple(r,a,l){let u=r.getBlackMatrix(),c=Bt.detect(l,u);return c.length||(u=u.clone(),u.rotate180(),c=Bt.detect(l,u)),new Ba(u,c)}static detect(r,a){const l=new Array;let u=0,c=0,f=!1;for(;u<a.getHeight();){const g=Bt.findVertices(a,u,c);if(g[0]==null&&g[3]==null){if(!f)break;f=!1,c=0;for(const p of l)p[1]!=null&&(u=Math.trunc(Math.max(u,p[1].getY()))),p[3]!=null&&(u=Math.max(u,Math.trunc(p[3].getY())));u+=Bt.ROW_STEP;continue}if(f=!0,l.push(g),!r)break;g[2]!=null?(c=Math.trunc(g[2].getX()),u=Math.trunc(g[2].getY())):(c=Math.trunc(g[4].getX()),u=Math.trunc(g[4].getY()))}return l}static findVertices(r,a,l){const u=r.getHeight(),c=r.getWidth(),f=new Array(8);return Bt.copyToResult(f,Bt.findRowsWithPattern(r,u,c,a,l,Bt.START_PATTERN),Bt.INDEXES_START_PATTERN),f[4]!=null&&(l=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY())),Bt.copyToResult(f,Bt.findRowsWithPattern(r,u,c,a,l,Bt.STOP_PATTERN),Bt.INDEXES_STOP_PATTERN),f}static copyToResult(r,a,l){for(let u=0;u<l.length;u++)r[l[u]]=a[u]}static findRowsWithPattern(r,a,l,u,c,f){const g=new Array(4);let p=!1;const E=new Int32Array(f.length);for(;u<a;u+=Bt.ROW_STEP){let S=Bt.findGuardPattern(r,c,u,l,!1,f,E);if(S!=null){for(;u>0;){const N=Bt.findGuardPattern(r,c,--u,l,!1,f,E);if(N!=null)S=N;else{u++;break}}g[0]=new Et(S[0],u),g[1]=new Et(S[1],u),p=!0;break}}let _=u+1;if(p){let S=0,N=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;_<a;_++){const U=Bt.findGuardPattern(r,N[0],_,l,!1,f,E);if(U!=null&&Math.abs(N[0]-U[0])<Bt.MAX_PATTERN_DRIFT&&Math.abs(N[1]-U[1])<Bt.MAX_PATTERN_DRIFT)N=U,S=0;else{if(S>Bt.SKIPPED_ROW_COUNT_MAX)break;S++}}_-=S+1,g[2]=new Et(N[0],_),g[3]=new Et(N[1],_)}return _-u<Bt.BARCODE_MIN_HEIGHT&&O.fill(g,null),g}static findGuardPattern(r,a,l,u,c,f,g){O.fillWithin(g,0,g.length,0);let p=a,E=0;for(;r.get(p,l)&&p>0&&E++<Bt.MAX_PIXEL_DRIFT;)p--;let _=p,S=0,N=f.length;for(let U=c;_<u;_++)if(r.get(_,l)!==U)g[S]++;else{if(S===N-1){if(Bt.patternMatchVariance(g,f,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return new Int32Array([p,_]);p+=g[0]+g[1],q.arraycopy(g,2,g,0,S-1),g[S-1]=0,g[S]=0,S--}else S++;g[S]=1,U=!U}return S===N-1&&Bt.patternMatchVariance(g,f,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE?new Int32Array([p,_-1]):null}static patternMatchVariance(r,a,l){let u=r.length,c=0,f=0;for(let E=0;E<u;E++)c+=r[E],f+=a[E];if(c<f)return 1/0;let g=c/f;l*=g;let p=0;for(let E=0;E<u;E++){let _=r[E],S=a[E]*g,N=_>S?_-S:S-_;if(N>l)return 1/0;p+=N}return p/c}}Bt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Bt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Bt.MAX_AVG_VARIANCE=.42,Bt.MAX_INDIVIDUAL_VARIANCE=.8,Bt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Bt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Bt.MAX_PIXEL_DRIFT=3,Bt.MAX_PATTERN_DRIFT=5,Bt.SKIPPED_ROW_COUNT_MAX=25,Bt.ROW_STEP=5,Bt.BARCODE_MIN_HEIGHT=10;class ln{constructor(r,a){if(a.length===0)throw new T;this.field=r;let l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),q.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let u=0;for(let c of this.coefficients)u=this.field.add(u,c);return u}let a=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)a=this.field.add(this.field.multiply(r,a),this.coefficients[u]);return a}add(r){if(!this.field.equals(r.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let a=this.coefficients,l=r.coefficients;if(a.length>l.length){let f=a;a=l,l=f}let u=new Int32Array(l.length),c=l.length-a.length;q.arraycopy(l,0,u,0,c);for(let f=c;f<l.length;f++)u[f]=this.field.add(a[f-c],l[f]);return new ln(this.field,u)}subtract(r){if(!this.field.equals(r.field))throw new T("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof ln?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new ln(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,u=r.coefficients,c=u.length,f=new Int32Array(l+c-1);for(let g=0;g<l;g++){let p=a[g];for(let E=0;E<c;E++)f[g+E]=this.field.add(f[g+E],this.field.multiply(p,u[E]))}return new ln(this.field,f)}negative(){let r=this.coefficients.length,a=new Int32Array(r);for(let l=0;l<r;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new ln(this.field,a)}multiplyScalar(r){if(r===0)return new ln(this.field,new Int32Array([0]));if(r===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],r);return new ln(this.field,l)}multiplyByMonomial(r,a){if(r<0)throw new T;if(a===0)return new ln(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+r);for(let c=0;c<l;c++)u[c]=this.field.multiply(this.coefficients[c],a);return new ln(this.field,u)}toString(){let r=new F;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(r.append(" - "),l=-l):r.length()>0&&r.append(" + "),(a===0||l!==1)&&r.append(l),a!==0&&(a===1?r.append("x"):(r.append("x^"),r.append(a))))}return r.toString()}}class ru{add(r,a){return(r+a)%this.modulus}subtract(r,a){return(this.modulus+r-a)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new T;return this.logTable[r]}inverse(r){if(r===0)throw new Kr;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,a){return r===0||a===0?0:this.expTable[(this.logTable[r]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class De extends ru{constructor(r,a){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let l=1;for(let u=0;u<r;u++)this.expTable[u]=l,l=l*a%r;for(let u=0;u<r-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new ln(this,new Int32Array([0])),this.one=new ln(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,a){if(r<0)throw new T;if(a===0)return this.zero;let l=new Int32Array(r+1);return l[0]=a,new ln(this,l)}}De.PDF417_GF=new De(Nt.NUMBER_OF_CODEWORDS,3);class Fc{constructor(){this.field=De.PDF417_GF}decode(r,a,l){let u=new ln(this.field,r),c=new Int32Array(a),f=!1;for(let Y=a;Y>0;Y--){let Q=u.evaluateAt(this.field.exp(Y));c[a-Y]=Q,Q!==0&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(l!=null)for(const Y of l){let Q=this.field.exp(r.length-1-Y),K=new ln(this.field,new Int32Array([this.field.subtract(0,Q),1]));g=g.multiply(K)}let p=new ln(this.field,c),E=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),p,a),_=E[0],S=E[1],N=this.findErrorLocations(_),U=this.findErrorMagnitudes(S,_,N);for(let Y=0;Y<N.length;Y++){let Q=r.length-1-this.field.log(N[Y]);if(Q<0)throw I.getChecksumInstance();r[Q]=this.field.subtract(r[Q],U[Y])}return N.length}runEuclideanAlgorithm(r,a,l){if(r.getDegree()<a.getDegree()){let N=r;r=a,a=N}let u=r,c=a,f=this.field.getZero(),g=this.field.getOne();for(;c.getDegree()>=Math.round(l/2);){let N=u,U=f;if(u=c,f=g,u.isZero())throw I.getChecksumInstance();c=N;let Y=this.field.getZero(),Q=u.getCoefficient(u.getDegree()),K=this.field.inverse(Q);for(;c.getDegree()>=u.getDegree()&&!c.isZero();){let et=c.getDegree()-u.getDegree(),gt=this.field.multiply(c.getCoefficient(c.getDegree()),K);Y=Y.add(this.field.buildMonomial(et,gt)),c=c.subtract(u.multiplyByMonomial(et,gt))}g=Y.multiply(f).subtract(U).negative()}let p=g.getCoefficient(0);if(p===0)throw I.getChecksumInstance();let E=this.field.inverse(p),_=g.multiply(E),S=c.multiply(E);return[_,S]}findErrorLocations(r){let a=r.getDegree(),l=new Int32Array(a),u=0;for(let c=1;c<this.field.getSize()&&u<a;c++)r.evaluateAt(c)===0&&(l[u]=this.field.inverse(c),u++);if(u!==a)throw I.getChecksumInstance();return l}findErrorMagnitudes(r,a,l){let u=a.getDegree(),c=new Int32Array(u);for(let E=1;E<=u;E++)c[u-E]=this.field.multiply(E,a.getCoefficient(E));let f=new ln(this.field,c),g=l.length,p=new Int32Array(g);for(let E=0;E<g;E++){let _=this.field.inverse(l[E]),S=this.field.subtract(0,r.evaluateAt(_)),N=this.field.inverse(f.evaluateAt(_));p[E]=this.field.multiply(S,N)}return p}}class ts{constructor(r,a,l,u,c){r instanceof ts?this.constructor_2(r):this.constructor_1(r,a,l,u,c)}constructor_1(r,a,l,u,c){const f=a==null||l==null,g=u==null||c==null;if(f&&g)throw new nt;f?(a=new Et(0,u.getY()),l=new Et(0,c.getY())):g&&(u=new Et(r.getWidth()-1,a.getY()),c=new Et(r.getWidth()-1,l.getY())),this.image=r,this.topLeft=a,this.bottomLeft=l,this.topRight=u,this.bottomRight=c,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),c.getX())),this.minY=Math.trunc(Math.min(a.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),c.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,a){return r==null?a:a==null?r:new ts(r.image,r.topLeft,r.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(r,a,l){let u=this.topLeft,c=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(r>0){let p=l?this.topLeft:this.topRight,E=Math.trunc(p.getY()-r);E<0&&(E=0);let _=new Et(p.getX(),E);l?u=_:f=_}if(a>0){let p=l?this.bottomLeft:this.bottomRight,E=Math.trunc(p.getY()+a);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let _=new Et(p.getX(),E);l?c=_:g=_}return new ts(this.image,u,c,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class jc{constructor(r,a,l,u){this.columnCount=r,this.errorCorrectionLevel=u,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ms{constructor(){this.buffer=""}static form(r,a){let l=-1;function u(f,g,p,E,_,S){if(f==="%%")return"%";if(a[++l]===void 0)return;f=E?parseInt(E.substr(1)):void 0;let N=_?parseInt(_.substr(1)):void 0,U;switch(S){case"s":U=a[l];break;case"c":U=a[l][0];break;case"f":U=parseFloat(a[l]).toFixed(f);break;case"p":U=parseFloat(a[l]).toPrecision(f);break;case"e":U=parseFloat(a[l]).toExponential(f);break;case"x":U=parseInt(a[l]).toString(N||16);break;case"d":U=parseFloat(parseInt(a[l],N||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(N);let Y=parseInt(p),Q=p&&p[0]+""=="0"?"0":" ";for(;U.length<Y;)U=g!==void 0?U+Q:Q+U;return U}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,u)}format(r,...a){this.buffer+=Ms.form(r,a)}toString(){return this.buffer}}class Ds{constructor(r){this.boundingBox=new ts(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let a=this.getCodeword(r);if(a!=null)return a;for(let l=1;l<Ds.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(r)-l;if(u>=0&&(a=this.codewords[u],a!=null)||(u=this.imageRowToCodewordIndex(r)+l,u<this.codewords.length&&(a=this.codewords[u],a!=null)))return a}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,a){this.codewords[this.imageRowToCodewordIndex(r)]=a}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Ms;let a=0;for(const l of this.codewords){if(l==null){r.format("%3d:    |   %n",a++);continue}r.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return r.toString()}}Ds.MAX_NEARBY_DISTANCE=5;class br{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let a=this.values.get(r);a==null&&(a=0),a++,this.values.set(r,a)}getValue(){let r=-1,a=new Array;for(const[l,u]of this.values.entries()){const c={getKey:()=>l,getValue:()=>u};c.getValue()>r?(r=c.getValue(),a=[],a.push(c.getKey())):c.getValue()===r&&a.push(c.getKey())}return Nt.toIntArray(a)}getConfidence(r){return this.values.get(r)}}class lr extends Ds{constructor(r,a){super(r),this._isLeft=a}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,r);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),c=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=-1,E=1,_=0;for(let S=f;S<g;S++){if(a[S]==null)continue;let N=a[S],U=N.getRowNumber()-p;if(U===0)_++;else if(U===1)E=Math.max(E,_),_=1,p=N.getRowNumber();else if(U<0||N.getRowNumber()>=r.getRowCount()||U>S)a[S]=null;else{let Y;E>2?Y=(E-2)*U:Y=U;let Q=Y>=S;for(let K=1;K<=Y&&!Q;K++)Q=a[S-K]!=null;Q?a[S]=null:(p=N.getRowNumber(),_=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let a=new Int32Array(r.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=a.length)continue;a[u]++}return a}adjustIncompleteIndicatorColumnRowNumbers(r){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=this.getCodewords(),p=-1;for(let E=c;E<f;E++){if(g[E]==null)continue;let _=g[E];_.setRowNumberAsRowIndicatorColumn();let S=_.getRowNumber()-p;S===0||(S===1?p=_.getRowNumber():_.getRowNumber()>=r.getRowCount()?g[E]=null:p=_.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),a=new br,l=new br,u=new br,c=new br;for(let g of r){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let p=g.getValue()%30,E=g.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:l.setValue(p*3+1);break;case 1:c.setValue(p/3),u.setValue(p%3);break;case 2:a.setValue(p+1);break}}if(a.getValue().length===0||l.getValue().length===0||u.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Nt.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Nt.MAX_ROWS_IN_BARCODE)return null;let f=new jc(a.getValue()[0],l.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(r,f),f}removeIncorrectCodewords(r,a){for(let l=0;l<r.length;l++){let u=r[l];if(r[l]==null)continue;let c=u.getValue()%30,f=u.getRowNumber();if(f>a.getRowCount()){r[l]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:c*3+1!==a.getRowCountUpperPart()&&(r[l]=null);break;case 1:(Math.trunc(c/3)!==a.getErrorCorrectionLevel()||c%3!==a.getRowCountLowerPart())&&(r[l]=null);break;case 2:c+1!==a.getColumnCount()&&(r[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Os{constructor(r,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Nt.MAX_CODEWORDS_IN_BARCODE,a;do a=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(a,u,l))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<r.length;l++)if(r[l]!=null&&a[l]!=null&&r[l].getRowNumber()===a[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let c=this.detectionResultColumns[u].getCodewords()[l];c!=null&&(c.setRowNumber(r[l].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),c=0;for(let f=this.barcodeColumnCount+1;f>0&&c<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[l];g!=null&&(c=Os.adjustRowNumberIfValid(u,c,g),g.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),c=0;for(let f=1;f<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[l];g!=null&&(c=Os.adjustRowNumberIfValid(u,c,g),g.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(r)?(l.setRowNumber(r),a=0):++a),a}adjustRowNumbers(r,a,l){if(!this.detectionResultColumns[r-1])return;let u=l[a],c=this.detectionResultColumns[r-1].getCodewords(),f=c;this.detectionResultColumns[r+1]!=null&&(f=this.detectionResultColumns[r+1].getCodewords());let g=new Array(14);g[2]=c[a],g[3]=f[a],a>0&&(g[0]=l[a-1],g[4]=c[a-1],g[5]=f[a-1]),a>1&&(g[8]=l[a-2],g[10]=c[a-2],g[11]=f[a-2]),a<l.length-1&&(g[1]=l[a+1],g[6]=c[a+1],g[7]=f[a+1]),a<l.length-2&&(g[9]=l[a+2],g[12]=c[a+2],g[13]=f[a+2]);for(let p of g)if(Os.adjustRowNumber(u,p))return}static adjustRowNumber(r,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===r.getBucket()?(r.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,a){this.detectionResultColumns[r]=a}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Ms;for(let l=0;l<r.getCodewords().length;l++){a.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){a.format("    |   ");continue}let c=this.detectionResultColumns[u].getCodewords()[l];if(c==null){a.format("    |   ");continue}a.format(" %3d|%3d",c.getRowNumber(),c.getValue())}a.format("%n")}return a.toString()}}class Pa{constructor(r,a,l,u){this.rowNumber=Pa.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==Pa.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}Pa.BARCODE_ROW_UNKNOWN=-1;class un{static initialize(){for(let r=0;r<Nt.SYMBOL_TABLE.length;r++){let a=Nt.SYMBOL_TABLE[r],l=a&1;for(let u=0;u<Nt.BARS_IN_MODULE;u++){let c=0;for(;(a&1)===l;)c+=1,a>>=1;l=a&1,un.RATIOS_TABLE[r]||(un.RATIOS_TABLE[r]=new Array(Nt.BARS_IN_MODULE)),un.RATIOS_TABLE[r][Nt.BARS_IN_MODULE-u-1]=Math.fround(c/Nt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let a=un.getDecodedCodewordValue(un.sampleBitCounts(r));return a!==-1?a:un.getClosestDecodedValue(r)}static sampleBitCounts(r){let a=It.sum(r),l=new Int32Array(Nt.BARS_IN_MODULE),u=0,c=0;for(let f=0;f<Nt.MODULES_IN_CODEWORD;f++){let g=a/(2*Nt.MODULES_IN_CODEWORD)+f*a/Nt.MODULES_IN_CODEWORD;c+r[u]<=g&&(c+=r[u],u++),l[u]++}return l}static getDecodedCodewordValue(r){let a=un.getBitValue(r);return Nt.getCodeword(a)===-1?-1:a}static getBitValue(r){let a=0;for(let l=0;l<r.length;l++)for(let u=0;u<r[l];u++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(r){let a=It.sum(r),l=new Array(Nt.BARS_IN_MODULE);if(a>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(r[f]/a);let u=qe.MAX_VALUE,c=-1;this.bSymbolTableReady||un.initialize();for(let f=0;f<un.RATIOS_TABLE.length;f++){let g=0,p=un.RATIOS_TABLE[f];for(let E=0;E<Nt.BARS_IN_MODULE;E++){let _=Math.fround(p[E]-l[E]);if(g+=Math.fround(_*_),g>=u)break}g<u&&(u=g,c=Nt.SYMBOL_TABLE[f])}return c}}un.bSymbolTableReady=!1,un.RATIOS_TABLE=new Array(Nt.SYMBOL_TABLE.length).map(b=>new Array(Nt.BARS_IN_MODULE));class su{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class Io{static parseLong(r,a=void 0){return parseInt(r,a)}}class ka extends y{}ka.kind="NullPointerException";class zc{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,a,l){if(r==null)throw new ka;if(a<0||a>r.length||l<0||a+l>r.length||a+l<0)throw new J;if(l===0)return;for(let u=0;u<l;u++)this.write(r[a+u])}flush(){}close(){}}class No extends y{}class _d extends zc{constructor(r=32){if(super(),this.count=0,r<0)throw new T("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let l=this.buf.length<<1;if(l-r<0&&(l=r),l<0){if(r<0)throw new No;l=P.MAX_VALUE}this.buf=O.copyOfUint8Array(this.buf,l)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,a,l){if(a<0||a>r.length||l<0||a+l-r.length>0)throw new J;this.ensureCapacity(this.count+l),q.arraycopy(r,a,this.buf,this.count,l),this.count+=l}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return O.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var fe;(function(b){b[b.ALPHA=0]="ALPHA",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.PUNCT=3]="PUNCT",b[b.ALPHA_SHIFT=4]="ALPHA_SHIFT",b[b.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(fe||(fe={}));function Ls(){if(typeof window<"u")return window.BigInt||null;if(typeof uu<"u")return uu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Va;function ur(b){if(typeof Va>"u"&&(Va=Ls()),Va===null)throw new Error("BigInt is not supported!");return Va(b)}function au(){let b=[];b[0]=ur(1);let r=ur(900);b[1]=r;for(let a=2;a<16;a++)b[a]=b[a-1]*r;return b}class ${static decode(r,a){let l=new F(""),u=R.ISO8859_1;l.enableDecoding(u);let c=1,f=r[c++],g=new su;for(;c<r[0];){switch(f){case $.TEXT_COMPACTION_MODE_LATCH:c=$.textCompaction(r,c,l);break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:c=$.byteCompaction(f,r,u,c,l);break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[c++]);break;case $.NUMERIC_COMPACTION_MODE_LATCH:c=$.numericCompaction(r,c,l);break;case $.ECI_CHARSET:R.getCharacterSetECIByValue(r[c++]);break;case $.ECI_GENERAL_PURPOSE:c+=2;break;case $.ECI_USER_DEFINED:c++;break;case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=$.decodeMacroBlock(r,c,g);break;case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:throw new M;default:c--,c=$.textCompaction(r,c,l);break}if(c<r.length)f=r[c++];else throw M.getFormatInstance()}if(l.length()===0)throw M.getFormatInstance();let p=new xr(null,l.toString(),null,a);return p.setOther(g),p}static decodeMacroBlock(r,a,l){if(a+$.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw M.getFormatInstance();let u=new Int32Array($.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<$.NUMBER_OF_SEQUENCE_CODEWORDS;g++,a++)u[g]=r[a];l.setSegmentIndex(P.parseInt($.decodeBase900toBase10(u,$.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new F;a=$.textCompaction(r,a,c),l.setFileId(c.toString());let f=-1;for(r[a]===$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=a+1);a<r[0];)switch(r[a]){case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,r[a]){case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new F;a=$.textCompaction(r,a+1,g),l.setFileName(g.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new F;a=$.textCompaction(r,a+1,p),l.setSender(p.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new F;a=$.textCompaction(r,a+1,E),l.setAddressee(E.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let _=new F;a=$.numericCompaction(r,a+1,_),l.setSegmentCount(P.parseInt(_.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let S=new F;a=$.numericCompaction(r,a+1,S),l.setTimestamp(Io.parseLong(S.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new F;a=$.numericCompaction(r,a+1,N),l.setChecksum(P.parseInt(N.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new F;a=$.numericCompaction(r,a+1,U),l.setFileSize(Io.parseLong(U.toString()));break;default:throw M.getFormatInstance()}break;case $.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(f!==-1){let g=a-f;l.isLastSegment()&&g--,l.setOptionalData(O.copyOfRange(r,f,f+g))}return a}static textCompaction(r,a,l){let u=new Int32Array((r[0]-a)*2),c=new Int32Array((r[0]-a)*2),f=0,g=!1;for(;a<r[0]&&!g;){let p=r[a++];if(p<$.TEXT_COMPACTION_MODE_LATCH)u[f]=p/30,u[f+1]=p%30,f+=2;else switch(p){case $.TEXT_COMPACTION_MODE_LATCH:u[f++]=$.TEXT_COMPACTION_MODE_LATCH;break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:a--,g=!0;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=r[a++],c[f]=p,f++;break}}return $.decodeTextCompaction(u,c,f,l),a}static decodeTextCompaction(r,a,l,u){let c=fe.ALPHA,f=fe.ALPHA,g=0;for(;g<l;){let p=r[g],E="";switch(c){case fe.ALPHA:if(p<26)E=String.fromCharCode(65+p);else switch(p){case 26:E=" ";break;case $.LL:c=fe.LOWER;break;case $.ML:c=fe.MIXED;break;case $.PS:f=c,c=fe.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:c=fe.ALPHA;break}break;case fe.LOWER:if(p<26)E=String.fromCharCode(97+p);else switch(p){case 26:E=" ";break;case $.AS:f=c,c=fe.ALPHA_SHIFT;break;case $.ML:c=fe.MIXED;break;case $.PS:f=c,c=fe.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:c=fe.ALPHA;break}break;case fe.MIXED:if(p<$.PL)E=$.MIXED_CHARS[p];else switch(p){case $.PL:c=fe.PUNCT;break;case 26:E=" ";break;case $.LL:c=fe.LOWER;break;case $.AL:c=fe.ALPHA;break;case $.PS:f=c,c=fe.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:c=fe.ALPHA;break}break;case fe.PUNCT:if(p<$.PAL)E=$.PUNCT_CHARS[p];else switch(p){case $.PAL:c=fe.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:c=fe.ALPHA;break}break;case fe.ALPHA_SHIFT:if(c=f,p<26)E=String.fromCharCode(65+p);else switch(p){case 26:E=" ";break;case $.TEXT_COMPACTION_MODE_LATCH:c=fe.ALPHA;break}break;case fe.PUNCT_SHIFT:if(c=f,p<$.PAL)E=$.PUNCT_CHARS[p];else switch(p){case $.PAL:c=fe.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:c=fe.ALPHA;break}break}E!==""&&u.append(E),g++}}static byteCompaction(r,a,l,u,c){let f=new _d,g=0,p=0,E=!1;switch(r){case $.BYTE_COMPACTION_MODE_LATCH:let _=new Int32Array(6),S=a[u++];for(;u<a[0]&&!E;)switch(_[g++]=S,p=900*p+S,S=a[u++],S){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:u--,E=!0;break;default:if(g%5===0&&g>0){for(let N=0;N<6;++N)f.write(Number(ur(p)>>ur(8*(5-N))));p=0,g=0}break}u===a[0]&&S<$.TEXT_COMPACTION_MODE_LATCH&&(_[g++]=S);for(let N=0;N<g;N++)f.write(_[N]);break;case $.BYTE_COMPACTION_MODE_LATCH_6:for(;u<a[0]&&!E;){let N=a[u++];if(N<$.TEXT_COMPACTION_MODE_LATCH)g++,p=900*p+N;else switch(N){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:u--,E=!0;break}if(g%5===0&&g>0){for(let U=0;U<6;++U)f.write(Number(ur(p)>>ur(8*(5-U))));p=0,g=0}}break}return c.append(H.decode(f.toByteArray(),l)),u}static numericCompaction(r,a,l){let u=0,c=!1,f=new Int32Array($.MAX_NUMERIC_CODEWORDS);for(;a<r[0]&&!c;){let g=r[a++];if(a===r[0]&&(c=!0),g<$.TEXT_COMPACTION_MODE_LATCH)f[u]=g,u++;else switch(g){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:a--,c=!0;break}(u%$.MAX_NUMERIC_CODEWORDS===0||g===$.NUMERIC_COMPACTION_MODE_LATCH||c)&&u>0&&(l.append($.decodeBase900toBase10(f,u)),u=0)}return a}static decodeBase900toBase10(r,a){let l=ur(0);for(let c=0;c<a;c++)l+=$.EXP900[a-c-1]*ur(r[c]);let u=l.toString();if(u.charAt(0)!=="1")throw new M;return u.substring(1)}}$.TEXT_COMPACTION_MODE_LATCH=900,$.BYTE_COMPACTION_MODE_LATCH=901,$.NUMERIC_COMPACTION_MODE_LATCH=902,$.BYTE_COMPACTION_MODE_LATCH_6=924,$.ECI_USER_DEFINED=925,$.ECI_GENERAL_PURPOSE=926,$.ECI_CHARSET=927,$.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,$.MACRO_PDF417_TERMINATOR=922,$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,$.MAX_NUMERIC_CODEWORDS=15,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,$.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,$.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,$.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,$.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,$.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,$.PL=25,$.LL=27,$.AS=27,$.ML=28,$.AL=28,$.PS=29,$.PAL=29,$.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,$.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",$.EXP900=Ls()?au():[],$.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ft{constructor(){}static decode(r,a,l,u,c,f,g){let p=new ts(r,a,l,u,c),E=null,_=null,S;for(let Y=!0;;Y=!1){if(a!=null&&(E=Ft.getRowIndicatorColumn(r,p,a,!0,f,g)),u!=null&&(_=Ft.getRowIndicatorColumn(r,p,u,!1,f,g)),S=Ft.merge(E,_),S==null)throw nt.getNotFoundInstance();let Q=S.getBoundingBox();if(Y&&Q!=null&&(Q.getMinY()<p.getMinY()||Q.getMaxY()>p.getMaxY()))p=Q;else break}S.setBoundingBox(p);let N=S.getBarcodeColumnCount()+1;S.setDetectionResultColumn(0,E),S.setDetectionResultColumn(N,_);let U=E!=null;for(let Y=1;Y<=N;Y++){let Q=U?Y:N-Y;if(S.getDetectionResultColumn(Q)!==void 0)continue;let K;Q===0||Q===N?K=new lr(p,Q===0):K=new Ds(p),S.setDetectionResultColumn(Q,K);let et=-1,gt=et;for(let mt=p.getMinY();mt<=p.getMaxY();mt++){if(et=Ft.getStartColumn(S,Q,mt,U),et<0||et>p.getMaxX()){if(gt===-1)continue;et=gt}let ht=Ft.detectCodeword(r,p.getMinX(),p.getMaxX(),U,et,mt,f,g);ht!=null&&(K.setCodeword(mt,ht),gt=et,f=Math.min(f,ht.getWidth()),g=Math.max(g,ht.getWidth()))}}return Ft.createDecoderResult(S)}static merge(r,a){if(r==null&&a==null)return null;let l=Ft.getBarcodeMetadata(r,a);if(l==null)return null;let u=ts.merge(Ft.adjustBoundingBox(r),Ft.adjustBoundingBox(a));return new Os(l,u)}static adjustBoundingBox(r){if(r==null)return null;let a=r.getRowHeights();if(a==null)return null;let l=Ft.getMax(a),u=0;for(let g of a)if(u+=l-g,g>0)break;let c=r.getCodewords();for(let g=0;u>0&&c[g]==null;g++)u--;let f=0;for(let g=a.length-1;g>=0&&(f+=l-a[g],!(a[g]>0));g--);for(let g=c.length-1;f>0&&c[g]==null;g--)f--;return r.getBoundingBox().addMissingRows(u,f,r.isLeft())}static getMax(r){let a=-1;for(let l of r)a=Math.max(a,l);return a}static getBarcodeMetadata(r,a){let l;if(r==null||(l=r.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let u;return a==null||(u=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(r,a,l,u,c,f){let g=new lr(a,u);for(let p=0;p<2;p++){let E=p===0?1:-1,_=Math.trunc(Math.trunc(l.getX()));for(let S=Math.trunc(Math.trunc(l.getY()));S<=a.getMaxY()&&S>=a.getMinY();S+=E){let N=Ft.detectCodeword(r,0,r.getWidth(),u,_,S,c,f);N!=null&&(g.setCodeword(S,N),u?_=N.getStartX():_=N.getEndX())}}return g}static adjustCodewordCount(r,a){let l=a[0][1],u=l.getValue(),c=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-Ft.getNumberOfECCodeWords(r.getBarcodeECLevel());if(u.length===0){if(c<1||c>Nt.MAX_CODEWORDS_IN_BARCODE)throw nt.getNotFoundInstance();l.setValue(c)}else u[0]!==c&&l.setValue(c)}static createDecoderResult(r){let a=Ft.createBarcodeMatrix(r);Ft.adjustCodewordCount(r,a);let l=new Array,u=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),c=[],f=new Array;for(let p=0;p<r.getBarcodeRowCount();p++)for(let E=0;E<r.getBarcodeColumnCount();E++){let _=a[p][E+1].getValue(),S=p*r.getBarcodeColumnCount()+E;_.length===0?l.push(S):_.length===1?u[S]=_[0]:(f.push(S),c.push(_))}let g=new Array(c.length);for(let p=0;p<g.length;p++)g[p]=c[p];return Ft.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),u,Nt.toIntArray(l),Nt.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(r,a,l,u,c){let f=new Int32Array(u.length),g=100;for(;g-- >0;){for(let p=0;p<f.length;p++)a[u[p]]=c[p][f[p]];try{return Ft.decodeCodewords(a,r,l)}catch(p){if(!(p instanceof I))throw p}if(f.length===0)throw I.getChecksumInstance();for(let p=0;p<f.length;p++)if(f[p]<c[p].length-1){f[p]++;break}else if(f[p]=0,p===f.length-1)throw I.getChecksumInstance()}throw I.getChecksumInstance()}static createBarcodeMatrix(r){let a=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let u=0;u<a.length;u++)for(let c=0;c<a[u].length;c++)a[u][c]=new br;let l=0;for(let u of r.getDetectionResultColumns()){if(u!=null){for(let c of u.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=0){if(f>=a.length)continue;a[f][l].setValue(c.getValue())}}}l++}return a}static isValidBarcodeColumn(r,a){return a>=0&&a<=r.getBarcodeColumnCount()+1}static getStartColumn(r,a,l,u){let c=u?1:-1,f=null;if(Ft.isValidBarcodeColumn(r,a-c)&&(f=r.getDetectionResultColumn(a-c).getCodeword(l)),f!=null)return u?f.getEndX():f.getStartX();if(f=r.getDetectionResultColumn(a).getCodewordNearby(l),f!=null)return u?f.getStartX():f.getEndX();if(Ft.isValidBarcodeColumn(r,a-c)&&(f=r.getDetectionResultColumn(a-c).getCodewordNearby(l)),f!=null)return u?f.getEndX():f.getStartX();let g=0;for(;Ft.isValidBarcodeColumn(r,a-c);){a-=c;for(let p of r.getDetectionResultColumn(a).getCodewords())if(p!=null)return(u?p.getEndX():p.getStartX())+c*g*(p.getEndX()-p.getStartX());g++}return u?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,a,l,u,c,f,g,p){c=Ft.adjustCodewordStartColumn(r,a,l,u,c,f);let E=Ft.getModuleBitCount(r,a,l,u,c,f);if(E==null)return null;let _,S=It.sum(E);if(u)_=c+S;else{for(let Y=0;Y<E.length/2;Y++){let Q=E[Y];E[Y]=E[E.length-1-Y],E[E.length-1-Y]=Q}_=c,c=_-S}if(!Ft.checkCodewordSkew(S,g,p))return null;let N=un.getDecodedValue(E),U=Nt.getCodeword(N);return U===-1?null:new Pa(c,_,Ft.getCodewordBucketNumber(N),U)}static getModuleBitCount(r,a,l,u,c,f){let g=c,p=new Int32Array(8),E=0,_=u?1:-1,S=u;for(;(u?g<l:g>=a)&&E<p.length;)r.get(g,f)===S?(p[E]++,g+=_):(E++,S=!S);return E===p.length||g===(u?l:a)&&E===p.length-1?p:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,a,l,u,c,f){let g=c,p=u?-1:1;for(let E=0;E<2;E++){for(;(u?g>=a:g<l)&&u===r.get(g,f);){if(Math.abs(c-g)>Ft.CODEWORD_SKEW_SIZE)return c;g+=p}p=-p,u=!u}return g}static checkCodewordSkew(r,a,l){return a-Ft.CODEWORD_SKEW_SIZE<=r&&r<=l+Ft.CODEWORD_SKEW_SIZE}static decodeCodewords(r,a,l){if(r.length===0)throw M.getFormatInstance();let u=1<<a+1,c=Ft.correctErrors(r,l,u);Ft.verifyCodewordCount(r,u);let f=$.decode(r,""+a);return f.setErrorsCorrected(c),f.setErasures(l.length),f}static correctErrors(r,a,l){if(a!=null&&a.length>l/2+Ft.MAX_ERRORS||l<0||l>Ft.MAX_EC_CODEWORDS)throw I.getChecksumInstance();return Ft.errorCorrection.decode(r,l,a)}static verifyCodewordCount(r,a){if(r.length<4)throw M.getFormatInstance();let l=r[0];if(l>r.length)throw M.getFormatInstance();if(l===0)if(a<r.length)r[0]=r.length-a;else throw M.getFormatInstance()}static getBitCountForCodeword(r){let a=new Int32Array(8),l=0,u=a.length-1;for(;!((r&1)!==l&&(l=r&1,u--,u<0));)a[u]++,r>>=1;return a}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return Ft.getCodewordBucketNumber(Ft.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let a=new Ms;for(let l=0;l<r.length;l++){a.format("Row %2d: ",l);for(let u=0;u<r[l].length;u++){let c=r[l][u];c.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}a.format("%n")}return a.toString()}}Ft.CODEWORD_SKEW_SIZE=2,Ft.MAX_ERRORS=3,Ft.MAX_EC_CODEWORDS=512,Ft.errorCorrection=new Fc;class We{decode(r,a=null){let l=We.decode(r,a,!1);if(l==null||l.length===0||l[0]==null)throw nt.getNotFoundInstance();return l[0]}decodeMultiple(r,a=null){try{return We.decode(r,a,!0)}catch(l){throw l instanceof M||l instanceof I?nt.getNotFoundInstance():l}}static decode(r,a,l){const u=new Array,c=Bt.detectMultiple(r,a,l);for(const f of c.getPoints()){const g=Ft.decode(c.getBits(),f[4],f[5],f[6],f[7],We.getMinCodewordWidth(f),We.getMaxCodewordWidth(f)),p=new pe(g.getText(),g.getRawBytes(),void 0,f,_t.PDF_417);p.putMetadata(Ce.ERROR_CORRECTION_LEVEL,g.getECLevel());const E=g.getOther();E!=null&&p.putMetadata(Ce.PDF417_EXTRA_METADATA,E),u.push(p)}return u.map(f=>f)}static getMaxWidth(r,a){return r==null||a==null?0:Math.trunc(Math.abs(r.getX()-a.getX()))}static getMinWidth(r,a){return r==null||a==null?P.MAX_VALUE:Math.trunc(Math.abs(r.getX()-a.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(We.getMaxWidth(r[0],r[4]),We.getMaxWidth(r[6],r[2])*Nt.MODULES_IN_CODEWORD/Nt.MODULES_IN_STOP_PATTERN),Math.max(We.getMaxWidth(r[1],r[5]),We.getMaxWidth(r[7],r[3])*Nt.MODULES_IN_CODEWORD/Nt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(We.getMinWidth(r[0],r[4]),We.getMinWidth(r[6],r[2])*Nt.MODULES_IN_CODEWORD/Nt.MODULES_IN_STOP_PATTERN),Math.min(We.getMinWidth(r[1],r[5]),We.getMinWidth(r[7],r[3])*Nt.MODULES_IN_CODEWORD/Nt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ua extends y{}Ua.kind="ReaderException";class ou{constructor(r,a){this.verbose=r===!0,a&&this.setHints(a)}decode(r,a){return a&&this.setHints(a),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const a=!i(r)&&r.get(at.TRY_HARDER)===!0,l=i(r)?null:r.get(at.POSSIBLE_FORMATS),u=new Array;if(!i(l)){const c=l.some(f=>f===_t.UPC_A||f===_t.UPC_E||f===_t.EAN_13||f===_t.EAN_8||f===_t.CODABAR||f===_t.CODE_39||f===_t.CODE_93||f===_t.CODE_128||f===_t.ITF||f===_t.RSS_14||f===_t.RSS_EXPANDED);c&&!a&&u.push(new Tr(r,this.verbose)),l.includes(_t.QR_CODE)&&u.push(new Ci),l.includes(_t.DATA_MATRIX)&&u.push(new Ti),l.includes(_t.AZTEC)&&u.push(new Ct),l.includes(_t.PDF_417)&&u.push(new We),c&&a&&u.push(new Tr(r,this.verbose))}u.length===0&&(a||u.push(new Tr(r,this.verbose)),u.push(new Ci),u.push(new Ti),u.push(new Ct),u.push(new We),a&&u.push(new Tr(r,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Ua("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(r,this.hints)}catch(l){if(l instanceof Ua)continue}throw new nt("No MultiFormat Readers were able to detect the code.")}}class es extends On{constructor(r=null,a=500){const l=new ou;l.setHints(r),super(l,a)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class Hc extends On{constructor(r=500){super(new We,r)}}class Gc extends On{constructor(r=500){super(new Ci,r)}}var Ro;(function(b){b[b.ERROR_CORRECTION=0]="ERROR_CORRECTION",b[b.CHARACTER_SET=1]="CHARACTER_SET",b[b.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",b[b.MIN_SIZE=3]="MIN_SIZE",b[b.MAX_SIZE=4]="MAX_SIZE",b[b.MARGIN=5]="MARGIN",b[b.PDF417_COMPACT=6]="PDF417_COMPACT",b[b.PDF417_COMPACTION=7]="PDF417_COMPACTION",b[b.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",b[b.AZTEC_LAYERS=9]="AZTEC_LAYERS",b[b.QR_VERSION=10]="QR_VERSION"})(Ro||(Ro={}));var Ke=Ro;class Bs{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new Cn(r,Int32Array.from([1])))}buildGenerator(r){const a=this.cachedGenerators;if(r>=a.length){let l=a[a.length-1];const u=this.field;for(let c=a.length;c<=r;c++){const f=l.multiply(new Cn(u,Int32Array.from([1,u.exp(c-1+u.getGeneratorBase())])));a.push(f),l=f}}return a[r]}encode(r,a){if(a===0)throw new T("No error correction bytes");const l=r.length-a;if(l<=0)throw new T("No data bytes provided");const u=this.buildGenerator(a),c=new Int32Array(l);q.arraycopy(r,0,c,0,l);let f=new Cn(this.field,c);f=f.multiplyByMonomial(a,1);const p=f.divide(u)[1].getCoefficients(),E=a-p.length;for(let _=0;_<E;_++)r[l+_]=0;q.arraycopy(p,0,r,l+E,p.length)}}class Kt{constructor(){}static applyMaskPenaltyRule1(r){return Kt.applyMaskPenaltyRule1Internal(r,!0)+Kt.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let a=0;const l=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let f=0;f<c-1;f++){const g=l[f];for(let p=0;p<u-1;p++){const E=g[p];E===g[p+1]&&E===l[f+1][p]&&E===l[f+1][p+1]&&a++}}return Kt.N2*a}static applyMaskPenaltyRule3(r){let a=0;const l=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let f=0;f<c;f++)for(let g=0;g<u;g++){const p=l[f];g+6<u&&p[g]===1&&p[g+1]===0&&p[g+2]===1&&p[g+3]===1&&p[g+4]===1&&p[g+5]===0&&p[g+6]===1&&(Kt.isWhiteHorizontal(p,g-4,g)||Kt.isWhiteHorizontal(p,g+7,g+11))&&a++,f+6<c&&l[f][g]===1&&l[f+1][g]===0&&l[f+2][g]===1&&l[f+3][g]===1&&l[f+4][g]===1&&l[f+5][g]===0&&l[f+6][g]===1&&(Kt.isWhiteVertical(l,g,f-4,f)||Kt.isWhiteVertical(l,g,f+7,f+11))&&a++}return a*Kt.N3}static isWhiteHorizontal(r,a,l){a=Math.max(a,0),l=Math.min(l,r.length);for(let u=a;u<l;u++)if(r[u]===1)return!1;return!0}static isWhiteVertical(r,a,l,u){l=Math.max(l,0),u=Math.min(u,r.length);for(let c=l;c<u;c++)if(r[c][a]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let a=0;const l=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let p=0;p<c;p++){const E=l[p];for(let _=0;_<u;_++)E[_]===1&&a++}const f=r.getHeight()*r.getWidth();return Math.floor(Math.abs(a*2-f)*10/f)*Kt.N4}static getDataMaskBit(r,a,l){let u,c;switch(r){case 0:u=l+a&1;break;case 1:u=l&1;break;case 2:u=a%3;break;case 3:u=(l+a)%3;break;case 4:u=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:c=l*a,u=(c&1)+c%3;break;case 6:c=l*a,u=(c&1)+c%3&1;break;case 7:c=l*a,u=c%3+(l+a&1)&1;break;default:throw new T("Invalid mask pattern: "+r)}return u===0}static applyMaskPenaltyRule1Internal(r,a){let l=0;const u=a?r.getHeight():r.getWidth(),c=a?r.getWidth():r.getHeight(),f=r.getArray();for(let g=0;g<u;g++){let p=0,E=-1;for(let _=0;_<c;_++){const S=a?f[g][_]:f[_][g];S===E?p++:(p>=5&&(l+=Kt.N1+(p-5)),p=1,E=S)}p>=5&&(l+=Kt.N1+(p-5))}return l}}Kt.N1=3,Kt.N2=3,Kt.N3=40,Kt.N4=10;class Fa{constructor(r,a){this.width=r,this.height=a;const l=new Array(a);for(let u=0;u!==a;u++)l[u]=new Uint8Array(r);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(r,a){return this.bytes[a][r]}getArray(){return this.bytes}setNumber(r,a,l){this.bytes[a][r]=l}setBoolean(r,a,l){this.bytes[a][r]=l?1:0}clear(r){for(const a of this.bytes)O.fill(a,r)}equals(r){if(!(r instanceof Fa))return!1;const a=r;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,u=this.height;l<u;++l){const c=this.bytes[l],f=a.bytes[l];for(let g=0,p=this.width;g<p;++g)if(c[g]!==f[g])return!1}return!0}toString(){const r=new F;for(let a=0,l=this.height;a<l;++a){const u=this.bytes[a];for(let c=0,f=this.width;c<f;++c)switch(u[c]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class Sr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new F;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<Sr.NUM_MASK_PATTERNS}}Sr.NUM_MASK_PATTERNS=8;class ae extends y{}ae.kind="WriterException";class d{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,a,l,u,c){d.clearMatrix(c),d.embedBasicPatterns(l,c),d.embedTypeInfo(a,u,c),d.maybeEmbedVersionInfo(l,c),d.embedDataBits(r,u,c)}static embedBasicPatterns(r,a){d.embedPositionDetectionPatternsAndSeparators(a),d.embedDarkDotAtLeftBottomCorner(a),d.maybeEmbedPositionAdjustmentPatterns(r,a),d.embedTimingPatterns(a)}static embedTypeInfo(r,a,l){const u=new j;d.makeTypeInfoBits(r,a,u);for(let c=0,f=u.getSize();c<f;++c){const g=u.get(u.getSize()-1-c),p=d.TYPE_INFO_COORDINATES[c],E=p[0],_=p[1];if(l.setBoolean(E,_,g),c<8){const S=l.getWidth()-c-1;l.setBoolean(S,8,g)}else{const N=l.getHeight()-7+(c-8);l.setBoolean(8,N,g)}}}static maybeEmbedVersionInfo(r,a){if(r.getVersionNumber()<7)return;const l=new j;d.makeVersionInfoBits(r,l);let u=6*3-1;for(let c=0;c<6;++c)for(let f=0;f<3;++f){const g=l.get(u);u--,a.setBoolean(c,a.getHeight()-11+f,g),a.setBoolean(a.getHeight()-11+f,c,g)}}static embedDataBits(r,a,l){let u=0,c=-1,f=l.getWidth()-1,g=l.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);g>=0&&g<l.getHeight();){for(let p=0;p<2;++p){const E=f-p;if(!d.isEmpty(l.get(E,g)))continue;let _;u<r.getSize()?(_=r.get(u),++u):_=!1,a!==255&&Kt.getDataMaskBit(a,E,g)&&(_=!_),l.setBoolean(E,g,_)}g+=c}c=-c,g+=c,f-=2}if(u!==r.getSize())throw new ae("Not all bits consumed: "+u+"/"+r.getSize())}static findMSBSet(r){return 32-P.numberOfLeadingZeros(r)}static calculateBCHCode(r,a){if(a===0)throw new T("0 polynomial");const l=d.findMSBSet(a);for(r<<=l-1;d.findMSBSet(r)>=l;)r^=a<<d.findMSBSet(r)-l;return r}static makeTypeInfoBits(r,a,l){if(!Sr.isValidMaskPattern(a))throw new ae("Invalid mask pattern");const u=r.getBits()<<3|a;l.appendBits(u,5);const c=d.calculateBCHCode(u,d.TYPE_INFO_POLY);l.appendBits(c,10);const f=new j;if(f.appendBits(d.TYPE_INFO_MASK_PATTERN,15),l.xor(f),l.getSize()!==15)throw new ae("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(r,a){a.appendBits(r.getVersionNumber(),6);const l=d.calculateBCHCode(r.getVersionNumber(),d.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new ae("should not happen but we got: "+a.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let a=8;a<r.getWidth()-8;++a){const l=(a+1)%2;d.isEmpty(r.get(a,6))&&r.setNumber(a,6,l),d.isEmpty(r.get(6,a))&&r.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new ae;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,a,l){for(let u=0;u<8;++u){if(!d.isEmpty(l.get(r+u,a)))throw new ae;l.setNumber(r+u,a,0)}}static embedVerticalSeparationPattern(r,a,l){for(let u=0;u<7;++u){if(!d.isEmpty(l.get(r,a+u)))throw new ae;l.setNumber(r,a+u,0)}}static embedPositionAdjustmentPattern(r,a,l){for(let u=0;u<5;++u){const c=d.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)l.setNumber(r+f,a+u,c[f])}}static embedPositionDetectionPattern(r,a,l){for(let u=0;u<7;++u){const c=d.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)l.setNumber(r+f,a+u,c[f])}}static embedPositionDetectionPatternsAndSeparators(r){const a=d.POSITION_DETECTION_PATTERN[0].length;d.embedPositionDetectionPattern(0,0,r),d.embedPositionDetectionPattern(r.getWidth()-a,0,r),d.embedPositionDetectionPattern(0,r.getWidth()-a,r);const l=8;d.embedHorizontalSeparationPattern(0,l-1,r),d.embedHorizontalSeparationPattern(r.getWidth()-l,l-1,r),d.embedHorizontalSeparationPattern(0,r.getWidth()-l,r);const u=7;d.embedVerticalSeparationPattern(u,0,r),d.embedVerticalSeparationPattern(r.getHeight()-u-1,0,r),d.embedVerticalSeparationPattern(u,r.getHeight()-u,r)}static maybeEmbedPositionAdjustmentPatterns(r,a){if(r.getVersionNumber()<2)return;const l=r.getVersionNumber()-1,u=d.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let c=0,f=u.length;c!==f;c++){const g=u[c];if(g>=0)for(let p=0;p!==f;p++){const E=u[p];E>=0&&d.isEmpty(a.get(E,g))&&d.embedPositionAdjustmentPattern(E-2,g-2,a)}}}}d.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),d.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),d.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),d.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),d.VERSION_INFO_POLY=7973,d.TYPE_INFO_POLY=1335,d.TYPE_INFO_MASK_PATTERN=21522;class A{constructor(r,a){this.dataBytes=r,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class C{constructor(){}static calculateMaskPenalty(r){return Kt.applyMaskPenaltyRule1(r)+Kt.applyMaskPenaltyRule2(r)+Kt.applyMaskPenaltyRule3(r)+Kt.applyMaskPenaltyRule4(r)}static encode(r,a,l=null){let u=C.DEFAULT_BYTE_MODE_ENCODING;const c=l!==null&&l.get(Ke.CHARACTER_SET)!==void 0;c&&(u=l.get(Ke.CHARACTER_SET).toString());const f=this.chooseMode(r,u),g=new j;if(f===bt.BYTE&&(c||C.DEFAULT_BYTE_MODE_ENCODING!==u)){const mt=R.getCharacterSetECIByName(u);mt!==void 0&&this.appendECI(mt,g)}this.appendModeInfo(f,g);const p=new j;this.appendBytes(r,f,p,u);let E;if(l!==null&&l.get(Ke.QR_VERSION)!==void 0){const mt=Number.parseInt(l.get(Ke.QR_VERSION).toString(),10);E=Tt.getVersionForNumber(mt);const ht=this.calculateBitsNeeded(f,g,p,E);if(!this.willFit(ht,E,a))throw new ae("Data too big for requested version")}else E=this.recommendVersion(a,f,g,p);const _=new j;_.appendBitArray(g);const S=f===bt.BYTE?p.getSizeInBytes():r.length;this.appendLengthInfo(S,E,f,_),_.appendBitArray(p);const N=E.getECBlocksForLevel(a),U=E.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(U,_);const Y=this.interleaveWithECBytes(_,E.getTotalCodewords(),U,N.getNumBlocks()),Q=new Sr;Q.setECLevel(a),Q.setMode(f),Q.setVersion(E);const K=E.getDimensionForVersion(),et=new Fa(K,K),gt=this.chooseMaskPattern(Y,a,E,et);return Q.setMaskPattern(gt),d.buildMatrix(Y,a,E,gt,et),Q.setMatrix(et),Q}static recommendVersion(r,a,l,u){const c=this.calculateBitsNeeded(a,l,u,Tt.getVersionForNumber(1)),f=this.chooseVersion(c,r),g=this.calculateBitsNeeded(a,l,u,f);return this.chooseVersion(g,r)}static calculateBitsNeeded(r,a,l,u){return a.getSize()+r.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(r){return r<C.ALPHANUMERIC_TABLE.length?C.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,a=null){if(R.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(r))return bt.KANJI;let l=!1,u=!1;for(let c=0,f=r.length;c<f;++c){const g=r.charAt(c);if(C.isDigit(g))l=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)u=!0;else return bt.BYTE}return u?bt.ALPHANUMERIC:l?bt.NUMERIC:bt.BYTE}static isOnlyDoubleByteKanji(r){let a;try{a=H.encode(r,R.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const c=a[u]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(r,a,l,u){let c=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<Sr.NUM_MASK_PATTERNS;g++){d.buildMatrix(r,a,l,g,u);let p=this.calculateMaskPenalty(u);p<c&&(c=p,f=g)}return f}static chooseVersion(r,a){for(let l=1;l<=40;l++){const u=Tt.getVersionForNumber(l);if(C.willFit(r,u,a))return u}throw new ae("Data too big")}static willFit(r,a,l){const u=a.getTotalCodewords(),f=a.getECBlocksForLevel(l).getTotalECCodewords(),g=u-f,p=(r+7)/8;return g>=p}static terminateBits(r,a){const l=r*8;if(a.getSize()>l)throw new ae("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let f=0;f<4&&a.getSize()<l;++f)a.appendBit(!1);const u=a.getSize()&7;if(u>0)for(let f=u;f<8;f++)a.appendBit(!1);const c=r-a.getSizeInBytes();for(let f=0;f<c;++f)a.appendBits(f&1?17:236,8);if(a.getSize()!==l)throw new ae("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,a,l,u,c,f){if(u>=l)throw new ae("Block ID too large");const g=r%l,p=l-g,E=Math.floor(r/l),_=E+1,S=Math.floor(a/l),N=S+1,U=E-S,Y=_-N;if(U!==Y)throw new ae("EC bytes mismatch");if(l!==p+g)throw new ae("RS blocks mismatch");if(r!==(S+U)*p+(N+Y)*g)throw new ae("Total bytes mismatch");u<p?(c[0]=S,f[0]=U):(c[0]=N,f[0]=Y)}static interleaveWithECBytes(r,a,l,u){if(r.getSizeInBytes()!==l)throw new ae("Number of bits and data bytes does not match");let c=0,f=0,g=0;const p=new Array;for(let _=0;_<u;++_){const S=new Int32Array(1),N=new Int32Array(1);C.getNumDataBytesAndNumECBytesForBlockID(a,l,u,_,S,N);const U=S[0],Y=new Uint8Array(U);r.toBytes(8*c,Y,0,U);const Q=C.generateECBytes(Y,N[0]);p.push(new A(Y,Q)),f=Math.max(f,U),g=Math.max(g,Q.length),c+=S[0]}if(l!==c)throw new ae("Data bytes does not match offset");const E=new j;for(let _=0;_<f;++_)for(const S of p){const N=S.getDataBytes();_<N.length&&E.appendBits(N[_],8)}for(let _=0;_<g;++_)for(const S of p){const N=S.getErrorCorrectionBytes();_<N.length&&E.appendBits(N[_],8)}if(a!==E.getSizeInBytes())throw new ae("Interleaving error: "+a+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(r,a){const l=r.length,u=new Int32Array(l+a);for(let f=0;f<l;f++)u[f]=r[f]&255;new Bs(qt.QR_CODE_FIELD_256).encode(u,a);const c=new Uint8Array(a);for(let f=0;f<a;f++)c[f]=u[l+f];return c}static appendModeInfo(r,a){a.appendBits(r.getBits(),4)}static appendLengthInfo(r,a,l,u){const c=l.getCharacterCountBits(a);if(r>=1<<c)throw new ae(r+" is bigger than "+((1<<c)-1));u.appendBits(r,c)}static appendBytes(r,a,l,u){switch(a){case bt.NUMERIC:C.appendNumericBytes(r,l);break;case bt.ALPHANUMERIC:C.appendAlphanumericBytes(r,l);break;case bt.BYTE:C.append8BitBytes(r,l,u);break;case bt.KANJI:C.appendKanjiBytes(r,l);break;default:throw new ae("Invalid mode: "+a)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const a=C.getDigit(r);return a>=0&&a<=9}static appendNumericBytes(r,a){const l=r.length;let u=0;for(;u<l;){const c=C.getDigit(r.charAt(u));if(u+2<l){const f=C.getDigit(r.charAt(u+1)),g=C.getDigit(r.charAt(u+2));a.appendBits(c*100+f*10+g,10),u+=3}else if(u+1<l){const f=C.getDigit(r.charAt(u+1));a.appendBits(c*10+f,7),u+=2}else a.appendBits(c,4),u++}}static appendAlphanumericBytes(r,a){const l=r.length;let u=0;for(;u<l;){const c=C.getAlphanumericCode(r.charCodeAt(u));if(c===-1)throw new ae;if(u+1<l){const f=C.getAlphanumericCode(r.charCodeAt(u+1));if(f===-1)throw new ae;a.appendBits(c*45+f,11),u+=2}else a.appendBits(c,6),u++}}static append8BitBytes(r,a,l){let u;try{u=H.encode(r,l)}catch(c){throw new ae(c)}for(let c=0,f=u.length;c!==f;c++){const g=u[c];a.appendBits(g,8)}}static appendKanjiBytes(r,a){let l;try{l=H.encode(r,R.SJIS)}catch(c){throw new ae(c)}const u=l.length;for(let c=0;c<u;c+=2){const f=l[c]&255,g=l[c+1]&255,p=f<<8&4294967295|g;let E=-1;if(p>=33088&&p<=40956?E=p-33088:p>=57408&&p<=60351&&(E=p-49472),E===-1)throw new ae("Invalid byte sequence");const _=(E>>8)*192+(E&255);a.appendBits(_,13)}}static appendECI(r,a){a.appendBits(bt.ECI.getBits(),4),a.appendBits(r.getValue(),8)}}C.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),C.DEFAULT_BYTE_MODE_ENCODING=R.UTF8.getName();class B{write(r,a,l,u=null){if(r.length===0)throw new T("Found empty contents");if(a<0||l<0)throw new T("Requested dimensions are too small: "+a+"x"+l);let c=be.L,f=B.QUIET_ZONE_SIZE;u!==null&&(u.get(Ke.ERROR_CORRECTION)!==void 0&&(c=be.fromString(u.get(Ke.ERROR_CORRECTION).toString())),u.get(Ke.MARGIN)!==void 0&&(f=Number.parseInt(u.get(Ke.MARGIN).toString(),10)));const g=C.encode(r,c,u);return this.renderResult(g,a,l,f)}writeToDom(r,a,l,u,c=null){typeof r=="string"&&(r=document.querySelector(r));const f=this.write(a,l,u,c);r&&r.appendChild(f)}renderResult(r,a,l,u){const c=r.getMatrix();if(c===null)throw new ei;const f=c.getWidth(),g=c.getHeight(),p=f+u*2,E=g+u*2,_=Math.max(a,p),S=Math.max(l,E),N=Math.min(Math.floor(_/p),Math.floor(S/E)),U=Math.floor((_-f*N)/2),Y=Math.floor((S-g*N)/2),Q=this.createSVGElement(_,S);for(let K=0,et=Y;K<g;K++,et+=N)for(let gt=0,mt=U;gt<f;gt++,mt+=N)if(c.get(gt,K)===1){const ht=this.createSvgRectElement(mt,et,N,N);Q.appendChild(ht)}return Q}createSVGElement(r,a){const l=document.createElementNS(B.SVG_NS,"svg");return l.setAttributeNS(null,"height",r.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(r,a,l,u){const c=document.createElementNS(B.SVG_NS,"rect");return c.setAttributeNS(null,"x",r.toString()),c.setAttributeNS(null,"y",a.toString()),c.setAttributeNS(null,"height",l.toString()),c.setAttributeNS(null,"width",u.toString()),c.setAttributeNS(null,"fill","#000000"),c}}B.QUIET_ZONE_SIZE=4,B.SVG_NS="http://www.w3.org/2000/svg";class W{encode(r,a,l,u,c){if(r.length===0)throw new T("Found empty contents");if(a!==_t.QR_CODE)throw new T("Can only encode QR_CODE, but got "+a);if(l<0||u<0)throw new T(`Requested dimensions are too small: ${l}x${u}`);let f=be.L,g=W.QUIET_ZONE_SIZE;c!==null&&(c.get(Ke.ERROR_CORRECTION)!==void 0&&(f=be.fromString(c.get(Ke.ERROR_CORRECTION).toString())),c.get(Ke.MARGIN)!==void 0&&(g=Number.parseInt(c.get(Ke.MARGIN).toString(),10)));const p=C.encode(r,f,c);return W.renderResult(p,l,u,g)}static renderResult(r,a,l,u){const c=r.getMatrix();if(c===null)throw new ei;const f=c.getWidth(),g=c.getHeight(),p=f+u*2,E=g+u*2,_=Math.max(a,p),S=Math.max(l,E),N=Math.min(Math.floor(_/p),Math.floor(S/E)),U=Math.floor((_-f*N)/2),Y=Math.floor((S-g*N)/2),Q=new Gt(_,S);for(let K=0,et=Y;K<g;K++,et+=N)for(let gt=0,mt=U;gt<f;gt++,mt+=N)c.get(gt,K)===1&&Q.setRegion(mt,et,N,N);return Q}}W.QUIET_ZONE_SIZE=4;class tt{encode(r,a,l,u,c){let f;switch(a){case _t.QR_CODE:f=new W;break;default:throw new T("No encoder available for format "+a)}return f.encode(r,a,l,u,c)}}class dt extends St{constructor(r,a,l,u,c,f,g,p){if(super(f,g),this.yuvData=r,this.dataWidth=a,this.dataHeight=l,this.left=u,this.top=c,u+f>a||c+g>l)throw new T("Crop rectangle does not fit within image data.");p&&this.reverseHorizontal(f,g)}getRow(r,a){if(r<0||r>=this.getHeight())throw new T("Requested row is outside the image: "+r);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(r+this.top)*this.dataWidth+this.left;return q.arraycopy(this.yuvData,u,a,0,l),a}getMatrix(){const r=this.getWidth(),a=this.getHeight();if(r===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=r*a,u=new Uint8ClampedArray(l);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return q.arraycopy(this.yuvData,c,u,0,l),u;for(let f=0;f<a;f++){const g=f*r;q.arraycopy(this.yuvData,c,u,g,r),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,a,l,u){return new dt(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+a,l,u,!1)}renderThumbnail(){const r=this.getWidth()/dt.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/dt.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(r*a),u=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let f=0;f<a;f++){const g=f*r;for(let p=0;p<r;p++){const E=u[c+p*dt.THUMBNAIL_SCALE_FACTOR]&255;l[g+p]=4278190080|E*65793}c+=this.dataWidth*dt.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/dt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/dt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,a){const l=this.yuvData;for(let u=0,c=this.top*this.dataWidth+this.left;u<a;u++,c+=this.dataWidth){const f=c+r/2;for(let g=c,p=c+r-1;g<f;g++,p--){const E=l[g];l[g]=l[p],l[p]=E}}}invert(){return new Yt(this)}}dt.THUMBNAIL_SCALE_FACTOR=2;class kt extends St{constructor(r,a,l,u,c,f,g){if(super(a,l),this.dataWidth=u,this.dataHeight=c,this.left=f,this.top=g,r.BYTES_PER_ELEMENT===4){const p=a*l,E=new Uint8ClampedArray(p);for(let _=0;_<p;_++){const S=r[_],N=S>>16&255,U=S>>7&510,Y=S&255;E[_]=(N+U+Y)/4&255}this.luminances=E}else this.luminances=r;if(u===void 0&&(this.dataWidth=a),c===void 0&&(this.dataHeight=l),f===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(r,a){if(r<0||r>=this.getHeight())throw new T("Requested row is outside the image: "+r);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(r+this.top)*this.dataWidth+this.left;return q.arraycopy(this.luminances,u,a,0,l),a}getMatrix(){const r=this.getWidth(),a=this.getHeight();if(r===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=r*a,u=new Uint8ClampedArray(l);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return q.arraycopy(this.luminances,c,u,0,l),u;for(let f=0;f<a;f++){const g=f*r;q.arraycopy(this.luminances,c,u,g,r),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,a,l,u){return new kt(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+r,this.top+a)}invert(){return new Yt(this)}}class Ze extends R{static forName(r){return this.getCharacterSetECIByName(r)}}class de{}de.ISO_8859_1=R.ISO8859_1;class en{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class bi{static singletonList(r){return[r]}static min(r,a){return r.sort(a)[0]}}class ns{constructor(r){this.previous=r}getPrevious(){return this.previous}}class Kn extends ns{constructor(r,a,l){super(r),this.value=a,this.bitCount=l}appendTo(r,a){r.appendBits(this.value,this.bitCount)}add(r,a){return new Kn(this,r,a)}addBinaryShift(r,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Kn(this,r,a)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+P.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Xi extends Kn{constructor(r,a,l){super(r,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(r,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):l===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(r,a){return new Xi(this,r,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Mo(b,r,a){return new Xi(b,r,a)}function is(b,r,a){return new Kn(b,r,a)}const B3=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ps=0,Yc=1,Qi=2,$m=3,vr=4,P3=new Kn(null,0,0),Td=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function k3(b){for(let r of b)O.fill(r,-1);return b[Ps][vr]=0,b[Yc][vr]=0,b[Yc][Ps]=28,b[$m][vr]=0,b[Qi][vr]=0,b[Qi][Ps]=15,b}const t2=k3(O.createInt32Array(6,6));class Ir{constructor(r,a,l,u){this.token=r,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,a){let l=this.bitCount,u=this.token;if(r!==this.mode){let f=Td[this.mode][r];u=is(u,f&65535,f>>16),l+=f>>16}let c=r===Qi?4:5;return u=is(u,a,c),new Ir(u,r,0,l+c)}shiftAndAppend(r,a){let l=this.token,u=this.mode===Qi?4:5;return l=is(l,t2[this.mode][r],u),l=is(l,a,5),new Ir(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(r){let a=this.token,l=this.mode,u=this.bitCount;if(this.mode===vr||this.mode===Qi){let g=Td[l][Ps];a=is(a,g&65535,g>>16),u+=g>>16,l=Ps}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Ir(a,l,this.binaryShiftByteCount+1,u+c);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(r+1)),f}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Mo(a,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ir(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let a=this.bitCount+(Td[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?a+=Ir.calculateBinaryShiftCost(r)-Ir.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(a+=10),a<=r.bitCount}toBitArray(r){let a=[];for(let u=this.endBinaryShift(r.length).token;u!==null;u=u.getPrevious())a.unshift(u);let l=new j;for(const u of a)u.appendTo(l,r);return l}toString(){return G.format("%s bits=%d bytes=%d",B3[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Ir.INITIAL_STATE=new Ir(P3,Ps,0,0);function V3(b){const r=G.getCharCode(" "),a=G.getCharCode("."),l=G.getCharCode(",");b[Ps][r]=1;const u=G.getCharCode("Z"),c=G.getCharCode("A");for(let N=c;N<=u;N++)b[Ps][N]=N-c+2;b[Yc][r]=1;const f=G.getCharCode("z"),g=G.getCharCode("a");for(let N=g;N<=f;N++)b[Yc][N]=N-g+2;b[Qi][r]=1;const p=G.getCharCode("9"),E=G.getCharCode("0");for(let N=E;N<=p;N++)b[Qi][N]=N-E+2;b[Qi][l]=12,b[Qi][a]=13;const _=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let N=0;N<_.length;N++)b[$m][G.getCharCode(_[N])]=N;const S=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<S.length;N++)G.getCharCode(S[N])>0&&(b[vr][G.getCharCode(S[N])]=N);return b}const Cd=V3(O.createInt32Array(5,256));class lu{constructor(r){this.text=r}encode(){const r=G.getCharCode(" "),a=G.getCharCode(`
`);let l=bi.singletonList(Ir.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let f,g=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case G.getCharCode("\r"):f=g===a?2:0;break;case G.getCharCode("."):f=g===r?3:0;break;case G.getCharCode(","):f=g===r?4:0;break;case G.getCharCode(":"):f=g===r?5:0;break;default:f=0}f>0?(l=lu.updateStateListForPair(l,c,f),c++):l=this.updateStateListForChar(l,c)}return bi.min(l,(c,f)=>c.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,a){const l=[];for(let u of r)this.updateStateForChar(u,a,l);return lu.simplifyStates(l)}updateStateForChar(r,a,l){let u=this.text[a]&255,c=Cd[r.getMode()][u]>0,f=null;for(let g=0;g<=vr;g++){let p=Cd[g][u];if(p>0){if(f==null&&(f=r.endBinaryShift(a)),!c||g===r.getMode()||g===Qi){const E=f.latchAndAppend(g,p);l.push(E)}if(!c&&t2[r.getMode()][g]>=0){const E=f.shiftAndAppend(g,p);l.push(E)}}}if(r.getBinaryShiftByteCount()>0||Cd[r.getMode()][u]===0){let g=r.addBinaryShiftChar(a);l.push(g)}}static updateStateListForPair(r,a,l){const u=[];for(let c of r)this.updateStateForPair(c,a,l,u);return this.simplifyStates(u)}static updateStateForPair(r,a,l,u){let c=r.endBinaryShift(a);if(u.push(c.latchAndAppend(vr,l)),r.getMode()!==vr&&u.push(c.shiftAndAppend(vr,l)),l===3||l===4){let f=c.latchAndAppend(Qi,16-l).latchAndAppend(Qi,1);u.push(f)}if(r.getBinaryShiftByteCount()>0){let f=r.addBinaryShiftChar(a).addBinaryShiftChar(a+1);u.push(f)}}static simplifyStates(r){let a=[];for(const l of r){let u=!0;for(const c of a){if(c.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(c)&&(a=a.filter(f=>f!==c))}u&&a.push(l)}return a}}class ce{constructor(){}static encodeBytes(r){return ce.encode(r,ce.DEFAULT_EC_PERCENT,ce.DEFAULT_AZTEC_LAYERS)}static encode(r,a,l){let u=new lu(r).encode(),c=P.truncDivision(u.getSize()*a,100)+11,f=u.getSize()+c,g,p,E,_,S;if(l!==ce.DEFAULT_AZTEC_LAYERS){if(g=l<0,p=Math.abs(l),p>(g?ce.MAX_NB_BITS_COMPACT:ce.MAX_NB_BITS))throw new T(G.format("Illegal value %s for layers",l));E=ce.totalBitsInLayer(p,g),_=ce.WORD_SIZE[p];let ht=E-E%_;if(S=ce.stuffBits(u,_),S.getSize()+c>ht)throw new T("Data to large for user specified layer");if(g&&S.getSize()>_*64)throw new T("Data to large for user specified layer")}else{_=0,S=null;for(let ht=0;;ht++){if(ht>ce.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(g=ht<=3,p=g?ht+1:ht,E=ce.totalBitsInLayer(p,g),f>E)continue;(S==null||_!==ce.WORD_SIZE[p])&&(_=ce.WORD_SIZE[p],S=ce.stuffBits(u,_));let Zt=E-E%_;if(!(g&&S.getSize()>_*64)&&S.getSize()+c<=Zt)break}}let N=ce.generateCheckWords(S,E,_),U=S.getSize()/_,Y=ce.generateModeMessage(g,p,U),Q=(g?11:14)+p*4,K=new Int32Array(Q),et;if(g){et=Q;for(let ht=0;ht<K.length;ht++)K[ht]=ht}else{et=Q+1+2*P.truncDivision(P.truncDivision(Q,2)-1,15);let ht=P.truncDivision(Q,2),Zt=P.truncDivision(et,2);for(let jt=0;jt<ht;jt++){let ai=jt+P.truncDivision(jt,15);K[ht-jt-1]=Zt-ai-1,K[ht+jt]=Zt+ai+1}}let gt=new Gt(et);for(let ht=0,Zt=0;ht<p;ht++){let jt=(p-ht)*4+(g?9:12);for(let ai=0;ai<jt;ai++){let cr=ai*2;for(let oi=0;oi<2;oi++)N.get(Zt+cr+oi)&&gt.set(K[ht*2+oi],K[ht*2+ai]),N.get(Zt+jt*2+cr+oi)&&gt.set(K[ht*2+ai],K[Q-1-ht*2-oi]),N.get(Zt+jt*4+cr+oi)&&gt.set(K[Q-1-ht*2-oi],K[Q-1-ht*2-ai]),N.get(Zt+jt*6+cr+oi)&&gt.set(K[Q-1-ht*2-ai],K[ht*2+oi])}Zt+=jt*8}if(ce.drawModeMessage(gt,g,et,Y),g)ce.drawBullsEye(gt,P.truncDivision(et,2),5);else{ce.drawBullsEye(gt,P.truncDivision(et,2),7);for(let ht=0,Zt=0;ht<P.truncDivision(Q,2)-1;ht+=15,Zt+=16)for(let jt=P.truncDivision(et,2)&1;jt<et;jt+=2)gt.set(P.truncDivision(et,2)-Zt,jt),gt.set(P.truncDivision(et,2)+Zt,jt),gt.set(jt,P.truncDivision(et,2)-Zt),gt.set(jt,P.truncDivision(et,2)+Zt)}let mt=new en;return mt.setCompact(g),mt.setSize(et),mt.setLayers(p),mt.setCodeWords(U),mt.setMatrix(gt),mt}static drawBullsEye(r,a,l){for(let u=0;u<l;u+=2)for(let c=a-u;c<=a+u;c++)r.set(c,a-u),r.set(c,a+u),r.set(a-u,c),r.set(a+u,c);r.set(a-l,a-l),r.set(a-l+1,a-l),r.set(a-l,a-l+1),r.set(a+l,a-l),r.set(a+l,a-l+1),r.set(a+l,a+l-1)}static generateModeMessage(r,a,l){let u=new j;return r?(u.appendBits(a-1,2),u.appendBits(l-1,6),u=ce.generateCheckWords(u,28,4)):(u.appendBits(a-1,5),u.appendBits(l-1,11),u=ce.generateCheckWords(u,40,4)),u}static drawModeMessage(r,a,l,u){let c=P.truncDivision(l,2);if(a)for(let f=0;f<7;f++){let g=c-3+f;u.get(f)&&r.set(g,c-5),u.get(f+7)&&r.set(c+5,g),u.get(20-f)&&r.set(g,c+5),u.get(27-f)&&r.set(c-5,g)}else for(let f=0;f<10;f++){let g=c-5+f+P.truncDivision(f,5);u.get(f)&&r.set(g,c-7),u.get(f+10)&&r.set(c+7,g),u.get(29-f)&&r.set(g,c+7),u.get(39-f)&&r.set(c-7,g)}}static generateCheckWords(r,a,l){let u=r.getSize()/l,c=new Bs(ce.getGF(l)),f=P.truncDivision(a,l),g=ce.bitsToWords(r,l,f);c.encode(g,f-u);let p=a%l,E=new j;E.appendBits(0,p);for(const _ of Array.from(g))E.appendBits(_,l);return E}static bitsToWords(r,a,l){let u=new Int32Array(l),c,f;for(c=0,f=r.getSize()/a;c<f;c++){let g=0;for(let p=0;p<a;p++)g|=r.get(c*a+p)?1<<a-p-1:0;u[c]=g}return u}static getGF(r){switch(r){case 4:return qt.AZTEC_PARAM;case 6:return qt.AZTEC_DATA_6;case 8:return qt.AZTEC_DATA_8;case 10:return qt.AZTEC_DATA_10;case 12:return qt.AZTEC_DATA_12;default:throw new T("Unsupported word size "+r)}}static stuffBits(r,a){let l=new j,u=r.getSize(),c=(1<<a)-2;for(let f=0;f<u;f+=a){let g=0;for(let p=0;p<a;p++)(f+p>=u||r.get(f+p))&&(g|=1<<a-1-p);(g&c)===c?(l.appendBits(g&c,a),f--):g&c?l.appendBits(g,a):(l.appendBits(g|1,a),f--)}return l}static totalBitsInLayer(r,a){return((a?88:112)+16*r)*r}}ce.DEFAULT_EC_PERCENT=33,ce.DEFAULT_AZTEC_LAYERS=0,ce.MAX_NB_BITS=32,ce.MAX_NB_BITS_COMPACT=4,ce.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class qc{encode(r,a,l,u){return this.encodeWithHints(r,a,l,u,null)}encodeWithHints(r,a,l,u,c){let f=de.ISO_8859_1,g=ce.DEFAULT_EC_PERCENT,p=ce.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(Ke.CHARACTER_SET)&&(f=Ze.forName(c.get(Ke.CHARACTER_SET).toString())),c.has(Ke.ERROR_CORRECTION)&&(g=P.parseInt(c.get(Ke.ERROR_CORRECTION).toString())),c.has(Ke.AZTEC_LAYERS)&&(p=P.parseInt(c.get(Ke.AZTEC_LAYERS).toString()))),qc.encodeLayers(r,a,l,u,f,g,p)}static encodeLayers(r,a,l,u,c,f,g){if(a!==_t.AZTEC)throw new T("Can only encode AZTEC, but got "+a);let p=ce.encode(G.getBytes(r,c),f,g);return qc.renderResult(p,l,u)}static renderResult(r,a,l){let u=r.getMatrix();if(u==null)throw new ei;let c=u.getWidth(),f=u.getHeight(),g=Math.max(a,c),p=Math.max(l,f),E=Math.min(g/c,p/f),_=(g-c*E)/2,S=(p-f*E)/2,N=new Gt(g,p);for(let U=0,Y=S;U<f;U++,Y+=E)for(let Q=0,K=_;Q<c;Q++,K+=E)u.get(Q,U)&&N.setRegion(K,Y,E,E);return N}}n.AbstractExpandedDecoder=To,n.ArgumentException=w,n.ArithmeticException=Kr,n.AztecCode=en,n.AztecCodeReader=Ct,n.AztecCodeWriter=qc,n.AztecDecoder=he,n.AztecDetector=ot,n.AztecDetectorResult=Ma,n.AztecEncoder=ce,n.AztecHighLevelEncoder=lu,n.AztecPoint=xn,n.BarcodeFormat=_t,n.Binarizer=X,n.BinaryBitmap=v,n.BitArray=j,n.BitMatrix=Gt,n.BitSource=ri,n.BrowserAztecCodeReader=Ee,n.BrowserBarcodeReader=Jl,n.BrowserCodeReader=On,n.BrowserDatamatrixCodeReader=La,n.BrowserMultiFormatReader=es,n.BrowserPDF417Reader=Hc,n.BrowserQRCodeReader=Gc,n.BrowserQRCodeSvgWriter=B,n.CharacterSetECI=R,n.ChecksumException=I,n.Code128Reader=ct,n.Code39Reader=Lt,n.DataMatrixDecodedBitStreamParser=si,n.DataMatrixReader=Ti,n.DecodeHintType=at,n.DecoderResult=xr,n.DefaultGridSampler=Da,n.DetectorResult=vs,n.EAN13Reader=Xe,n.EncodeHintType=Ke,n.Exception=y,n.FormatException=M,n.GenericGF=qt,n.GenericGFPoly=Cn,n.GlobalHistogramBinarizer=ft,n.GridSampler=xi,n.GridSamplerInstance=ni,n.HTMLCanvasElementLuminanceSource=ie,n.HybridBinarizer=pt,n.ITFReader=Xt,n.IllegalArgumentException=T,n.IllegalStateException=ei,n.InvertedLuminanceSource=Yt,n.LuminanceSource=St,n.MathUtils=It,n.MultiFormatOneDReader=Tr,n.MultiFormatReader=ou,n.MultiFormatWriter=tt,n.NotFoundException=nt,n.OneDReader=Ot,n.PDF417DecodedBitStreamParser=$,n.PDF417DecoderErrorCorrection=Fc,n.PDF417Reader=We,n.PDF417ResultMetadata=su,n.PerspectiveTransform=Ln,n.PlanarYUVLuminanceSource=dt,n.QRCodeByteMatrix=Fa,n.QRCodeDataMask=In,n.QRCodeDecodedBitStreamParser=Me,n.QRCodeDecoderErrorCorrectionLevel=be,n.QRCodeDecoderFormatInformation=An,n.QRCodeEncoder=C,n.QRCodeEncoderQRCode=Sr,n.QRCodeMaskUtil=Kt,n.QRCodeMatrixUtil=d,n.QRCodeMode=bt,n.QRCodeReader=Ci,n.QRCodeVersion=Tt,n.QRCodeWriter=W,n.RGBLuminanceSource=kt,n.RSS14Reader=ke,n.RSSExpandedReader=ut,n.ReaderException=Ua,n.ReedSolomonDecoder=or,n.ReedSolomonEncoder=Bs,n.ReedSolomonException=ar,n.Result=pe,n.ResultMetadataType=Ce,n.ResultPoint=Et,n.StringUtils=G,n.UnsupportedOperationException=z,n.VideoInputDevice=zi,n.WhiteRectangleDetector=yi,n.WriterException=ae,n.ZXingArrays=O,n.ZXingCharset=Ze,n.ZXingInteger=P,n.ZXingStandardCharsets=de,n.ZXingStringBuilder=F,n.ZXingStringEncoding=H,n.ZXingSystem=q,n.createAbstractExpandedDecoder=_r,Object.defineProperty(n,"__esModule",{value:!0})})})(Z1,Z1.exports);var Fe=Z1.exports;const v8=tg(Fe),I8=j3({__proto__:null,default:v8},[Fe]);var Qy=function(){function e(t,n,i){if(this.formatMap=new Map([[wt.QR_CODE,Fe.BarcodeFormat.QR_CODE],[wt.AZTEC,Fe.BarcodeFormat.AZTEC],[wt.CODABAR,Fe.BarcodeFormat.CODABAR],[wt.CODE_39,Fe.BarcodeFormat.CODE_39],[wt.CODE_93,Fe.BarcodeFormat.CODE_93],[wt.CODE_128,Fe.BarcodeFormat.CODE_128],[wt.DATA_MATRIX,Fe.BarcodeFormat.DATA_MATRIX],[wt.MAXICODE,Fe.BarcodeFormat.MAXICODE],[wt.ITF,Fe.BarcodeFormat.ITF],[wt.EAN_13,Fe.BarcodeFormat.EAN_13],[wt.EAN_8,Fe.BarcodeFormat.EAN_8],[wt.PDF_417,Fe.BarcodeFormat.PDF_417],[wt.RSS_14,Fe.BarcodeFormat.RSS_14],[wt.RSS_EXPANDED,Fe.BarcodeFormat.RSS_EXPANDED],[wt.UPC_A,Fe.BarcodeFormat.UPC_A],[wt.UPC_E,Fe.BarcodeFormat.UPC_E],[wt.UPC_EAN_EXTENSION,Fe.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!I8)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var s=this.createZXingFormats(t),o=new Map;o.set(Fe.DecodeHintType.POSSIBLE_FORMATS,s),o.set(Fe.DecodeHintType.TRY_HARDER,!1),this.hints=o}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,s){try{i(n.decode(t))}catch(o){s(o)}})},e.prototype.decode=function(t){var n=new Fe.MultiFormatReader(this.verbose,this.hints),i=new Fe.HTMLCanvasElementLuminanceSource(t),s=new Fe.BinaryBitmap(new Fe.HybridBinarizer(i)),o=n.decode(s);return{text:o.text,format:A3.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,s){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,s=t;i<s.length;i++){var o=s[i];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),N8=function(e,t,n,i){function s(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function m(w){try{y(i.next(w))}catch(T){h(T)}}function x(w){try{y(i.throw(w))}catch(T){h(T)}}function y(w){w.done?o(w.value):s(w.value).then(m,x)}y((i=i.apply(e,t||[])).next())})},R8=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(y){return function(w){return x([y,w])}}function x(y){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(i=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{i=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Wy=function(){function e(t,n,i){if(this.formatMap=new Map([[wt.QR_CODE,"qr_code"],[wt.AZTEC,"aztec"],[wt.CODABAR,"codabar"],[wt.CODE_39,"code_39"],[wt.CODE_93,"code_93"],[wt.CODE_128,"code_128"],[wt.DATA_MATRIX,"data_matrix"],[wt.ITF,"itf"],[wt.EAN_13,"ean_13"],[wt.EAN_8,"ean_8"],[wt.PDF_417,"pdf417"],[wt.UPC_A,"upc_a"],[wt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return N8(this,void 0,void 0,function(){var n,i;return R8(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:A3.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,s=0,o=t;s<o.length;s++){var h=o[s],m=h.boundingBox.width*h.boundingBox.height;m>i&&(i=m,n=h)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,s=t;i<s.length;i++){var o=s[i];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,s){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Ky=function(e,t,n,i){function s(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function m(w){try{y(i.next(w))}catch(T){h(T)}}function x(w){try{y(i.throw(w))}catch(T){h(T)}}function y(w){w.done?o(w.value):s(w.value).then(m,x)}y((i=i.apply(e,t||[])).next())})},Zy=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(y){return function(w){return x([y,w])}}function x(y){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(i=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{i=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},M8=function(){function e(t,n,i,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&Wy.isSupported()?(this.primaryDecoder=new Wy(t,i,s),this.secondaryDecoder=new Qy(t,i,s)):this.primaryDecoder=new Qy(t,i,s)}return e.prototype.decodeAsync=function(t){return Ky(this,void 0,void 0,function(){var n;return Zy(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Ky(this,void 0,void 0,function(){var n,i;return Zy(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(i=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var s=i[n];t+=s}var o=t/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Wm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Df=function(e,t,n,i){function s(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function m(w){try{y(i.next(w))}catch(T){h(T)}}function x(w){try{y(i.throw(w))}catch(T){h(T)}}function y(w){w.done?o(w.value):s(w.value).then(m,x)}y((i=i.apply(e,t||[])).next())})},Of=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(y){return function(w){return x([y,w])}}function x(y){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(i=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{i=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},C3=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),D8=function(e){Wm(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var s={advanced:[i]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(C3),O8=function(e){Wm(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(D8),L8=function(e){Wm(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(C3),B8=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new O8(this.track)},e.prototype.torchFeature=function(){return new L8(this.track)},e}(),P8=function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,s){return Df(this,void 0,void 0,function(){var o,h;return Of(this,function(m){switch(m.label){case 0:return o=new e(t,n,s),i.aspectRatio?(h={aspectRatio:i.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:m.sent(),m.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Df(this,void 0,void 0,function(){return Of(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var s=t.mediaStream.getVideoTracks(),o=s.length,h=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++h,h>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new B8(this.getFirstTrackOrFail())},e}(),k8=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return Df(this,void 0,void 0,function(){return Of(this,function(s){return[2,P8.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return Df(this,void 0,void 0,function(){var n,i;return Of(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=s.sent(),[2,new e(i)]}})})},e}(),Jy=function(e,t,n,i){function s(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function m(w){try{y(i.next(w))}catch(T){h(T)}}function x(w){try{y(i.throw(w))}catch(T){h(T)}}function y(w){w.done?o(w.value):s(w.value).then(m,x)}y((i=i.apply(e,t||[])).next())})},$y=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(y){return function(w){return x([y,w])}}function x(y){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(i=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{i=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},V8=function(){function e(){}return e.failIfNotSupported=function(){return Jy(this,void 0,void 0,function(){return $y(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Jy(this,void 0,void 0,function(){return $y(this,function(n){return[2,k8.create(t)]})})},e}(),U8=function(e,t,n,i){function s(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function m(w){try{y(i.next(w))}catch(T){h(T)}}function x(w){try{y(i.throw(w))}catch(T){h(T)}}function y(w){w.done?o(w.value):s(w.value).then(m,x)}y((i=i.apply(e,t||[])).next())})},F8=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(y){return function(w){return x([y,w])}}function x(y){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(i=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{i=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},j8=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=il.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=il.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return U8(this,void 0,void 0,function(){var t,n,i,s,o,h,m;return F8(this,function(x){switch(x.label){case 0:return t=function(y){for(var w=y.getVideoTracks(),T=0,v=w;T<v.length;T++){var I=v[T];I.enabled=!1,I.stop(),y.removeTrack(I)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=x.sent(),s=[],o=0,h=i;o<h.length;o++)m=h[o],m.kind==="videoinput"&&s.push({id:m.deviceId,label:m.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(o){for(var h=[],m=0,x=o;m<x.length;m++){var y=x[m];y.kind==="video"&&h.push({id:y.id,label:y.label})}t(h)},s=MediaStreamTrack;s.getSources(i)})},e}(),$e;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})($e||($e={}));var z8=function(){function e(){this.state=$e.NOT_STARTED,this.onGoingTransactionNewState=$e.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===$e.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=$e.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===$e.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=$e.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==$e.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case $e.UNKNOWN:throw"Transition from unknown is not allowed";case $e.NOT_STARTED:this.failIfNewStateIs(t,[$e.PAUSED]);break;case $e.SCANNING:break;case $e.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,s=n;i<s.length;i++){var o=s[i];if(t===o)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),H8=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===$e.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==$e.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===$e.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===$e.PAUSED},e}(),G8=function(){function e(){}return e.create=function(){return new H8(new z8)},e}(),Y8=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),vi=function(e){Y8(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(dr),q8=function(){function e(t,n){this.logger=n,this.fps=vi.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=vi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?T3.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Rr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),tx=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new _3(this.verbose),this.qrcode=new M8(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=G8.create()}return e.prototype.start=function(t,n,i,s){var o=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;s?h=s:h=this.verbose?this.logger.log:function(){};var m=q8.create(n,this.logger);this.clearElement();var x=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=x,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:vi.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var T=this,v=this.stateManagerProxy.startTransition($e.SCANNING);return new Promise(function(I,X){var q=y?m.videoConstraints:T.createVideoConstraints(t);if(!q){v.cancel(),X("videoConstraints should be defined");return}var J={};(!y||m.aspectRatio)&&(J.aspectRatio=m.aspectRatio);var V={onRenderSurfaceReady:function(O,P){T.setupUi(O,P,m),T.isScanning=!0,T.foreverScan(m,i,h)}};V8.failIfNotSupported().then(function(O){O.create(q).then(function(P){return P.render(o.element,J,V).then(function(j){T.renderedCamera=j,v.execute(),I(null)}).catch(function(j){v.cancel(),X(j)})}).catch(function(P){v.cancel(),X(il.errorGettingUserMedia(P))})}).catch(function(O){v.cancel(),X(il.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition($e.PAUSED),this.showPausedState(),(Rr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition($e.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition($e.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var o=document.getElementById(vi.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),i(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Rr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,o){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var m=h.width,x=h.height,y=document.getElementById(i.elementId),w=y.clientWidth?y.clientWidth:vi.DEFAULT_WIDTH,T=Math.max(y.clientHeight?y.clientHeight:x,vi.FILE_SCAN_MIN_HEIGHT),v=i.computeCanvasDrawConfig(m,x,w,T);if(n){var I=i.createCanvasElement(w,T,"qr-canvas-visible");I.style.display="inline-block",y.appendChild(I);var X=I.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=w,X.canvas.height=T,X.drawImage(h,0,0,m,x,v.x,v.y,v.width,v.height)}var q=vi.FILE_SCAN_HIDDEN_CANVAS_PADDING,J=Math.max(h.width,v.width),V=Math.max(h.height,v.height),O=J+2*q,P=V+2*q,j=i.createCanvasElement(O,P);y.appendChild(j);var st=j.getContext("2d");if(!st)throw"Unable to get 2d context from canvas";st.canvas.width=O,st.canvas.height=P,st.drawImage(h,0,0,m,x,q,q,J,V);try{i.qrcode.decodeRobustlyAsync(j).then(function(at){s(qy.createFromQrcodeResult(at))}).catch(o)}catch(at){o("QR code parse error, error = ".concat(at))}},h.onerror=o,h.onabort=o,h.onstalled=o,h.onsuspend=o,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return j8.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!T3.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[wt.QR_CODE,wt.AZTEC,wt.CODABAR,wt.CODE_39,wt.CODE_93,wt.CODE_128,wt.DATA_MATRIX,wt.MAXICODE,wt.ITF,wt.EAN_13,wt.EAN_8,wt.PDF_417,wt.RSS_14,wt.RSS_EXPANDED,wt.UPC_A,wt.UPC_E,wt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],s=0,o=t.formatsToSupport;s<o.length;s++){var h=o[s];b8(h)?i.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Rr(t))return!0;if(!Rr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Rr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Rr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var s=this,o=i.qrbox;this.validateQrboxConfig(o);var h=this.toQrdimensions(t,n,o),m=function(y){if(y<vi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(vi.MIN_QR_BOX_SIZE,"px.")},x=function(y){return y>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=t),y};m(h.width),m(h.height),h.width=x(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var s=Rr(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(t,n,s);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=i.isShadedBoxEnabled()&&o.height<=n,m={x:0,y:0,width:t,height:n},x=h?this.getShadedRegionBounds(t,n,o):m,y=this.createCanvasElement(x.width,x.height),w={willReadFrequently:!0},T=y.getContext("2d",w);T.canvas.width=x.width,T.canvas.height=x.height,this.element.append(y),h&&this.possiblyInsertShadingElement(this.element,t,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=T,this.canvasElement=y},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=il.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,qy.createFromQrcodeResult(s)),i.possiblyUpdateShaders(!0),!0}).catch(function(s){i.possiblyUpdateShaders(!1);var o=il.codeParseError(s);return n(o,w3.createFrom(o)),!1})},e.prototype.foreverScan=function(t,n,i){var s=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),h=o.videoWidth/o.clientWidth,m=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*h,y=this.qrRegion.height*m,w=this.qrRegion.x*h,T=this.qrRegion.y*m;this.context.drawImage(o,w,T,x,y,0,0,this.qrRegion.width,this.qrRegion.height);var v=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,i)},s.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(I){!I&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,i).finally(function(){v()})):v()}).catch(function(I){s.logger.logError("Error happend while scanning context",I),v()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",s={user:!0,environment:!0},o="exact",h=function(X){if(X in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(X,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var y=t.facingMode;if(typeof y=="string"){if(h(y))return{facingMode:y}}else if(typeof y=="object")if(o in y){if(h(y["".concat(o)]))return{facingMode:{exact:y["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var w=typeof y;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var T=t.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(o in T)return{deviceId:{exact:T["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var v=typeof T;throw"Invalid type of 'deviceId' = ".concat(v)}}}var I=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(I)},e.prototype.computeCanvasDrawConfig=function(t,n,i,s){if(t<=i&&n<=s){var o=(i-t)/2,h=(s-n)/2;return{x:o,y:h,width:t,height:n}}else{var m=t,x=n;return t>i&&(n=i/t*n,t=i),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?vi.BORDER_SHADER_MATCH_COLOR:vi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var s=t,o=n,h=document.createElement("canvas");return h.style.width="".concat(s,"px"),h.style.height="".concat(o,"px"),h.style.display="none",h.id=Rr(i)?"qr-canvas":i,h},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,s){if(!(n-s.width<1||i-s.height<1)){var o=document.createElement("div");o.style.position="absolute";var h=(n-s.width)/2,m=(i-s.height)/2;if(o.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(vi.SHADED_REGION_ELEMENT_ID),n-s.width<11||i-s.height<11)this.hasBorderShaders=!1;else{var x=5,y=40;this.insertShaderBorders(o,y,x,-x,null,0,!0),this.insertShaderBorders(o,y,x,-x,null,0,!1),this.insertShaderBorders(o,y,x,null,-x,0,!0),this.insertShaderBorders(o,y,x,null,-x,0,!1),this.insertShaderBorders(o,x,y+x,-x,null,-x,!0),this.insertShaderBorders(o,x,y+x,null,-x,-x,!0),this.insertShaderBorders(o,x,y+x,-x,null,-x,!1),this.insertShaderBorders(o,x,y+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(o)}},e.prototype.insertShaderBorders=function(t,n,i,s,o,h,m){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=vi.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(i,"px"),s!==null&&(x.style.top="".concat(s,"px")),o!==null&&(x.style.bottom="".concat(o,"px")),m?x.style.left="".concat(h,"px"):x.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Km="data:image/svg+xml;base64,",X8=Km+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Q8=Km+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",ex=Km+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",W8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",nx=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),K8=function(){function e(){this.data=nx.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=nx.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),Z8=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Xy.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var i=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(i),this.infoDiv.appendChild(s);var o=document.createElement("a");o.innerText=Xy.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),J8=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=ex,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(i){return n.onHoverIn()},this.infoIcon.onmouseout=function(i){return n.onHoverOut()},this.infoIcon.onclick=function(i){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=W8,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=ex,this.infoIcon.style.opacity="0.6")},e}(),$8=function(){function e(){var t=this;this.infoDiv=new Z8,this.infoIcon=new J8(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),tN=function(e,t,n,i){function s(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function m(w){try{y(i.next(w))}catch(T){h(T)}}function x(w){try{y(i.throw(w))}catch(T){h(T)}}function y(w){w.done?o(w.value):s(w.value).then(m,x)}y((i=i.apply(e,t||[])).next())})},eN=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(y){return function(w){return x([y,w])}}function x(y){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(i=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{i=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},ix=function(){function e(){}return e.hasPermissions=function(){return tN(this,void 0,void 0,function(){var t,n,i,s;return eN(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=o.sent(),n=0,i=t;n<i.length;n++)if(s=i[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),Vs=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var i=n[t];if(e.isCameraScanType(i))return!0}return!1},e.isCameraScanType=function(t){return t===Ta.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Ta.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return dr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=dr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var i=0,s=t;i<s.length;i++){var o=s[i];if(!dr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return t},e}(),Di=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),gs=function(){function e(){}return e.createElement=function(t,n){var i=document.createElement(t);return i.id=n,i.classList.add(Di.ALL_ELEMENT_CLASS),t==="button"&&i.setAttribute("type","button"),i},e}(),b3=function(e,t,n,i){function s(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function m(w){try{y(i.next(w))}catch(T){h(T)}}function x(w){try{y(i.throw(w))}catch(T){h(T)}}function y(w){w.done?o(w.value):s(w.value).then(m,x)}y((i=i.apply(e,t||[])).next())})},S3=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(y){return function(w){return x([y,w])}}function x(y){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(i=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{i=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},rx=function(){function e(t,n,i){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=i}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return b3(this,void 0,void 0,function(){var t,n;return S3(this,function(i){switch(i.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return i.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=i.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?_e.torchOffButton():_e.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var i=t?_e.torchOnFailedMessage():_e.torchOffFailedMessage();n&&(i+="; Error = "+n),this.onTorchActionFailureCallback(i)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),nN=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=gs.createElement("button",Di.TORCH_BUTTON_ID),this.torchController=new rx(t,this,n)}return e.prototype.render=function(t,n){var i=this;this.torchButton.innerText=_e.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(o){return b3(i,void 0,void 0,function(){return S3(this,function(h){switch(h.label){case 0:return[4,s.torchController.flipState()];case 1:return h.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(Di.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(Di.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(Di.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(Di.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new rx(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=_e.torchOnButton(),this.torchController.reset()},e.create=function(t,n,i,s){var o=new e(n,s);return o.render(t,i),o},e}(),iN=function(){function e(t,n,i){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=gs.createElement("button",Di.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(m){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=gs.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(m){if(!(m==null||m.target==null)){var x=m.target;if(!(x.files&&x.files.length===0)){var y=x.files,w=y[0],T=w.name;o.setImageNameToButton(T),i(w)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(m){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(m){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(m){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(m){m.stopPropagation(),m.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var x=m.dataTransfer;if(x){var y=x.files;if(!y||y.length===0)return;for(var w=!1,T=0;T<y.length;++T){var v=y.item(T);if(v){var I=/image.*/;if(v.type.match(I)){w=!0;var X=v.name;o.setImageNameToButton(X),i(v),h.innerText=_e.dragAndDropMessage();break}}}w||(h.innerText=_e.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=_e.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var i=t.substring(0,8),s=t.length,o=t.substring(s-8,s);t="".concat(i,"....").concat(o)}var h=_e.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=h},e.prototype.setInitialValueToButton=function(){var t=_e.fileSelectionChooseImage()+" - "+_e.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,i){var s=new e(t,n,i);return s},e}(),rN=function(){function e(t){this.selectElement=gs.createElement("select",Di.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var i=this.cameras.length;if(i===0)throw new Error("No cameras found");if(i===1)n.style.display="none";else{var s=_e.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var o=1,h=0,m=this.cameras;h<m.length;h++){var x=m[h],y=x.id,w=x.label==null?y:x.label;(!w||w==="")&&(w=[_e.anonymousCameraPrefix(),o++].join(" "));var T=document.createElement("option");T.value=y,T.innerText=w,this.options.push(T),this.selectElement.appendChild(T)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,i=this.options;n<i.length;n++){var s=i[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var i=new e(n);return i.render(t),i},e}(),sN=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=gs.createElement("input",Di.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var i=_e.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=_e.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,i,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=i.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var i=new e;return i.render(t,n),i},e}(),Ii;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ii||(Ii={}));function aN(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function oN(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var lN=function(){function e(t,n,i){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=i===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Vs(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new _3(this.verbose),this.persistedDataManager=new K8,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var i=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,h){if(t)t(o,h);else{if(i.lastMatchFound===o)return;i.lastMatchFound=o,i.setHeaderMessage(_e.lastMatch(o),Ii.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,h){n&&n(o,h)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new tx(this.getScanRegionId(),oN(this.config,this.verbose))},e.prototype.pause=function(t){(Rr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var i=document.getElementById(t.elementId);i&&(i.innerHTML="",t.resetBasicLayout(i))};return this.html5Qrcode?new Promise(function(i,s){if(!t.html5Qrcode){i();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(o){if(!t.html5Qrcode){i();return}t.html5Qrcode.clear(),n(),i()}).catch(function(o){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",o),s(o)}):(t.html5Qrcode.clear(),n(),i())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=dr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!dr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=dr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=dr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:dr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:dr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:dr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),i=this.getScanRegionId();n.id=i,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Vs.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),o=this.getDashboardId();s.id=o,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var i=new $8;i.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,i){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(_e.cameraPermissionRequesting());var o=function(){i||s.createPermissionButton(t,n)};tx.getCameras().then(function(h){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),h&&h.length>0?(t.removeChild(n),s.renderCameraSelection(h)):(s.setHeaderMessage(_e.noCameraFound(),Ii.STATUS_WARNING),o())}).catch(function(h){s.persistedDataManager.setHasPermission(!1),i?i.disabled=!1:o(),s.setHeaderMessage(h,Ii.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var i=this,s=gs.createElement("button",this.getCameraPermissionButtonId());s.innerText=_e.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,i.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var i=this;if(Vs.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){ix.hasPermissions().then(function(s){s?i.createCameraListUi(t,n):(i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n))}).catch(function(s){i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var i=document.createElement("div");i.id=this.getDashboardSectionCameraScanRegionId(),i.style.display=Vs.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(i);var s=document.createElement("div");s.style.textAlign="center",i.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(i,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Vs.isFileScanType(this.currentScanType),i=this,s=function(o){if(!i.html5Qrcode)throw"html5Qrcode not defined";Vs.isFileScanType(i.currentScanType)&&(i.setHeaderMessage(_e.loadingImage()),i.html5Qrcode.scanFileV2(o,!0).then(function(h){i.resetHeaderMessage(),i.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){i.setHeaderMessage(h,Ii.STATUS_WARNING),i.qrCodeErrorCallback(h,w3.createFrom(h))}))};this.fileSelectionUi=iN.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,i=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var o=sN.create(s,!1),h=function(q){var J=q.zoomFeature();if(J.isSupported()){o.setOnCameraZoomValueChangeCallback(function(O){J.apply(O)});var V=1;n.config.defaultZoomValueIfSupported&&(V=n.config.defaultZoomValueIfSupported),V=S8(V,J.min(),J.max()),o.setValues(J.min(),J.max(),V,J.step()),o.show()}},m=rN.create(s,t),x=document.createElement("span"),y=gs.createElement("button",Di.CAMERA_START_BUTTON_ID);y.innerText=_e.scanButtonStartScanningText(),x.appendChild(y);var w=gs.createElement("button",Di.CAMERA_STOP_BUTTON_ID);w.innerText=_e.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,x.appendChild(w);var T,v=function(q){if(!q.torchFeature().isSupported()){T&&T.hide();return}T?T.updateTorchCapability(q.torchFeature()):T=nN.create(x,q.torchFeature(),{display:"none",marginLeft:"5px"},function(J){i.setHeaderMessage(J,Ii.STATUS_WARNING)}),T.show()};s.appendChild(x);var I=function(q){q||(y.style.display="none"),y.innerText=_e.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,q&&(y.style.display="inline-block")};if(y.addEventListener("click",function(q){y.innerText=_e.scanButtonScanningStarting(),m.disable(),y.disabled=!0,y.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!1),i.resetHeaderMessage();var J=m.getValue();i.persistedDataManager.setLastUsedCameraId(J),i.html5Qrcode.start(J,aN(i.config),i.qrCodeSuccessCallback,i.qrCodeErrorCallback).then(function(V){w.disabled=!1,w.style.display="inline-block",I(!1);var O=i.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&v(O),n.config.showZoomSliderIfSupported===!0&&h(O)}).catch(function(V){i.showHideScanTypeSwapLink(!0),m.enable(),I(!0),i.setHeaderMessage(V,Ii.STATUS_WARNING)})}),m.hasSingleItem()&&y.click(),w.addEventListener("click",function(q){if(!i.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,i.html5Qrcode.stop().then(function(J){n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!0),m.enable(),y.disabled=!1,w.style.display="none",y.style.display="inline-block",T&&(T.reset(),T.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),i.insertCameraScanImageToScanRegion()}).catch(function(J){w.disabled=!1,i.setHeaderMessage(J,Ii.STATUS_WARNING)})}),i.persistedDataManager.getLastUsedCameraId()){var X=i.persistedDataManager.getLastUsedCameraId();m.hasValue(X)?(m.setValue(X),y.click()):i.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=_e.textIfCameraScanSelected(),i=_e.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var h=gs.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=Vs.isCameraScanType(this.currentScanType)?n:i,h.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Vs.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),h.innerText=i,t.currentScanType=Ta.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),h.innerText=n,t.currentScanType=Ta.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),o.appendChild(h),s.appendChild(o)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){ix.hasPermissions().then(function(i){if(i){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(i){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Ii.STATUS_DEFAULT);var i=this.getHeaderMessageDiv();switch(i.innerText=t,i.style.display="block",n){case Ii.STATUS_SUCCESS:i.style.background="rgba(106, 175, 80, 0.26)",i.style.color="#477735";break;case Ii.STATUS_WARNING:i.style.background="rgba(203, 36, 49, 0.14)",i.style.color="#cb2431";break;case Ii.STATUS_DEFAULT:default:i.style.background="rgba(0, 0, 0, 0)",i.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=X8,this.cameraScanImage.alt=_e.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Q8,this.fileScanImage.alt=_e.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Di.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Di.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),sx=e=>{const t=cN(e);return t.charAt(0).toUpperCase()+t.slice(1)},v3=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),hN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=Jt.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:h,...m},x)=>Jt.createElement("svg",{ref:x,...fN,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:v3("lucide",s),...!o&&!hN(m)&&{"aria-hidden":"true"},...m},[...h.map(([y,w])=>Jt.createElement(y,w)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=(e,t)=>{const n=Jt.forwardRef(({className:i,...s},o)=>Jt.createElement(dN,{ref:o,iconNode:t,className:v3(`lucide-${uN(sx(e))}`,`lucide-${e}`,i),...s}));return n.displayName=sx(e),n};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],mN=ti("camera",gN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],J1=ti("check",pN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],xN=ti("download",yN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],AN=ti("file-down",EN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Vh=ti("heart",wN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],$1=ti("message-square",_N);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],CN=ti("pen",TN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],SN=ti("plus",bN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],ax=ti("qr-code",vN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zm=ti("search",IN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jm=ti("trash-2",NN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],I3=ti("user-check",RN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],N3=ti("user-x",MN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Su=ti("users",DN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Go=ti("x",ON),R3=6048e5,LN=864e5,ox=Symbol.for("constructDateFrom");function Ca(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&ox in e?e[ox](t):e instanceof Date?new e.constructor(t):new Date(t)}function yr(e,t){return Ca(t||e,e)}let BN={};function Ad(){return BN}function xc(e,t){var m,x,y,w;const n=Ad(),i=(t==null?void 0:t.weekStartsOn)??((x=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((w=(y=n.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,s=yr(e,t==null?void 0:t.in),o=s.getDay(),h=(o<i?7:0)+o-i;return s.setDate(s.getDate()-h),s.setHours(0,0,0,0),s}function Lf(e,t){return xc(e,{...t,weekStartsOn:1})}function M3(e,t){const n=yr(e,t==null?void 0:t.in),i=n.getFullYear(),s=Ca(n,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const o=Lf(s),h=Ca(n,0);h.setFullYear(i,0,4),h.setHours(0,0,0,0);const m=Lf(h);return n.getTime()>=o.getTime()?i+1:n.getTime()>=m.getTime()?i:i-1}function lx(e){const t=yr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function PN(e,...t){const n=Ca.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function ux(e,t){const n=yr(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function kN(e,t,n){const[i,s]=PN(n==null?void 0:n.in,e,t),o=ux(i),h=ux(s),m=+o-lx(o),x=+h-lx(h);return Math.round((m-x)/LN)}function VN(e,t){const n=M3(e,t),i=Ca(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Lf(i)}function UN(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function FN(e){return!(!UN(e)&&typeof e!="number"||isNaN(+yr(e)))}function jN(e,t){const n=yr(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const zN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},HN=(e,t,n)=>{let i;const s=zN[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function dl(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const GN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XN={date:dl({formats:GN,defaultWidth:"full"}),time:dl({formats:YN,defaultWidth:"full"}),dateTime:dl({formats:qN,defaultWidth:"full"})},QN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WN=(e,t,n,i)=>QN[e];function Dr(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const h=e.defaultFormattingWidth||e.defaultWidth,m=n!=null&&n.width?String(n.width):h;s=e.formattingValues[m]||e.formattingValues[h]}else{const h=e.defaultWidth,m=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[m]||e.values[h]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const KN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$N={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nR=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},iR={ordinalNumber:nR,era:Dr({values:KN,defaultWidth:"wide"}),quarter:Dr({values:ZN,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Dr({values:JN,defaultWidth:"wide"}),day:Dr({values:$N,defaultWidth:"wide"}),dayPeriod:Dr({values:tR,defaultWidth:"wide",formattingValues:eR,defaultFormattingWidth:"wide"})};function Or(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const h=o[0],m=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],x=Array.isArray(m)?sR(m,T=>T.test(h)):rR(m,T=>T.test(h));let y;y=e.valueCallback?e.valueCallback(x):x,y=n.valueCallback?n.valueCallback(y):y;const w=t.slice(h.length);return{value:y,rest:w}}}function rR(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function sR(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function D3(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],o=t.match(e.parsePattern);if(!o)return null;let h=e.valueCallback?e.valueCallback(o[0]):o[0];h=n.valueCallback?n.valueCallback(h):h;const m=t.slice(s.length);return{value:h,rest:m}}}const aR=/^(\d+)(th|st|nd|rd)?/i,oR=/\d+/i,lR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uR={any:[/^b/i,/^(a|c)/i]},cR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hR={any:[/1/i,/2/i,/3/i,/4/i]},fR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xR={ordinalNumber:D3({matchPattern:aR,parsePattern:oR,valueCallback:e=>parseInt(e,10)}),era:Or({matchPatterns:lR,defaultMatchWidth:"wide",parsePatterns:uR,defaultParseWidth:"any"}),quarter:Or({matchPatterns:cR,defaultMatchWidth:"wide",parsePatterns:hR,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Or({matchPatterns:fR,defaultMatchWidth:"wide",parsePatterns:dR,defaultParseWidth:"any"}),day:Or({matchPatterns:gR,defaultMatchWidth:"wide",parsePatterns:mR,defaultParseWidth:"any"}),dayPeriod:Or({matchPatterns:pR,defaultMatchWidth:"any",parsePatterns:yR,defaultParseWidth:"any"})},ER={code:"en-US",formatDistance:HN,formatLong:XN,formatRelative:WN,localize:iR,match:xR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AR(e,t){const n=yr(e,t==null?void 0:t.in);return kN(n,jN(n))+1}function wR(e,t){const n=yr(e,t==null?void 0:t.in),i=+Lf(n)-+VN(n);return Math.round(i/R3)+1}function O3(e,t){var w,T,v,I;const n=yr(e,t==null?void 0:t.in),i=n.getFullYear(),s=Ad(),o=(t==null?void 0:t.firstWeekContainsDate)??((T=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:T.firstWeekContainsDate)??s.firstWeekContainsDate??((I=(v=s.locale)==null?void 0:v.options)==null?void 0:I.firstWeekContainsDate)??1,h=Ca((t==null?void 0:t.in)||e,0);h.setFullYear(i+1,0,o),h.setHours(0,0,0,0);const m=xc(h,t),x=Ca((t==null?void 0:t.in)||e,0);x.setFullYear(i,0,o),x.setHours(0,0,0,0);const y=xc(x,t);return+n>=+m?i+1:+n>=+y?i:i-1}function _R(e,t){var m,x,y,w;const n=Ad(),i=(t==null?void 0:t.firstWeekContainsDate)??((x=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??n.firstWeekContainsDate??((w=(y=n.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,s=O3(e,t),o=Ca((t==null?void 0:t.in)||e,0);return o.setFullYear(s,0,i),o.setHours(0,0,0,0),xc(o,t)}function TR(e,t){const n=yr(e,t==null?void 0:t.in),i=+xc(n,t)-+_R(n,t);return Math.round(i/R3)+1}function Ae(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const Us={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Ae(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ae(n+1,2)},d(e,t){return Ae(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ae(e.getHours()%12||12,t.length)},H(e,t){return Ae(e.getHours(),t.length)},m(e,t){return Ae(e.getMinutes(),t.length)},s(e,t){return Ae(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return Ae(s,t.length)}},Po={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cx={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return Us.y(e,t)},Y:function(e,t,n,i){const s=O3(e,i),o=s>0?s:1-s;if(t==="YY"){const h=o%100;return Ae(h,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ae(o,t.length)},R:function(e,t){const n=M3(e);return Ae(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ae(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Ae(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Ae(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return Us.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Ae(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const s=TR(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ae(s,t.length)},I:function(e,t,n){const i=wR(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Ae(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Us.d(e,t)},D:function(e,t,n){const i=AR(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ae(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const s=e.getDay(),o=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ae(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const s=e.getDay(),o=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ae(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return Ae(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let s;switch(i===12?s=Po.noon:i===0?s=Po.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let s;switch(i>=17?s=Po.evening:i>=12?s=Po.afternoon:i>=4?s=Po.morning:s=Po.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Us.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Us.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ae(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ae(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Us.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Us.s(e,t)},S:function(e,t){return Us.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return fx(i);case"XXXX":case"XX":return Qa(i);case"XXXXX":case"XXX":default:return Qa(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return fx(i);case"xxxx":case"xx":return Qa(i);case"xxxxx":case"xxx":default:return Qa(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hx(i,":");case"OOOO":default:return"GMT"+Qa(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hx(i,":");case"zzzz":default:return"GMT"+Qa(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return Ae(i,t.length)},T:function(e,t,n){return Ae(+e,t.length)}};function hx(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),o=i%60;return o===0?n+String(s):n+String(s)+t+Ae(o,2)}function fx(e,t){return e%60===0?(e>0?"-":"+")+Ae(Math.abs(e)/60,2):Qa(e,t)}function Qa(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Ae(Math.trunc(i/60),2),o=Ae(i%60,2);return n+s+t+o}const dx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},L3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},CR=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return dx(e,t);let o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",dx(i,t)).replace("{{time}}",L3(s,t))},bR={p:L3,P:CR},SR=/^D+$/,vR=/^Y+$/,IR=["D","DD","YY","YYYY"];function NR(e){return SR.test(e)}function RR(e){return vR.test(e)}function MR(e,t,n){const i=DR(e,t,n);if(console.warn(i),IR.includes(e))throw new RangeError(i)}function DR(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const OR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BR=/^'([^]*?)'?$/,PR=/''/g,kR=/[a-zA-Z]/;function Xu(e,t,n){var w,T,v,I,X,q,J,V;const i=Ad(),s=(n==null?void 0:n.locale)??i.locale??ER,o=(n==null?void 0:n.firstWeekContainsDate)??((T=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:T.firstWeekContainsDate)??i.firstWeekContainsDate??((I=(v=i.locale)==null?void 0:v.options)==null?void 0:I.firstWeekContainsDate)??1,h=(n==null?void 0:n.weekStartsOn)??((q=(X=n==null?void 0:n.locale)==null?void 0:X.options)==null?void 0:q.weekStartsOn)??i.weekStartsOn??((V=(J=i.locale)==null?void 0:J.options)==null?void 0:V.weekStartsOn)??0,m=yr(e,n==null?void 0:n.in);if(!FN(m))throw new RangeError("Invalid time value");let x=t.match(LR).map(O=>{const P=O[0];if(P==="p"||P==="P"){const j=bR[P];return j(O,s.formatLong)}return O}).join("").match(OR).map(O=>{if(O==="''")return{isToken:!1,value:"'"};const P=O[0];if(P==="'")return{isToken:!1,value:VR(O)};if(cx[P])return{isToken:!0,value:O};if(P.match(kR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:O}});s.localize.preprocessor&&(x=s.localize.preprocessor(m,x));const y={firstWeekContainsDate:o,weekStartsOn:h,locale:s};return x.map(O=>{if(!O.isToken)return O.value;const P=O.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&RR(P)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&NR(P))&&MR(P,t,String(e));const j=cx[P[0]];return j(m,P,s.localize,y)}).join("")}function VR(e){const t=e.match(BR);return t?t[1].replace(PR,"'"):e}const UR={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},FR=(e,t,n)=>{let i;const s=UR[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dalam waktu "+i:i+" yang lalu":i},jR={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},zR={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},HR={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GR={date:dl({formats:jR,defaultWidth:"full"}),time:dl({formats:zR,defaultWidth:"full"}),dateTime:dl({formats:HR,defaultWidth:"full"})},YR={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},qR=(e,t,n,i)=>YR[e],XR={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},QR={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},WR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},KR={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},ZR={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},JR={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},$R=(e,t)=>"ke-"+Number(e),t5={ordinalNumber:$R,era:Dr({values:XR,defaultWidth:"wide"}),quarter:Dr({values:QR,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Dr({values:WR,defaultWidth:"wide"}),day:Dr({values:KR,defaultWidth:"wide"}),dayPeriod:Dr({values:ZR,defaultWidth:"wide",formattingValues:JR,defaultFormattingWidth:"wide"})},e5=/^ke-(\d+)?/i,n5=/\d+/i,i5={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},r5={any:[/^s/i,/^(m|e)/i]},s5={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},a5={any:[/1/i,/2/i,/3/i,/4/i]},o5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},l5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},u5={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},c5={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},h5={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},f5={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},d5={ordinalNumber:D3({matchPattern:e5,parsePattern:n5,valueCallback:e=>parseInt(e,10)}),era:Or({matchPatterns:i5,defaultMatchWidth:"wide",parsePatterns:r5,defaultParseWidth:"any"}),quarter:Or({matchPatterns:s5,defaultMatchWidth:"wide",parsePatterns:a5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Or({matchPatterns:o5,defaultMatchWidth:"wide",parsePatterns:l5,defaultParseWidth:"any"}),day:Or({matchPatterns:u5,defaultMatchWidth:"wide",parsePatterns:c5,defaultParseWidth:"any"}),dayPeriod:Or({matchPatterns:h5,defaultMatchWidth:"any",parsePatterns:f5,defaultParseWidth:"any"})},Bf={code:"id",formatDistance:FR,formatLong:GR,formatRelative:qR,localize:t5,match:d5,options:{weekStartsOn:1,firstWeekContainsDate:1}};function g5({rsvpList:e,filteredRSVP:t,rsvpLoading:n,rsvpSearchTerm:i,setRsvpSearchTerm:s,rsvpFilterStatus:o,setRsvpFilterStatus:h,handleDeleteRSVP:m,exportRSVPtoCSV:x}){const y=e.length,w=e.filter(I=>I.attendance!=="0").length,T=e.filter(I=>I.attendance==="0").length,v=e.reduce((I,X)=>I+(X.guests||0),0);return L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[L.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-green-500",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total RSVP"}),L.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:y})]}),L.jsx("div",{className:"bg-green-100 p-4 rounded-full",children:L.jsx($1,{className:"w-8 h-8 text-green-600"})})]})}),L.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-500",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hadir"}),L.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:w})]}),L.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:L.jsx(I3,{className:"w-8 h-8 text-blue-600"})})]})}),L.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-orange-500",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tidak Hadir"}),L.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:T})]}),L.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:L.jsx(N3,{className:"w-8 h-8 text-orange-600"})})]})}),L.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-purple-500",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tamu"}),L.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:v})]}),L.jsx("div",{className:"bg-purple-100 p-4 rounded-full",children:L.jsx(Su,{className:"w-8 h-8 text-purple-600"})})]})})]}),L.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[L.jsxs("div",{className:"relative",children:[L.jsx(Zm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),L.jsx("input",{type:"text",placeholder:"Cari nama atau pesan...",value:i,onChange:I=>s(I.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),L.jsxs("select",{value:o,onChange:I=>h(I.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[L.jsx("option",{value:"all",children:"Semua Status"}),L.jsx("option",{value:"hadir",children:"Hadir"}),L.jsx("option",{value:"tidak-hadir",children:"Tidak Hadir"})]}),L.jsxs("button",{onClick:x,className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center justify-center space-x-2 transition-all shadow-lg hover:shadow-xl",children:[L.jsx(AN,{className:"w-5 h-5"}),L.jsx("span",{className:"font-semibold",children:"Export CSV"})]})]})}),L.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:n?L.jsxs("div",{className:"p-12 text-center",children:[L.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"}),L.jsx("p",{className:"mt-4 text-gray-600",children:"Memuat data RSVP..."})]}):t.length===0?L.jsxs("div",{className:"p-12 text-center",children:[L.jsx($1,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),L.jsx("p",{className:"text-gray-600 text-lg",children:"Belum ada RSVP"})]}):L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"w-full",children:[L.jsx("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Nama"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Jumlah Tamu"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Pesan"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Tanggal"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Aksi"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(I=>L.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[L.jsx("td",{className:"px-6 py-4",children:L.jsx("div",{className:"font-medium text-gray-900",children:I.name})}),L.jsx("td",{className:"px-6 py-4",children:L.jsx("span",{className:`inline-flex items-center space-x-1 px-3 py-1 text-xs font-semibold rounded-full ${I.attendance==="0"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:I.attendance==="0"?L.jsxs(L.Fragment,{children:[L.jsx(Go,{className:"w-3 h-3"}),L.jsx("span",{children:"Tidak Hadir"})]}):L.jsxs(L.Fragment,{children:[L.jsx(J1,{className:"w-3 h-3"}),L.jsx("span",{children:"Hadir"})]})})}),L.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[I.guests," orang"]}),L.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate",children:I.message||"-"}),L.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Xu(I.timestamp,"dd MMM yyyy HH:mm",{locale:Bf})}),L.jsx("td",{className:"px-6 py-4",children:L.jsx("button",{onClick:()=>m(I.id,I.name),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus",children:L.jsx(Jm,{className:"w-5 h-5"})})})]},I.id))})]})})})]})}function m5({wishList:e,filteredWishes:t,wishLoading:n,wishSearchTerm:i,setWishSearchTerm:s,handleDeleteWish:o}){const h=e.length;return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6 mb-8",children:L.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-purple-500",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Ucapan"}),L.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:h})]}),L.jsx("div",{className:"bg-purple-100 p-4 rounded-full",children:L.jsx(Vh,{className:"w-8 h-8 text-purple-600"})})]})})}),L.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:L.jsxs("div",{className:"relative",children:[L.jsx(Zm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),L.jsx("input",{type:"text",placeholder:"Cari nama atau ucapan...",value:i,onChange:m=>s(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),L.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:n?L.jsxs("div",{className:"p-12 text-center",children:[L.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),L.jsx("p",{className:"mt-4 text-gray-600",children:"Memuat ucapan..."})]}):t.length===0?L.jsxs("div",{className:"p-12 text-center",children:[L.jsx(Vh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),L.jsx("p",{className:"text-gray-600 text-lg",children:"Belum ada ucapan"})]}):L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(m=>L.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100 relative hover:shadow-md transition-shadow",children:[L.jsx("button",{onClick:()=>o(m.id,m.name),className:"absolute top-2 right-2 p-1 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Hapus",children:L.jsx(Jm,{className:"w-4 h-4"})}),L.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[L.jsx("div",{className:"bg-purple-200 p-2 rounded-full",children:L.jsx(Vh,{className:"w-4 h-4 text-purple-600"})}),L.jsxs("div",{className:"flex-1",children:[L.jsx("h4",{className:"font-semibold text-gray-900",children:m.name}),L.jsx("p",{className:"text-xs text-gray-500",children:Xu(m.timestamp,"dd MMM yyyy HH:mm",{locale:Bf})})]})]}),L.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:m.message})]},m.id))})})]})}const p5={apiKey:"AIzaSyDBgLYSMQetSTL1r8L9Xz9zbyMH-QvRnYc",authDomain:"aplikasi-tamu-undangan.firebaseapp.com",projectId:"aplikasi-tamu-undangan",storageBucket:"aplikasi-tamu-undangan.firebasestorage.app",messagingSenderId:"918722441585",appId:"1:918722441585:web:859591609b99df751e86d0",measurementId:"G-LXVPJ5GNG0"},y5=Cw(p5),Nr=w6(y5),gx="http://localhost:3000/invitation";function x5(){const[e,t]=Jt.useState("guests"),[n,i]=Jt.useState([]),[s,o]=Jt.useState([]),[h,m]=Jt.useState(""),[x,y]=Jt.useState("all"),[w,T]=Jt.useState("all"),[v,I]=Jt.useState(!1),[X,q]=Jt.useState(!1),[J,V]=Jt.useState(!1),[O,P]=Jt.useState(!1),[j,st]=Jt.useState(null),[at,M]=Jt.useState(!0),[D,R]=Jt.useState({name:"",email:"",phone:"",category:"Teman"}),[z,H]=Jt.useState([]),[G,F]=Jt.useState([]),[Gt,nt]=Jt.useState(!0),[ft,pt]=Jt.useState(""),[St,Yt]=Jt.useState("all"),[ie,zi]=Jt.useState([]),[Be,On]=Jt.useState([]),[pe,Yn]=Jt.useState(!0),[_t,Qr]=Jt.useState(""),Ce=async()=>{try{M(!0);const ot=y0(gh(Nr,"guests"),x0("createdAt","desc")),Ct=await B6(ot),Ee=[];Ct.forEach(Ot=>{var Lt;const ct=Ot.data();Ee.push({id:Ot.id,name:ct.name,email:ct.email,phone:ct.phone,category:ct.category,status:ct.status,qrCode:ct.qrCode,createdAt:ct.createdAt.toDate(),checkedInAt:(Lt=ct.checkedInAt)==null?void 0:Lt.toDate()})}),i(Ee),o(Ee)}catch(ot){console.error("Error loading guests:",ot),alert("Gagal memuat data tamu. Pastikan koneksi internet dan konfigurasi Firebase sudah benar.")}finally{M(!1)}},xr=()=>{try{nt(!0);const ot=y0(gh(Nr,"rsvp"),x0("timestamp","desc"));return Fy(ot,Ee=>{const Ot=[];Ee.forEach(ct=>{const Lt=ct.data();Ot.push({id:ct.id,name:Lt.name,attendance:Lt.attendance,guests:Lt.guests||0,message:Lt.message,guestId:Lt.guestId,timestamp:Lt.timestamp.toDate()})}),H(Ot),F(Ot),nt(!1)})}catch(ot){console.error("Error loading RSVP:",ot),nt(!1)}},Wr=()=>{try{Yn(!0);const ot=y0(gh(Nr,"wishes"),x0("timestamp","desc"));return Fy(ot,Ee=>{const Ot=[];Ee.forEach(ct=>{const Lt=ct.data();Ot.push({id:ct.id,name:Lt.name,message:Lt.message,timestamp:Lt.timestamp.toDate()})}),zi(Ot),On(Ot),Yn(!1)})}catch(ot){console.error("Error loading wishes:",ot),Yn(!1)}};Jt.useEffect(()=>{Ce(),xr(),Wr()},[]),Jt.useEffect(()=>{let ot=n;h&&(ot=ot.filter(Ct=>Ct.name.toLowerCase().includes(h.toLowerCase())||Ct.email.toLowerCase().includes(h.toLowerCase())||Ct.phone.includes(h))),x!=="all"&&(ot=ot.filter(Ct=>Ct.category===x)),w!=="all"&&(ot=ot.filter(Ct=>Ct.status===w)),o(ot)},[h,x,w,n]),Jt.useEffect(()=>{let ot=z;ft&&(ot=ot.filter(Ct=>Ct.name.toLowerCase().includes(ft.toLowerCase())||Ct.message.toLowerCase().includes(ft.toLowerCase()))),St!=="all"&&(St==="hadir"?ot=ot.filter(Ct=>Ct.attendance!=="0"):St==="tidak-hadir"&&(ot=ot.filter(Ct=>Ct.attendance==="0"))),F(ot)},[ft,St,z]),Jt.useEffect(()=>{let ot=ie;_t&&(ot=ot.filter(Ct=>Ct.name.toLowerCase().includes(_t.toLowerCase())||Ct.message.toLowerCase().includes(_t.toLowerCase()))),On(ot)},[_t,ie]);const Cn=async(ot,Ct)=>{try{const Ee=JSON.stringify({id:ot,name:Ct,timestamp:new Date().toISOString()});return await kc.toDataURL(Ee,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}})}catch(Ee){return console.error("Error generating QR code:",Ee),""}},Kr=async ot=>{if(ot.preventDefault(),!D.name||!D.email||!D.phone){alert("Mohon lengkapi semua data!");return}try{const Ct=await P6(gh(Nr,"guests"),{name:D.name,email:D.email,phone:D.phone,category:D.category,status:"belum-hadir",qrCode:"",createdAt:Ne.now()}),Ee=await Cn(Ct.id,D.name);await E0(Xa(Nr,"guests",Ct.id),{qrCode:Ee});const Ot=`${gx}/${Ct.id}`,ct=` Tamu berhasil ditambahkan!

 Nama: ${D.name}
 Email: ${D.email}

 URL Undangan:
${Ot}

 URL sudah di-copy ke clipboard!
Kirim URL ini ke ${D.name} via WhatsApp/Email.`;navigator.clipboard.writeText(Ot).then(()=>{alert(ct)}).catch(()=>{alert(ct+`

 Gagal copy otomatis, silakan copy manual.`)}),I(!1),R({name:"",email:"",phone:"",category:"Teman"}),Ce()}catch(Ct){console.error("Error adding guest:",Ct),alert(" Gagal menambahkan tamu. Silakan coba lagi.")}},qt=async ot=>{if(ot.preventDefault(),!!j)try{await E0(Xa(Nr,"guests",j.id),{name:D.name,email:D.email,phone:D.phone,category:D.category}),alert(" Data tamu berhasil diperbarui!"),q(!1),st(null),Ce()}catch(Ct){console.error("Error updating guest:",Ct),alert(" Gagal memperbarui data tamu.")}},ar=async(ot,Ct)=>{if(window.confirm(`Apakah Anda yakin ingin menghapus ${Ct}?`))try{await A0(Xa(Nr,"guests",ot)),alert(" Tamu berhasil dihapus!"),Ce()}catch(Ee){console.error("Error deleting guest:",Ee),alert(" Gagal menghapus tamu.")}},ei=async ot=>{try{await E0(Xa(Nr,"guests",ot),{status:"sudah-hadir",checkedInAt:Ne.now()}),alert(" Tamu berhasil check-in!"),Ce(),V(!1),P(!1)}catch(Ct){console.error("Error checking in guest:",Ct),alert(" Gagal melakukan check-in.")}},or=ot=>{const Ct=document.createElement("a");Ct.download=`QR-${ot.name.replace(/\s+/g,"-")}.png`,Ct.href=ot.qrCode,Ct.click()},Ye=ot=>{st(ot),R({name:ot.name,email:ot.email,phone:ot.phone,category:ot.category}),q(!0)},he=ot=>{st(ot),V(!0)},[It,qe]=Jt.useState(null),Et=()=>{P(!0)};Jt.useEffect(()=>{O&&!It&&setTimeout(()=>{const ot=new lN("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0},!1);ot.render(Ct=>{try{const Ee=JSON.parse(Ct),Ot=n.find(ct=>ct.id===Ee.id);Ot?ot.clear().then(()=>{qe(null),st(Ot),V(!0),P(!1)}):alert(" Tamu tidak ditemukan!")}catch{alert(" QR Code tidak valid!")}},Ct=>{}),qe(ot)},300)},[O,It,n]);const vs=async(ot,Ct)=>{if(window.confirm(`Apakah Anda yakin ingin menghapus RSVP dari ${Ct}?`))try{await A0(Xa(Nr,"rsvp",ot)),alert(" RSVP berhasil dihapus!")}catch(Ee){console.error("Error deleting RSVP:",Ee),alert(" Gagal menghapus RSVP.")}},Ma=async(ot,Ct)=>{if(window.confirm(`Apakah Anda yakin ingin menghapus ucapan dari ${Ct}?`))try{await A0(Xa(Nr,"wishes",ot)),alert(" Ucapan berhasil dihapus!")}catch(Ee){console.error("Error deleting wish:",Ee),alert(" Gagal menghapus ucapan.")}},yi=()=>{const ot=["Nama","Status Kehadiran","Jumlah Tamu","Pesan","Tanggal"],Ct=G.map(Lt=>[Lt.name,Lt.attendance==="0"?"Tidak Hadir":`Hadir (${Lt.guests} orang)`,Lt.guests,Lt.message,Xu(Lt.timestamp,"dd MMM yyyy HH:mm",{locale:Bf})]),Ee=[ot.join(","),...Ct.map(Lt=>Lt.map(Xt=>`"${Xt}"`).join(","))].join(`
`),Ot=new Blob([Ee],{type:"text/csv;charset=utf-8;"}),ct=document.createElement("a");ct.href=URL.createObjectURL(Ot),ct.download=`RSVP_${Xu(new Date,"yyyy-MM-dd")}.csv`,ct.click()},xi=n.length,Ln=n.filter(ot=>ot.status==="sudah-hadir").length,Da=xi-Ln,ni=z.length,xn=ie.length;return L.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[L.jsx("header",{className:"bg-white shadow-md border-b-4 border-blue-500",children:L.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center space-x-3",children:[L.jsx("div",{className:"bg-blue-500 p-3 rounded-lg",children:L.jsx(Su,{className:"w-8 h-8 text-white"})}),L.jsxs("div",{children:[L.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manajemen Tamu Undangan"}),L.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Kelola tamu dengan mudah dan modern"})]})]}),L.jsxs("div",{className:"flex space-x-3",children:[L.jsxs("button",{onClick:()=>I(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 transition-all shadow-lg hover:shadow-xl",children:[L.jsx(SN,{className:"w-5 h-5"}),L.jsx("span",{className:"font-semibold",children:"Tambah Tamu"})]}),L.jsxs("button",{onClick:Et,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 transition-all shadow-lg hover:shadow-xl",children:[L.jsx(mN,{className:"w-5 h-5"}),L.jsx("span",{className:"font-semibold",children:"Scan QR"})]})]})]})})}),L.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[L.jsx("div",{className:"bg-white rounded-xl shadow-md mb-6 p-2",children:L.jsxs("div",{className:"flex space-x-2",children:[L.jsx("button",{onClick:()=>t("guests"),className:`flex-1 px-6 py-3 rounded-lg font-semibold transition-all ${e==="guests"?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:L.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[L.jsx(Su,{className:"w-5 h-5"}),L.jsxs("span",{children:["Tamu (",xi,")"]})]})}),L.jsx("button",{onClick:()=>t("rsvp"),className:`flex-1 px-6 py-3 rounded-lg font-semibold transition-all ${e==="rsvp"?"bg-green-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:L.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[L.jsx($1,{className:"w-5 h-5"}),L.jsxs("span",{children:["RSVP (",ni,")"]})]})}),L.jsx("button",{onClick:()=>t("wishes"),className:`flex-1 px-6 py-3 rounded-lg font-semibold transition-all ${e==="wishes"?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:L.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[L.jsx(Vh,{className:"w-5 h-5"}),L.jsxs("span",{children:["Ucapan (",xn,")"]})]})})]})}),e==="guests"&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[L.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-500",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tamu"}),L.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:xi})]}),L.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:L.jsx(Su,{className:"w-8 h-8 text-blue-600"})})]})}),L.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-green-500",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sudah Hadir"}),L.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:Ln})]}),L.jsx("div",{className:"bg-green-100 p-4 rounded-full",children:L.jsx(I3,{className:"w-8 h-8 text-green-600"})})]})}),L.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-orange-500",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Belum Hadir"}),L.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:Da})]}),L.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:L.jsx(N3,{className:"w-8 h-8 text-orange-600"})})]})})]}),L.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[L.jsxs("div",{className:"relative",children:[L.jsx(Zm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),L.jsx("input",{type:"text",placeholder:"Cari nama, email, atau telepon...",value:h,onChange:ot=>m(ot.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),L.jsxs("select",{value:x,onChange:ot=>y(ot.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[L.jsx("option",{value:"all",children:"Semua Kategori"}),L.jsx("option",{value:"VIP",children:"VIP"}),L.jsx("option",{value:"Keluarga",children:"Keluarga"}),L.jsx("option",{value:"Teman",children:"Teman"}),L.jsx("option",{value:"Rekan Kerja",children:"Rekan Kerja"})]}),L.jsxs("select",{value:w,onChange:ot=>T(ot.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[L.jsx("option",{value:"all",children:"Semua Status"}),L.jsx("option",{value:"belum-hadir",children:"Belum Hadir"}),L.jsx("option",{value:"sudah-hadir",children:"Sudah Hadir"})]})]})}),L.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:at?L.jsxs("div",{className:"p-12 text-center",children:[L.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),L.jsx("p",{className:"mt-4 text-gray-600",children:"Memuat data tamu..."})]}):s.length===0?L.jsxs("div",{className:"p-12 text-center",children:[L.jsx(Su,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),L.jsx("p",{className:"text-gray-600 text-lg",children:"Belum ada tamu yang terdaftar"}),L.jsx("button",{onClick:()=>I(!0),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"Tambah Tamu Pertama"})]}):L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"w-full",children:[L.jsx("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Nama"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Telepon"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Kategori"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Aksi"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(ot=>L.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[L.jsxs("td",{className:"px-6 py-4",children:[L.jsx("div",{className:"font-medium text-gray-900",children:ot.name}),L.jsx("div",{className:"text-sm text-gray-500",children:Xu(ot.createdAt,"dd MMM yyyy",{locale:Bf})})]}),L.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ot.email}),L.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ot.phone}),L.jsx("td",{className:"px-6 py-4",children:L.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${ot.category==="VIP"?"bg-purple-100 text-purple-800":ot.category==="Keluarga"?"bg-blue-100 text-blue-800":ot.category==="Teman"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:ot.category})}),L.jsx("td",{className:"px-6 py-4",children:L.jsx("span",{className:`inline-flex items-center space-x-1 px-3 py-1 text-xs font-semibold rounded-full ${ot.status==="sudah-hadir"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ot.status==="sudah-hadir"?L.jsxs(L.Fragment,{children:[L.jsx(J1,{className:"w-3 h-3"}),L.jsx("span",{children:"Sudah Hadir"})]}):L.jsxs(L.Fragment,{children:[L.jsx(Go,{className:"w-3 h-3"}),L.jsx("span",{children:"Belum Hadir"})]})})}),L.jsx("td",{className:"px-6 py-4",children:L.jsxs("div",{className:"flex space-x-2",children:[L.jsx("button",{onClick:()=>he(ot),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Lihat QR Code",children:L.jsx(ax,{className:"w-5 h-5"})}),L.jsx("button",{onClick:()=>Ye(ot),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:L.jsx(CN,{className:"w-5 h-5"})}),L.jsx("button",{onClick:()=>ar(ot.id,ot.name),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus",children:L.jsx(Jm,{className:"w-5 h-5"})})]})})]},ot.id))})]})})})]}),e==="rsvp"&&L.jsx(g5,{rsvpList:z,filteredRSVP:G,rsvpLoading:Gt,rsvpSearchTerm:ft,setRsvpSearchTerm:pt,rsvpFilterStatus:St,setRsvpFilterStatus:Yt,handleDeleteRSVP:vs,exportRSVPtoCSV:yi}),e==="wishes"&&L.jsx(m5,{wishList:ie,filteredWishes:Be,wishLoading:pe,wishSearchTerm:_t,setWishSearchTerm:Qr,handleDeleteWish:Ma})]}),v&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:L.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[L.jsxs("div",{className:"flex items-center justify-between mb-6",children:[L.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tambah Tamu Baru"}),L.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600",children:L.jsx(Go,{className:"w-6 h-6"})})]}),L.jsxs("form",{onSubmit:Kr,className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Lengkap"}),L.jsx("input",{type:"text",value:D.name,onChange:ot=>R({...D,name:ot.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Contoh: John Doe",required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),L.jsx("input",{type:"email",value:D.email,onChange:ot=>R({...D,email:ot.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Contoh: john@email.com",required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"No. Telepon"}),L.jsx("input",{type:"tel",value:D.phone,onChange:ot=>R({...D,phone:ot.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Contoh: 08123456789",required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori"}),L.jsxs("select",{value:D.category,onChange:ot=>R({...D,category:ot.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[L.jsx("option",{value:"VIP",children:"VIP"}),L.jsx("option",{value:"Keluarga",children:"Keluarga"}),L.jsx("option",{value:"Teman",children:"Teman"}),L.jsx("option",{value:"Rekan Kerja",children:"Rekan Kerja"})]})]}),L.jsxs("div",{className:"flex space-x-3 pt-4",children:[L.jsx("button",{type:"button",onClick:()=>I(!1),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Batal"}),L.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow-lg",children:"Tambah Tamu"})]})]})]})}),X&&j&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:L.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[L.jsxs("div",{className:"flex items-center justify-between mb-6",children:[L.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Data Tamu"}),L.jsx("button",{onClick:()=>q(!1),className:"text-gray-400 hover:text-gray-600",children:L.jsx(Go,{className:"w-6 h-6"})})]}),L.jsxs("form",{onSubmit:qt,className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Lengkap"}),L.jsx("input",{type:"text",value:D.name,onChange:ot=>R({...D,name:ot.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),L.jsx("input",{type:"email",value:D.email,onChange:ot=>R({...D,email:ot.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"No. Telepon"}),L.jsx("input",{type:"tel",value:D.phone,onChange:ot=>R({...D,phone:ot.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori"}),L.jsxs("select",{value:D.category,onChange:ot=>R({...D,category:ot.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[L.jsx("option",{value:"VIP",children:"VIP"}),L.jsx("option",{value:"Keluarga",children:"Keluarga"}),L.jsx("option",{value:"Teman",children:"Teman"}),L.jsx("option",{value:"Rekan Kerja",children:"Rekan Kerja"})]})]}),L.jsxs("div",{className:"flex space-x-3 pt-4",children:[L.jsx("button",{type:"button",onClick:()=>q(!1),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Batal"}),L.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium shadow-lg",children:"Simpan Perubahan"})]})]})]})}),J&&j&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:L.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[L.jsxs("div",{className:"flex items-center justify-between mb-6",children:[L.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"QR Code Tamu"}),L.jsx("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-gray-600",children:L.jsx(Go,{className:"w-6 h-6"})})]}),L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"bg-gray-50 p-6 rounded-lg mb-4",children:L.jsx("img",{src:j.qrCode,alt:"QR Code untuk tamu undangan",className:"w-64 h-64 mx-auto"})}),L.jsxs("div",{className:"mb-4",children:[L.jsx("h3",{className:"text-xl font-bold text-gray-900",children:j.name}),L.jsx("p",{className:"text-gray-600",children:j.email}),L.jsx("p",{className:"text-gray-600",children:j.phone}),L.jsx("span",{className:`inline-block mt-2 px-3 py-1 text-sm font-semibold rounded-full ${j.status==="sudah-hadir"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:j.status==="sudah-hadir"?"Sudah Hadir":"Belum Hadir"})]}),L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex space-x-3",children:[L.jsxs("button",{onClick:()=>or(j),className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center justify-center space-x-2 font-medium",children:[L.jsx(xN,{className:"w-5 h-5"}),L.jsx("span",{children:"Download QR"})]}),j.status==="belum-hadir"&&L.jsxs("button",{onClick:()=>ei(j.id),className:"flex-1 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center justify-center space-x-2 font-medium",children:[L.jsx(J1,{className:"w-5 h-5"}),L.jsx("span",{children:"Check In"})]})]}),L.jsxs("button",{onClick:()=>{const ot=`${gx}/${j.id}`;navigator.clipboard.writeText(ot).then(()=>{alert(` URL Undangan berhasil di-copy!

${ot}

Kirim URL ini ke ${j.name} via WhatsApp/Email.`)}).catch(()=>{alert(` Copy URL ini:

${ot}`)})},className:"w-full px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg flex items-center justify-center space-x-2 font-medium",children:[L.jsx(ax,{className:"w-5 h-5"}),L.jsx("span",{children:"Copy URL Undangan"})]})]})]})]})}),O&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:L.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full p-6",children:[L.jsxs("div",{className:"flex items-center justify-between mb-6",children:[L.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Scan QR Code"}),L.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:L.jsx(Go,{className:"w-6 h-6"})})]}),L.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:L.jsx("div",{id:"qr-reader",className:"w-full"})}),L.jsx("p",{className:"text-center text-gray-600 mt-4 text-sm",children:"Arahkan kamera ke QR Code tamu untuk melakukan check-in"})]})})]})}const E5=Fb.createRoot(document.getElementById("root"));E5.render(L.jsx(aT.StrictMode,{children:L.jsx(x5,{})}));
